function w1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function S1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iv={exports:{}},ra={},sv={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=Symbol.for("react.element"),C1=Symbol.for("react.portal"),E1=Symbol.for("react.fragment"),k1=Symbol.for("react.strict_mode"),b1=Symbol.for("react.profiler"),T1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),P1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),R1=Symbol.for("react.memo"),A1=Symbol.for("react.lazy"),Df=Symbol.iterator;function j1(e){return e===null||typeof e!="object"?null:(e=Df&&e[Df]||e["@@iterator"],typeof e=="function"?e:null)}var ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lv=Object.assign,av={};function Ci(e,t,n){this.props=e,this.context=t,this.refs=av,this.updater=n||ov}Ci.prototype.isReactComponent={};Ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uv(){}uv.prototype=Ci.prototype;function Td(e,t,n){this.props=e,this.context=t,this.refs=av,this.updater=n||ov}var Nd=Td.prototype=new uv;Nd.constructor=Td;lv(Nd,Ci.prototype);Nd.isPureReactComponent=!0;var Mf=Array.isArray,cv=Object.prototype.hasOwnProperty,Pd={current:null},dv={key:!0,ref:!0,__self:!0,__source:!0};function hv(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)cv.call(t,r)&&!dv.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Js,type:e,key:s,ref:o,props:i,_owner:Pd.current}}function D1(e,t){return{$$typeof:Js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===Js}function M1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function $a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M1(""+e.key):t.toString(36)}function Uo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Js:case C1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$a(o,0):r,Mf(i)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),Uo(i,t,n,"",function(u){return u})):i!=null&&(Id(i)&&(i=D1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Mf(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+$a(s,l);o+=Uo(s,t,n,a,i)}else if(a=j1(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+$a(s,l++),o+=Uo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yo(e,t,n){if(e==null)return e;var r=[],i=0;return Uo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function L1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Wo={transition:null},O1={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Pd};function fv(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:yo,forEach:function(e,t,n){yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yo(e,function(){t++}),t},toArray:function(e){return yo(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Ci;$.Fragment=E1;$.Profiler=b1;$.PureComponent=Td;$.StrictMode=k1;$.Suspense=I1;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O1;$.act=fv;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lv({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Pd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)cv.call(t,a)&&!dv.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Js,type:e.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:N1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T1,_context:e},e.Consumer=e};$.createElement=hv;$.createFactory=function(e){var t=hv.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:P1,render:e}};$.isValidElement=Id;$.lazy=function(e){return{$$typeof:A1,_payload:{_status:-1,_result:e},_init:L1}};$.memo=function(e,t){return{$$typeof:R1,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};$.unstable_act=fv;$.useCallback=function(e,t){return Qe.current.useCallback(e,t)};$.useContext=function(e){return Qe.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};$.useEffect=function(e,t){return Qe.current.useEffect(e,t)};$.useId=function(){return Qe.current.useId()};$.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Qe.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};$.useRef=function(e){return Qe.current.useRef(e)};$.useState=function(e){return Qe.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Qe.current.useTransition()};$.version="18.3.1";sv.exports=$;var _=sv.exports;const ia=S1(_),F1=w1({__proto__:null,default:ia},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=_,z1=Symbol.for("react.element"),B1=Symbol.for("react.fragment"),U1=Object.prototype.hasOwnProperty,W1=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H1={key:!0,ref:!0,__self:!0,__source:!0};function pv(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)U1.call(t,r)&&!H1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:z1,type:e,key:s,ref:o,props:i,_owner:W1.current}}ra.Fragment=B1;ra.jsx=pv;ra.jsxs=pv;iv.exports=ra;var h=iv.exports,Hu={},mv={exports:{}},ht={},gv={exports:{}},vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var V=R.length;R.push(M);e:for(;0<V;){var F=V-1>>>1,te=R[F];if(0<i(te,M))R[F]=M,R[V]=te,V=F;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],V=R.pop();if(V!==M){R[0]=V;e:for(var F=0,te=R.length,$t=te>>>1;F<$t;){var pt=2*(F+1)-1,dn=R[pt],He=pt+1,Gt=R[He];if(0>i(dn,V))He<te&&0>i(Gt,dn)?(R[F]=Gt,R[He]=V,F=He):(R[F]=dn,R[pt]=V,F=pt);else if(He<te&&0>i(Gt,V))R[F]=Gt,R[He]=V,F=He;else break e}}return M}function i(R,M){var V=R.sortIndex-M.sortIndex;return V!==0?V:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,f=3,p=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=R)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function w(R){if(x=!1,g(R),!v)if(n(a)!==null)v=!0,X(C);else{var M=n(u);M!==null&&Ze(w,M.startTime-R)}}function C(R,M){v=!1,x&&(x=!1,y(k),k=-1),p=!0;var V=f;try{for(g(M),c=n(a);c!==null&&(!(c.expirationTime>M)||R&&!Y());){var F=c.callback;if(typeof F=="function"){c.callback=null,f=c.priorityLevel;var te=F(c.expirationTime<=M);M=e.unstable_now(),typeof te=="function"?c.callback=te:c===n(a)&&r(a),g(M)}else r(a);c=n(a)}if(c!==null)var $t=!0;else{var pt=n(u);pt!==null&&Ze(w,pt.startTime-M),$t=!1}return $t}finally{c=null,f=V,p=!1}}var E=!1,b=null,k=-1,D=5,I=-1;function Y(){return!(e.unstable_now()-I<D)}function ce(){if(b!==null){var R=e.unstable_now();I=R;var M=!0;try{M=b(!0,R)}finally{M?be():(E=!1,b=null)}}else E=!1}var be;if(typeof m=="function")be=function(){m(ce)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Te=ae.port2;ae.port1.onmessage=ce,be=function(){Te.postMessage(null)}}else be=function(){S(ce,0)};function X(R){b=R,E||(E=!0,be())}function Ze(R,M){k=S(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,X(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var V=f;f=M;try{return R()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return M()}finally{f=V}},e.unstable_scheduleCallback=function(R,M,V){var F=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,R={id:d++,callback:M,priorityLevel:R,startTime:V,expirationTime:te,sortIndex:-1},V>F?(R.sortIndex=V,t(u,R),n(a)===null&&R===n(u)&&(x?(y(k),k=-1):x=!0,Ze(w,V-F))):(R.sortIndex=te,t(a,R),v||p||(v=!0,X(C))),R},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(R){var M=f;return function(){var V=f;f=M;try{return R.apply(this,arguments)}finally{f=V}}}})(vv);gv.exports=vv;var $1=gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=_,ct=$1;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yv=new Set,Ss={};function Er(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(Ss[e]=t,e=0;e<t.length;e++)yv.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=Object.prototype.hasOwnProperty,K1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Of={},Ff={};function Y1(e){return $u.call(Ff,e)?!0:$u.call(Of,e)?!1:K1.test(e)?Ff[e]=!0:(Of[e]=!0,!1)}function q1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q1(e,t,n,r){if(t===null||typeof t>"u"||q1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rd=/[\-:]([a-z])/g;function Ad(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rd,Ad);Fe[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rd,Ad);Fe[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rd,Ad);Fe[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function jd(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q1(t,n,i,r)&&(n=null),r||i===null?Y1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=G1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Yu=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),Vf=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=Vf&&e[Vf]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Ga;function Xi(e){if(Ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var Ka=!1;function Ya(e,t){if(!e||Ka)return"";Ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ka=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xi(e):""}function X1(e){switch(e.tag){case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return e=Ya(e.type,!1),e;case 11:return e=Ya(e.type.render,!1),e;case 1:return e=Ya(e.type,!0),e;default:return""}}function qu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mr:return"Fragment";case Dr:return"Portal";case Gu:return"Profiler";case Dd:return"StrictMode";case Ku:return"Suspense";case Yu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _v:return(e.displayName||"Context")+".Consumer";case xv:return(e._context.displayName||"Context")+".Provider";case Md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ld:return t=e.displayName||null,t!==null?t:qu(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return qu(e(t))}catch{}}return null}function Z1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qu(t);case 8:return t===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J1(e){var t=Sv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=J1(e))}function Cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qu(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ev(e,t){t=t.checked,t!=null&&jd(e,"checked",t,!1)}function Xu(e,t){Ev(e,t);var n=Fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zu(e,t.type,Fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zu(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zi=Array.isArray;function Zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ju(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Zi(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Fn(n)}}function kv(e,t){var n=Fn(t.value),r=Fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ec(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wo,Tv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ew=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){ew.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function Nv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function Pv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tw=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tc(e,t){if(t){if(tw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function nc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=null;function Od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ic=null,Jr=null,ei=null;function Hf(e){if(e=no(e)){if(typeof ic!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ua(t),ic(e.stateNode,e.type,t))}}function Iv(e){Jr?ei?ei.push(e):ei=[e]:Jr=e}function Rv(){if(Jr){var e=Jr,t=ei;if(ei=Jr=null,Hf(e),t)for(e=0;e<t.length;e++)Hf(t[e])}}function Av(e,t){return e(t)}function jv(){}var qa=!1;function Dv(e,t,n){if(qa)return e(t,n);qa=!0;try{return Av(e,t,n)}finally{qa=!1,(Jr!==null||ei!==null)&&(jv(),Rv())}}function Es(e,t){var n=e.stateNode;if(n===null)return null;var r=ua(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var sc=!1;if(rn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{sc=!1}function nw(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var rs=!1,ll=null,al=!1,oc=null,rw={onError:function(e){rs=!0,ll=e}};function iw(e,t,n,r,i,s,o,l,a){rs=!1,ll=null,nw.apply(rw,arguments)}function sw(e,t,n,r,i,s,o,l,a){if(iw.apply(this,arguments),rs){if(rs){var u=ll;rs=!1,ll=null}else throw Error(T(198));al||(al=!0,oc=u)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $f(e){if(kr(e)!==e)throw Error(T(188))}function ow(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $f(i),e;if(s===r)return $f(i),t;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Lv(e){return e=ow(e),e!==null?Ov(e):null}function Ov(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ov(e);if(t!==null)return t;e=e.sibling}return null}var Fv=ct.unstable_scheduleCallback,Gf=ct.unstable_cancelCallback,lw=ct.unstable_shouldYield,aw=ct.unstable_requestPaint,_e=ct.unstable_now,uw=ct.unstable_getCurrentPriorityLevel,Fd=ct.unstable_ImmediatePriority,Vv=ct.unstable_UserBlockingPriority,ul=ct.unstable_NormalPriority,cw=ct.unstable_LowPriority,zv=ct.unstable_IdlePriority,sa=null,Bt=null;function dw(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:pw,hw=Math.log,fw=Math.LN2;function pw(e){return e>>>=0,e===0?32:31-(hw(e)/fw|0)|0}var So=64,Co=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ji(l):(s&=o,s!==0&&(r=Ji(s)))}else o=n&~i,o!==0?r=Ji(o):s!==0&&(r=Ji(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rt(t),i=1<<n,r|=e[n],t&=~i;return r}function mw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Rt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=mw(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function lc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bv(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function Qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function vw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Rt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Vd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function Uv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wv,zd,Hv,$v,Gv,ac=!1,Eo=[],kn=null,bn=null,Tn=null,ks=new Map,bs=new Map,xn=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Li(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=no(t),t!==null&&zd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xw(e,t,n,r,i){switch(t){case"focusin":return kn=Li(kn,e,t,n,r,i),!0;case"dragenter":return bn=Li(bn,e,t,n,r,i),!0;case"mouseover":return Tn=Li(Tn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ks.set(s,Li(ks.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bs.set(s,Li(bs.get(s)||null,e,t,n,r,i)),!0}return!1}function Kv(e){var t=lr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Mv(n),t!==null){e.blockedOn=t,Gv(e.priority,function(){Hv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rc=r,n.target.dispatchEvent(r),rc=null}else return t=no(n),t!==null&&zd(t),e.blockedOn=n,!1;t.shift()}return!0}function Yf(e,t,n){Ho(e)&&n.delete(t)}function _w(){ac=!1,kn!==null&&Ho(kn)&&(kn=null),bn!==null&&Ho(bn)&&(bn=null),Tn!==null&&Ho(Tn)&&(Tn=null),ks.forEach(Yf),bs.forEach(Yf)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,ac||(ac=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,_w)))}function Ts(e){function t(i){return Oi(i,e)}if(0<Eo.length){Oi(Eo[0],e);for(var n=1;n<Eo.length;n++){var r=Eo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kn!==null&&Oi(kn,e),bn!==null&&Oi(bn,e),Tn!==null&&Oi(Tn,e),ks.forEach(t),bs.forEach(t),n=0;n<xn.length;n++)r=xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)Kv(n),n.blockedOn===null&&xn.shift()}var ti=cn.ReactCurrentBatchConfig,dl=!0;function ww(e,t,n,r){var i=J,s=ti.transition;ti.transition=null;try{J=1,Bd(e,t,n,r)}finally{J=i,ti.transition=s}}function Sw(e,t,n,r){var i=J,s=ti.transition;ti.transition=null;try{J=4,Bd(e,t,n,r)}finally{J=i,ti.transition=s}}function Bd(e,t,n,r){if(dl){var i=uc(e,t,n,r);if(i===null)ou(e,t,r,hl,n),Kf(e,r);else if(xw(i,e,t,n,r))r.stopPropagation();else if(Kf(e,r),t&4&&-1<yw.indexOf(e)){for(;i!==null;){var s=no(i);if(s!==null&&Wv(s),s=uc(e,t,n,r),s===null&&ou(e,t,r,hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ou(e,t,r,null,n)}}var hl=null;function uc(e,t,n,r){if(hl=null,e=Od(r),e=lr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function Yv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uw()){case Fd:return 1;case Vv:return 4;case ul:case cw:return 16;case zv:return 536870912;default:return 16}default:return 16}}var wn=null,Ud=null,$o=null;function qv(){if($o)return $o;var e,t=Ud,n=t.length,r,i="value"in wn?wn.value:wn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $o=i.slice(e,1<r?1-r:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function qf(){return!1}function ft(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ko:qf,this.isPropagationStopped=qf,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=ft(Ei),to=pe({},Ei,{view:0,detail:0}),Cw=ft(to),Xa,Za,Fi,oa=pe({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(Xa=e.screenX-Fi.screenX,Za=e.screenY-Fi.screenY):Za=Xa=0,Fi=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Qf=ft(oa),Ew=pe({},oa,{dataTransfer:0}),kw=ft(Ew),bw=pe({},to,{relatedTarget:0}),Ja=ft(bw),Tw=pe({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Nw=ft(Tw),Pw=pe({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iw=ft(Pw),Rw=pe({},Ei,{data:0}),Xf=ft(Rw),Aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dw[e])?!!t[e]:!1}function Hd(){return Mw}var Lw=pe({},to,{key:function(e){if(e.key){var t=Aw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ow=ft(Lw),Fw=pe({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=ft(Fw),Vw=pe({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),zw=ft(Vw),Bw=pe({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uw=ft(Bw),Ww=pe({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hw=ft(Ww),$w=[9,13,27,32],$d=rn&&"CompositionEvent"in window,is=null;rn&&"documentMode"in document&&(is=document.documentMode);var Gw=rn&&"TextEvent"in window&&!is,Qv=rn&&(!$d||is&&8<is&&11>=is),Jf=" ",ep=!1;function Xv(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function Kw(e,t){switch(e){case"compositionend":return Zv(t);case"keypress":return t.which!==32?null:(ep=!0,Jf);case"textInput":return e=t.data,e===Jf&&ep?null:e;default:return null}}function Yw(e,t){if(Lr)return e==="compositionend"||!$d&&Xv(e,t)?(e=qv(),$o=Ud=wn=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qv&&t.locale!=="ko"?null:t.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qw[e.type]:t==="textarea"}function Jv(e,t,n,r){Iv(r),t=fl(t,"onChange"),0<t.length&&(n=new Wd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ss=null,Ns=null;function Qw(e){cy(e,0)}function la(e){var t=Vr(e);if(Cv(t))return e}function Xw(e,t){if(e==="change")return t}var ey=!1;if(rn){var eu;if(rn){var tu="oninput"in document;if(!tu){var np=document.createElement("div");np.setAttribute("oninput","return;"),tu=typeof np.oninput=="function"}eu=tu}else eu=!1;ey=eu&&(!document.documentMode||9<document.documentMode)}function rp(){ss&&(ss.detachEvent("onpropertychange",ty),Ns=ss=null)}function ty(e){if(e.propertyName==="value"&&la(Ns)){var t=[];Jv(t,Ns,e,Od(e)),Dv(Qw,t)}}function Zw(e,t,n){e==="focusin"?(rp(),ss=t,Ns=n,ss.attachEvent("onpropertychange",ty)):e==="focusout"&&rp()}function Jw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return la(Ns)}function eS(e,t){if(e==="click")return la(t)}function tS(e,t){if(e==="input"||e==="change")return la(t)}function nS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:nS;function Ps(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$u.call(t,i)||!Dt(e[i],t[i]))return!1}return!0}function ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sp(e,t){var n=ip(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ip(n)}}function ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ry(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rS(e){var t=ry(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ny(n.ownerDocument.documentElement,n)){if(r!==null&&Gd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=sp(n,s);var o=sp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iS=rn&&"documentMode"in document&&11>=document.documentMode,Or=null,cc=null,os=null,dc=!1;function op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||Or==null||Or!==ol(r)||(r=Or,"selectionStart"in r&&Gd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),os&&Ps(os,r)||(os=r,r=fl(cc,"onSelect"),0<r.length&&(t=new Wd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function bo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},nu={},iy={};rn&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function aa(e){if(nu[e])return nu[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iy)return nu[e]=t[n];return e}var sy=aa("animationend"),oy=aa("animationiteration"),ly=aa("animationstart"),ay=aa("transitionend"),uy=new Map,lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){uy.set(e,t),Er(t,[e])}for(var ru=0;ru<lp.length;ru++){var iu=lp[ru],sS=iu.toLowerCase(),oS=iu[0].toUpperCase()+iu.slice(1);Hn(sS,"on"+oS)}Hn(sy,"onAnimationEnd");Hn(oy,"onAnimationIteration");Hn(ly,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(ay,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function ap(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sw(r,t,void 0,e),e.currentTarget=null}function cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;ap(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;ap(i,l,u),s=a}}}if(al)throw e=oc,al=!1,oc=null,e}function oe(e,t){var n=t[gc];n===void 0&&(n=t[gc]=new Set);var r=e+"__bubble";n.has(r)||(dy(t,e,2,!1),n.add(r))}function su(e,t,n){var r=0;t&&(r|=4),dy(n,e,r,t)}var To="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[To]){e[To]=!0,yv.forEach(function(n){n!=="selectionchange"&&(lS.has(n)||su(n,!1,e),su(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[To]||(t[To]=!0,su("selectionchange",!1,t))}}function dy(e,t,n,r){switch(Yv(t)){case 1:var i=ww;break;case 4:i=Sw;break;default:i=Bd}n=i.bind(null,t,n,e),i=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ou(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=lr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Dv(function(){var u=s,d=Od(n),c=[];e:{var f=uy.get(e);if(f!==void 0){var p=Wd,v=e;switch(e){case"keypress":if(Go(n)===0)break e;case"keydown":case"keyup":p=Ow;break;case"focusin":v="focus",p=Ja;break;case"focusout":v="blur",p=Ja;break;case"beforeblur":case"afterblur":p=Ja;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zw;break;case sy:case oy:case ly:p=Nw;break;case ay:p=Uw;break;case"scroll":p=Cw;break;case"wheel":p=Hw;break;case"copy":case"cut":case"paste":p=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zf}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,g;m!==null;){g=m;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Es(m,y),w!=null&&x.push(Rs(m,w,g)))),S)break;m=m.return}0<x.length&&(f=new p(f,v,null,n,d),c.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==rc&&(v=n.relatedTarget||n.fromElement)&&(lr(v)||v[sn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?lr(v):null,v!==null&&(S=kr(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=Qf,w="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Zf,w="onPointerLeave",y="onPointerEnter",m="pointer"),S=p==null?f:Vr(p),g=v==null?f:Vr(v),f=new x(w,m+"leave",p,n,d),f.target=S,f.relatedTarget=g,w=null,lr(d)===u&&(x=new x(y,m+"enter",v,n,d),x.target=g,x.relatedTarget=S,w=x),S=w,p&&v)t:{for(x=p,y=v,m=0,g=x;g;g=Rr(g))m++;for(g=0,w=y;w;w=Rr(w))g++;for(;0<m-g;)x=Rr(x),m--;for(;0<g-m;)y=Rr(y),g--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=Rr(x),y=Rr(y)}x=null}else x=null;p!==null&&up(c,f,p,x,!1),v!==null&&S!==null&&up(c,S,v,x,!0)}}e:{if(f=u?Vr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=Xw;else if(tp(f))if(ey)C=tS;else{C=Jw;var E=Zw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=eS);if(C&&(C=C(e,u))){Jv(c,C,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Zu(f,"number",f.value)}switch(E=u?Vr(u):window,e){case"focusin":(tp(E)||E.contentEditable==="true")&&(Or=E,cc=u,os=null);break;case"focusout":os=cc=Or=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,op(c,n,d);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":op(c,n,d)}var b;if($d)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lr?Xv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Qv&&n.locale!=="ko"&&(Lr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lr&&(b=qv()):(wn=d,Ud="value"in wn?wn.value:wn.textContent,Lr=!0)),E=fl(u,k),0<E.length&&(k=new Xf(k,e,null,n,d),c.push({event:k,listeners:E}),b?k.data=b:(b=Zv(n),b!==null&&(k.data=b)))),(b=Gw?Kw(e,n):Yw(e,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(d=new Xf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=b))}cy(c,t)})}function Rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Es(e,n),s!=null&&r.unshift(Rs(e,s,i)),s=Es(e,t),s!=null&&r.push(Rs(e,s,i))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function up(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Es(n,s),a!=null&&o.unshift(Rs(n,a,l))):i||(a=Es(n,s),a!=null&&o.push(Rs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var aS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(aS,`
`).replace(uS,"")}function No(e,t,n){if(t=cp(t),cp(e)!==t&&n)throw Error(T(425))}function pl(){}var hc=null,fc=null;function pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,dS=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(hS)}:mc;function hS(e){setTimeout(function(){throw e})}function lu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),zt="__reactFiber$"+ki,As="__reactProps$"+ki,sn="__reactContainer$"+ki,gc="__reactEvents$"+ki,fS="__reactListeners$"+ki,pS="__reactHandles$"+ki;function lr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hp(e);e!==null;){if(n=e[zt])return n;e=hp(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[zt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ua(e){return e[As]||null}var vc=[],zr=-1;function $n(e){return{current:e}}function le(e){0>zr||(e.current=vc[zr],vc[zr]=null,zr--)}function se(e,t){zr++,vc[zr]=e.current,e.current=t}var Vn={},We=$n(Vn),rt=$n(!1),mr=Vn;function ui(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function it(e){return e=e.childContextTypes,e!=null}function ml(){le(rt),le(We)}function fp(e,t,n){if(We.current!==Vn)throw Error(T(168));se(We,t),se(rt,n)}function hy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(T(108,Z1(e)||"Unknown",i));return pe({},n,r)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,mr=We.current,se(We,e),se(rt,rt.current),!0}function pp(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=hy(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,le(rt),le(We),se(We,e)):le(rt),se(rt,n)}var Yt=null,ca=!1,au=!1;function fy(e){Yt===null?Yt=[e]:Yt.push(e)}function mS(e){ca=!0,fy(e)}function Gn(){if(!au&&Yt!==null){au=!0;var e=0,t=J;try{var n=Yt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yt=null,ca=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(e+1)),Fv(Fd,Gn),i}finally{J=t,au=!1}}return null}var Br=[],Ur=0,vl=null,yl=0,vt=[],yt=0,gr=null,qt=1,Qt="";function Jn(e,t){Br[Ur++]=yl,Br[Ur++]=vl,vl=e,yl=t}function py(e,t,n){vt[yt++]=qt,vt[yt++]=Qt,vt[yt++]=gr,gr=e;var r=qt;e=Qt;var i=32-Rt(r)-1;r&=~(1<<i),n+=1;var s=32-Rt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qt=1<<32-Rt(t)+i|n<<i|r,Qt=s+e}else qt=1<<s|n<<i|r,Qt=e}function Kd(e){e.return!==null&&(Jn(e,1),py(e,1,0))}function Yd(e){for(;e===vl;)vl=Br[--Ur],Br[Ur]=null,yl=Br[--Ur],Br[Ur]=null;for(;e===gr;)gr=vt[--yt],vt[yt]=null,Qt=vt[--yt],vt[yt]=null,qt=vt[--yt],vt[yt]=null}var ut=null,at=null,ue=!1,Tt=null;function my(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,at=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:qt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,at=null,!0):!1;default:return!1}}function yc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xc(e){if(ue){var t=at;if(t){var n=t;if(!mp(e,t)){if(yc(e))throw Error(T(418));t=Nn(n.nextSibling);var r=ut;t&&mp(e,t)?my(r,n):(e.flags=e.flags&-4097|2,ue=!1,ut=e)}}else{if(yc(e))throw Error(T(418));e.flags=e.flags&-4097|2,ue=!1,ut=e}}}function gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Po(e){if(e!==ut)return!1;if(!ue)return gp(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pc(e.type,e.memoizedProps)),t&&(t=at)){if(yc(e))throw gy(),Error(T(418));for(;t;)my(e,t),t=Nn(t.nextSibling)}if(gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ut?Nn(e.stateNode.nextSibling):null;return!0}function gy(){for(var e=at;e;)e=Nn(e.nextSibling)}function ci(){at=ut=null,ue=!1}function qd(e){Tt===null?Tt=[e]:Tt.push(e)}var gS=cn.ReactCurrentBatchConfig;function Vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vp(e){var t=e._init;return t(e._payload)}function vy(e){function t(y,m){if(e){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=An(y,m),y.index=0,y.sibling=null,y}function s(y,m,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,g,w){return m===null||m.tag!==6?(m=mu(g,y.mode,w),m.return=y,m):(m=i(m,g),m.return=y,m)}function a(y,m,g,w){var C=g.type;return C===Mr?d(y,m,g.props.children,w,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gn&&vp(C)===m.type)?(w=i(m,g.props),w.ref=Vi(y,m,g),w.return=y,w):(w=Jo(g.type,g.key,g.props,null,y.mode,w),w.ref=Vi(y,m,g),w.return=y,w)}function u(y,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=gu(g,y.mode,w),m.return=y,m):(m=i(m,g.children||[]),m.return=y,m)}function d(y,m,g,w,C){return m===null||m.tag!==7?(m=fr(g,y.mode,w,C),m.return=y,m):(m=i(m,g),m.return=y,m)}function c(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mu(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case xo:return g=Jo(m.type,m.key,m.props,null,y.mode,g),g.ref=Vi(y,null,m),g.return=y,g;case Dr:return m=gu(m,y.mode,g),m.return=y,m;case gn:var w=m._init;return c(y,w(m._payload),g)}if(Zi(m)||Di(m))return m=fr(m,y.mode,g,null),m.return=y,m;Io(y,m)}return null}function f(y,m,g,w){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(y,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xo:return g.key===C?a(y,m,g,w):null;case Dr:return g.key===C?u(y,m,g,w):null;case gn:return C=g._init,f(y,m,C(g._payload),w)}if(Zi(g)||Di(g))return C!==null?null:d(y,m,g,w,null);Io(y,g)}return null}function p(y,m,g,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,l(m,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xo:return y=y.get(w.key===null?g:w.key)||null,a(m,y,w,C);case Dr:return y=y.get(w.key===null?g:w.key)||null,u(m,y,w,C);case gn:var E=w._init;return p(y,m,g,E(w._payload),C)}if(Zi(w)||Di(w))return y=y.get(g)||null,d(m,y,w,C,null);Io(m,w)}return null}function v(y,m,g,w){for(var C=null,E=null,b=m,k=m=0,D=null;b!==null&&k<g.length;k++){b.index>k?(D=b,b=null):D=b.sibling;var I=f(y,b,g[k],w);if(I===null){b===null&&(b=D);break}e&&b&&I.alternate===null&&t(y,b),m=s(I,m,k),E===null?C=I:E.sibling=I,E=I,b=D}if(k===g.length)return n(y,b),ue&&Jn(y,k),C;if(b===null){for(;k<g.length;k++)b=c(y,g[k],w),b!==null&&(m=s(b,m,k),E===null?C=b:E.sibling=b,E=b);return ue&&Jn(y,k),C}for(b=r(y,b);k<g.length;k++)D=p(b,y,k,g[k],w),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?k:D.key),m=s(D,m,k),E===null?C=D:E.sibling=D,E=D);return e&&b.forEach(function(Y){return t(y,Y)}),ue&&Jn(y,k),C}function x(y,m,g,w){var C=Di(g);if(typeof C!="function")throw Error(T(150));if(g=C.call(g),g==null)throw Error(T(151));for(var E=C=null,b=m,k=m=0,D=null,I=g.next();b!==null&&!I.done;k++,I=g.next()){b.index>k?(D=b,b=null):D=b.sibling;var Y=f(y,b,I.value,w);if(Y===null){b===null&&(b=D);break}e&&b&&Y.alternate===null&&t(y,b),m=s(Y,m,k),E===null?C=Y:E.sibling=Y,E=Y,b=D}if(I.done)return n(y,b),ue&&Jn(y,k),C;if(b===null){for(;!I.done;k++,I=g.next())I=c(y,I.value,w),I!==null&&(m=s(I,m,k),E===null?C=I:E.sibling=I,E=I);return ue&&Jn(y,k),C}for(b=r(y,b);!I.done;k++,I=g.next())I=p(b,y,k,I.value,w),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?k:I.key),m=s(I,m,k),E===null?C=I:E.sibling=I,E=I);return e&&b.forEach(function(ce){return t(y,ce)}),ue&&Jn(y,k),C}function S(y,m,g,w){if(typeof g=="object"&&g!==null&&g.type===Mr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xo:e:{for(var C=g.key,E=m;E!==null;){if(E.key===C){if(C=g.type,C===Mr){if(E.tag===7){n(y,E.sibling),m=i(E,g.props.children),m.return=y,y=m;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gn&&vp(C)===E.type){n(y,E.sibling),m=i(E,g.props),m.ref=Vi(y,E,g),m.return=y,y=m;break e}n(y,E);break}else t(y,E);E=E.sibling}g.type===Mr?(m=fr(g.props.children,y.mode,w,g.key),m.return=y,y=m):(w=Jo(g.type,g.key,g.props,null,y.mode,w),w.ref=Vi(y,m,g),w.return=y,y=w)}return o(y);case Dr:e:{for(E=g.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=i(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=gu(g,y.mode,w),m.return=y,y=m}return o(y);case gn:return E=g._init,S(y,m,E(g._payload),w)}if(Zi(g))return v(y,m,g,w);if(Di(g))return x(y,m,g,w);Io(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,g),m.return=y,y=m):(n(y,m),m=mu(g,y.mode,w),m.return=y,y=m),o(y)):n(y,m)}return S}var di=vy(!0),yy=vy(!1),xl=$n(null),_l=null,Wr=null,Qd=null;function Xd(){Qd=Wr=_l=null}function Zd(e){var t=xl.current;le(xl),e._currentValue=t}function _c(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ni(e,t){_l=e,Qd=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Qd!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(_l===null)throw Error(T(308));Wr=e,_l.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var ar=null;function Jd(e){ar===null?ar=[e]:ar.push(e)}function xy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Jd(t)):(n.next=i.next,i.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vn=!1;function eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,on(e,n)}return i=r.interleaved,i===null?(t.next=t,Jd(r)):(t.next=i.next,i.next=t),r.interleaved=t,on(e,n)}function Ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vd(e,n)}}function yp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,r){var i=e.updateQueue;vn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,d=u=a=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(f=t,p=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=pe({},c,f);break e;case 2:vn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,a=c):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=c}}function xp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var ro={},Ut=$n(ro),js=$n(ro),Ds=$n(ro);function ur(e){if(e===ro)throw Error(T(174));return e}function th(e,t){switch(se(Ds,t),se(js,e),se(Ut,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ec(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ec(t,e)}le(Ut),se(Ut,t)}function hi(){le(Ut),le(js),le(Ds)}function wy(e){ur(Ds.current);var t=ur(Ut.current),n=ec(t,e.type);t!==n&&(se(js,e),se(Ut,n))}function nh(e){js.current===e&&(le(Ut),le(js))}var de=$n(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uu=[];function rh(){for(var e=0;e<uu.length;e++)uu[e]._workInProgressVersionPrimary=null;uu.length=0}var Yo=cn.ReactCurrentDispatcher,cu=cn.ReactCurrentBatchConfig,vr=0,fe=null,Ee=null,Pe=null,Cl=!1,ls=!1,Ms=0,vS=0;function ze(){throw Error(T(321))}function ih(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function sh(e,t,n,r,i,s){if(vr=s,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=e===null||e.memoizedState===null?wS:SS,e=n(r,i),ls){s=0;do{if(ls=!1,Ms=0,25<=s)throw Error(T(301));s+=1,Pe=Ee=null,t.updateQueue=null,Yo.current=CS,e=n(r,i)}while(ls)}if(Yo.current=El,t=Ee!==null&&Ee.next!==null,vr=0,Pe=Ee=fe=null,Cl=!1,t)throw Error(T(300));return e}function oh(){var e=Ms!==0;return Ms=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ct(){if(Ee===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Pe===null?fe.memoizedState:Pe.next;if(t!==null)Pe=t,Ee=e;else{if(e===null)throw Error(T(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ls(e,t){return typeof t=="function"?t(e):t}function du(e){var t=Ct(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((vr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,fe.lanes|=d,yr|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Dt(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fe.lanes|=s,yr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Dt(s,t.memoizedState)||(et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Sy(){}function Cy(e,t){var n=fe,r=Ct(),i=t(),s=!Dt(r.memoizedState,i);if(s&&(r.memoizedState=i,et=!0),r=r.queue,lh(by.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Os(9,ky.bind(null,n,r,i,t),void 0,null),je===null)throw Error(T(349));vr&30||Ey(n,t,i)}return i}function Ey(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ky(e,t,n,r){t.value=n,t.getSnapshot=r,Ty(t)&&Ny(e)}function by(e,t,n){return n(function(){Ty(t)&&Ny(e)})}function Ty(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Ny(e){var t=on(e,1);t!==null&&At(t,e,1,-1)}function _p(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},t.queue=e,e=e.dispatch=_S.bind(null,fe,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Py(){return Ct().memoizedState}function qo(e,t,n,r){var i=Vt();fe.flags|=e,i.memoizedState=Os(1|t,n,void 0,r===void 0?null:r)}function da(e,t,n,r){var i=Ct();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&ih(r,o.deps)){i.memoizedState=Os(t,n,s,r);return}}fe.flags|=e,i.memoizedState=Os(1|t,n,s,r)}function wp(e,t){return qo(8390656,8,e,t)}function lh(e,t){return da(2048,8,e,t)}function Iy(e,t){return da(4,2,e,t)}function Ry(e,t){return da(4,4,e,t)}function Ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jy(e,t,n){return n=n!=null?n.concat([e]):null,da(4,4,Ay.bind(null,t,e),n)}function ah(){}function Dy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ih(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function My(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ih(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ly(e,t,n){return vr&21?(Dt(n,t)||(n=Bv(),fe.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function yS(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=cu.transition;cu.transition={};try{e(!1),t()}finally{J=n,cu.transition=r}}function Oy(){return Ct().memoizedState}function xS(e,t,n){var r=Rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fy(e))Vy(t,n);else if(n=xy(e,t,n,r),n!==null){var i=Ye();At(n,e,r,i),zy(n,t,r)}}function _S(e,t,n){var r=Rn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fy(e))Vy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Dt(l,o)){var a=t.interleaved;a===null?(i.next=i,Jd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=xy(e,t,i,r),n!==null&&(i=Ye(),At(n,e,r,i),zy(n,t,r))}}function Fy(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Vy(e,t){ls=Cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vd(e,n)}}var El={readContext:St,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},wS={readContext:St,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:wp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qo(4194308,4,Ay.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xS.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:_p,useDebugValue:ah,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=_p(!1),t=e[0];return e=yS.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,i=Vt();if(ue){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),je===null)throw Error(T(349));vr&30||Ey(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wp(by.bind(null,r,s,e),[e]),r.flags|=2048,Os(9,ky.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Vt(),t=je.identifierPrefix;if(ue){var n=Qt,r=qt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SS={readContext:St,useCallback:Dy,useContext:St,useEffect:lh,useImperativeHandle:jy,useInsertionEffect:Iy,useLayoutEffect:Ry,useMemo:My,useReducer:du,useRef:Py,useState:function(){return du(Ls)},useDebugValue:ah,useDeferredValue:function(e){var t=Ct();return Ly(t,Ee.memoizedState,e)},useTransition:function(){var e=du(Ls)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:Cy,useId:Oy,unstable_isNewReconciler:!1},CS={readContext:St,useCallback:Dy,useContext:St,useEffect:lh,useImperativeHandle:jy,useInsertionEffect:Iy,useLayoutEffect:Ry,useMemo:My,useReducer:hu,useRef:Py,useState:function(){return hu(Ls)},useDebugValue:ah,useDeferredValue:function(e){var t=Ct();return Ee===null?t.memoizedState=e:Ly(t,Ee.memoizedState,e)},useTransition:function(){var e=hu(Ls)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Sy,useSyncExternalStore:Cy,useId:Oy,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=Rn(e),s=Jt(r,i);s.payload=t,n!=null&&(s.callback=n),t=Pn(e,s,i),t!==null&&(At(t,e,i,r),Ko(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=Rn(e),s=Jt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pn(e,s,i),t!==null&&(At(t,e,i,r),Ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=Rn(e),i=Jt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pn(e,i,r),t!==null&&(At(t,e,r,n),Ko(t,e,r))}};function Sp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,s):!0}function By(e,t,n){var r=!1,i=Vn,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=it(t)?mr:We.current,r=t.contextTypes,s=(r=r!=null)?ui(e,i):Vn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Cp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function Sc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},eh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=it(t)?mr:We.current,i.context=ui(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),wl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fi(e,t){try{var n="",r=t;do n+=X1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function Uy(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bl||(bl=!0,jc=r),Cc(e,t)},n}function Wy(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Cc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cc(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ep(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ES;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=FS.bind(null,e,t,n),t.then(e,e))}function kp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var kS=cn.ReactCurrentOwner,et=!1;function Ke(e,t,n,r){t.child=e===null?yy(t,null,n,r):di(t,e.child,n,r)}function Tp(e,t,n,r,i){n=n.render;var s=t.ref;return ni(t,i),r=sh(e,t,n,r,s,i),n=oh(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(ue&&n&&Kd(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Np(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!gh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Hy(e,t,s,r,i)):(e=Jo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(o,r)&&e.ref===t.ref)return ln(e,t,i)}return t.flags|=1,e=An(s,r),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ps(s,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,ln(e,t,i)}return Ec(e,t,n,r,i)}function $y(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se($r,lt),lt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se($r,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se($r,lt),lt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,se($r,lt),lt|=r;return Ke(e,t,i,n),t.child}function Gy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ec(e,t,n,r,i){var s=it(n)?mr:We.current;return s=ui(t,s),ni(t,i),n=sh(e,t,n,r,s,i),r=oh(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(ue&&r&&Kd(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Pp(e,t,n,r,i){if(it(n)){var s=!0;gl(t)}else s=!1;if(ni(t,i),t.stateNode===null)Qo(e,t),By(t,n,r),Sc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=it(n)?mr:We.current,u=ui(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Cp(t,o,r,u),vn=!1;var f=t.memoizedState;o.state=f,wl(t,r,o,i),a=t.memoizedState,l!==r||f!==a||rt.current||vn?(typeof d=="function"&&(wc(t,n,d,r),a=t.memoizedState),(l=vn||Sp(t,n,l,r,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_y(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kt(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=St(a):(a=it(n)?mr:We.current,a=ui(t,a));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Cp(t,o,r,a),vn=!1,f=t.memoizedState,o.state=f,wl(t,r,o,i);var v=t.memoizedState;l!==c||f!==v||rt.current||vn?(typeof p=="function"&&(wc(t,n,p,r),v=t.memoizedState),(u=vn||Sp(t,n,u,r,f,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return kc(e,t,n,r,s,i)}function kc(e,t,n,r,i,s){Gy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pp(t,n,!1),ln(e,t,s);r=t.stateNode,kS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=di(t,e.child,null,s),t.child=di(t,null,l,s)):Ke(e,t,l,s),t.memoizedState=r.state,i&&pp(t,n,!0),t.child}function Ky(e){var t=e.stateNode;t.pendingContext?fp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fp(e,t.context,!1),th(e,t.containerInfo)}function Ip(e,t,n,r,i){return ci(),qd(i),t.flags|=256,Ke(e,t,n,r),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Tc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yy(e,t,n){var r=t.pendingProps,i=de.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(de,i&1),e===null)return xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ma(o,r,0,null),e=fr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Tc(n),t.memoizedState=bc,e):uh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return bS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=An(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=An(l,s):(s=fr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=bc,r}return s=e.child,e=s.sibling,r=An(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uh(e,t){return t=ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,n,r){return r!==null&&qd(r),di(t,e.child,null,n),e=uh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=fu(Error(T(422))),Ro(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ma({mode:"visible",children:r.children},i,0,null),s=fr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&di(t,e.child,null,o),t.child.memoizedState=Tc(o),t.memoizedState=bc,s);if(!(t.mode&1))return Ro(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(T(419)),r=fu(s,r,void 0),Ro(e,t,o,r)}if(l=(o&e.childLanes)!==0,et||l){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,on(e,i),At(r,e,i,-1))}return mh(),r=fu(Error(T(421))),Ro(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=VS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,at=Nn(i.nextSibling),ut=t,ue=!0,Tt=null,e!==null&&(vt[yt++]=qt,vt[yt++]=Qt,vt[yt++]=gr,qt=e.id,Qt=e.overflow,gr=t),t=uh(t,r.children),t.flags|=4096,t)}function Rp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_c(e.return,t,n)}function pu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ke(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,n,t);else if(e.tag===19)Rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pu(t,!0,n,null,s);break;case"together":pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TS(e,t,n){switch(t.tag){case 3:Ky(t),ci();break;case 5:wy(t);break;case 1:it(t.type)&&gl(t);break;case 4:th(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(xl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Yy(e,t,n):(se(de,de.current&1),e=ln(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,$y(e,t,n)}return ln(e,t,n)}var Qy,Nc,Xy,Zy;Qy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nc=function(){};Xy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ur(Ut.current);var s=null;switch(n){case"input":i=Qu(e,i),r=Qu(e,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=Ju(e,i),r=Ju(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}tc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ss.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&oe("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Zy=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function NS(e,t,n){var r=t.pendingProps;switch(Yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return it(t.type)&&ml(),Be(t),null;case 3:return r=t.stateNode,hi(),le(rt),le(We),rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Lc(Tt),Tt=null))),Nc(e,t),Be(t),null;case 5:nh(t);var i=ur(Ds.current);if(n=t.type,e!==null&&t.stateNode!=null)Xy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Be(t),null}if(e=ur(Ut.current),Po(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[zt]=t,r[As]=s,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<es.length;i++)oe(es[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":zf(r,s),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},oe("invalid",r);break;case"textarea":Uf(r,s),oe("invalid",r)}tc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,e),i=["children",""+l]):Ss.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":_o(r),Bf(r,s,!0);break;case"textarea":_o(r),Wf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[zt]=t,e[As]=r,Qy(e,t,!1,!1),t.stateNode=e;e:{switch(o=nc(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<es.length;i++)oe(es[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":zf(e,r),i=Qu(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),oe("invalid",e);break;case"textarea":Uf(e,r),i=Ju(e,r),oe("invalid",e);break;default:i=r}tc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Pv(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tv(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cs(e,a):typeof a=="number"&&Cs(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ss.hasOwnProperty(s)?a!=null&&s==="onScroll"&&oe("scroll",e):a!=null&&jd(e,s,a,o))}switch(n){case"input":_o(e),Bf(e,r,!1);break;case"textarea":_o(e),Wf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Fn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)Zy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=ur(Ds.current),ur(Ut.current),Po(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(s=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:No(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Be(t),null;case 13:if(le(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&at!==null&&t.mode&1&&!(t.flags&128))gy(),ci(),t.flags|=98560,s=!1;else if(s=Po(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(T(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[zt]=t}else ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),s=!1}else Tt!==null&&(Lc(Tt),Tt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?ke===0&&(ke=3):mh())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return hi(),Nc(e,t),e===null&&Is(t.stateNode.containerInfo),Be(t),null;case 10:return Zd(t.type._context),Be(t),null;case 17:return it(t.type)&&ml(),Be(t),null;case 19:if(le(de),s=t.memoizedState,s===null)return Be(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zi(s,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,zi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&_e()>pi&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ue)return Be(t),null}else 2*_e()-s.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_e(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return ph(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function PS(e,t){switch(Yd(t),t.tag){case 1:return it(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),le(rt),le(We),rh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nh(t),null;case 13:if(le(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(de),null;case 4:return hi(),null;case 10:return Zd(t.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var Ao=!1,Ue=!1,IS=typeof WeakSet=="function"?WeakSet:Set,j=null;function Hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Pc(e,t,n){try{n()}catch(r){me(e,t,r)}}var Ap=!1;function RS(e,t){if(hc=dl,e=ry(),Gd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=e,f=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(a=o),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(fc={focusedElem:e,selectionRange:n},dl=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:kt(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return v=Ap,Ap=!1,v}function as(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pc(t,n,s)}i=i.next}while(i!==r)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ic(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jy(e){var t=e.alternate;t!==null&&(e.alternate=null,Jy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[As],delete t[gc],delete t[fS],delete t[pS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e0(e){return e.tag===5||e.tag===3||e.tag===4}function jp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}var De=null,bt=!1;function fn(e,t,n){for(n=n.child;n!==null;)t0(e,t,n),n=n.sibling}function t0(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Ue||Hr(n,t);case 6:var r=De,i=bt;De=null,fn(e,t,n),De=r,bt=i,De!==null&&(bt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(bt?(e=De,n=n.stateNode,e.nodeType===8?lu(e.parentNode,n):e.nodeType===1&&lu(e,n),Ts(e)):lu(De,n.stateNode));break;case 4:r=De,i=bt,De=n.stateNode.containerInfo,bt=!0,fn(e,t,n),De=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pc(n,t,o),i=i.next}while(i!==r)}fn(e,t,n);break;case 1:if(!Ue&&(Hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,t,l)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,fn(e,t,n),Ue=r):fn(e,t,n);break;default:fn(e,t,n)}}function Dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IS),t.forEach(function(r){var i=zS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,bt=!1;break e;case 3:De=l.stateNode.containerInfo,bt=!0;break e;case 4:De=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(De===null)throw Error(T(160));t0(s,o,i),De=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)n0(t,e),t=t.sibling}function n0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Ft(e),r&4){try{as(3,e,e.return),fa(3,e)}catch(x){me(e,e.return,x)}try{as(5,e,e.return)}catch(x){me(e,e.return,x)}}break;case 1:Et(t,e),Ft(e),r&512&&n!==null&&Hr(n,n.return);break;case 5:if(Et(t,e),Ft(e),r&512&&n!==null&&Hr(n,n.return),e.flags&32){var i=e.stateNode;try{Cs(i,"")}catch(x){me(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ev(i,s),nc(l,o);var u=nc(l,s);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?Pv(i,c):d==="dangerouslySetInnerHTML"?Tv(i,c):d==="children"?Cs(i,c):jd(i,d,c,u)}switch(l){case"input":Xu(i,s);break;case"textarea":kv(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Zr(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zr(i,!!s.multiple,s.defaultValue,!0):Zr(i,!!s.multiple,s.multiple?[]:"",!1))}i[As]=s}catch(x){me(e,e.return,x)}}break;case 6:if(Et(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(T(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){me(e,e.return,x)}}break;case 3:if(Et(t,e),Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(x){me(e,e.return,x)}break;case 4:Et(t,e),Ft(e);break;case 13:Et(t,e),Ft(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hh=_e())),r&4&&Dp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||d,Et(t,e),Ue=u):Et(t,e),Ft(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(j=e,d=e.child;d!==null;){for(c=j=d;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:as(4,f,f.return);break;case 1:Hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){me(r,n,x)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){Lp(c);continue}}p!==null?(p.return=f,j=p):Lp(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nv("display",o))}catch(x){me(e,e.return,x)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(x){me(e,e.return,x)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Et(t,e),Ft(e),r&4&&Dp(e);break;case 21:break;default:Et(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(e0(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cs(i,""),r.flags&=-33);var s=jp(e);Ac(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=jp(e);Rc(e,l,o);break;default:throw Error(T(161))}}catch(a){me(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AS(e,t,n){j=e,r0(e)}function r0(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ao;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ue;l=Ao;var u=Ue;if(Ao=o,(Ue=a)&&!u)for(j=i;j!==null;)o=j,a=o.child,o.tag===22&&o.memoizedState!==null?Op(i):a!==null?(a.return=o,j=a):Op(i);for(;s!==null;)j=s,r0(s),s=s.sibling;j=i,Ao=l,Ue=u}Mp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):Mp(e)}}function Mp(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Ts(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ue||t.flags&512&&Ic(t)}catch(f){me(t,t.return,f)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function Lp(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function Op(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(a){me(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){me(t,i,a)}}var s=t.return;try{Ic(t)}catch(a){me(t,s,a)}break;case 5:var o=t.return;try{Ic(t)}catch(a){me(t,o,a)}}}catch(a){me(t,t.return,a)}if(t===e){j=null;break}var l=t.sibling;if(l!==null){l.return=t.return,j=l;break}j=t.return}}var jS=Math.ceil,kl=cn.ReactCurrentDispatcher,ch=cn.ReactCurrentOwner,wt=cn.ReactCurrentBatchConfig,K=0,je=null,Ce=null,Oe=0,lt=0,$r=$n(0),ke=0,Fs=null,yr=0,pa=0,dh=0,us=null,Je=null,hh=0,pi=1/0,Kt=null,bl=!1,jc=null,In=null,jo=!1,Sn=null,Tl=0,cs=0,Dc=null,Xo=-1,Zo=0;function Ye(){return K&6?_e():Xo!==-1?Xo:Xo=_e()}function Rn(e){return e.mode&1?K&2&&Oe!==0?Oe&-Oe:gS.transition!==null?(Zo===0&&(Zo=Bv()),Zo):(e=J,e!==0||(e=window.event,e=e===void 0?16:Yv(e.type)),e):1}function At(e,t,n,r){if(50<cs)throw cs=0,Dc=null,Error(T(185));eo(e,n,r),(!(K&2)||e!==je)&&(e===je&&(!(K&2)&&(pa|=n),ke===4&&_n(e,Oe)),st(e,r),n===1&&K===0&&!(t.mode&1)&&(pi=_e()+500,ca&&Gn()))}function st(e,t){var n=e.callbackNode;gw(e,t);var r=cl(e,e===je?Oe:0);if(r===0)n!==null&&Gf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gf(n),t===1)e.tag===0?mS(Fp.bind(null,e)):fy(Fp.bind(null,e)),dS(function(){!(K&6)&&Gn()}),n=null;else{switch(Uv(r)){case 1:n=Fd;break;case 4:n=Vv;break;case 16:n=ul;break;case 536870912:n=zv;break;default:n=ul}n=d0(n,i0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i0(e,t){if(Xo=-1,Zo=0,K&6)throw Error(T(327));var n=e.callbackNode;if(ri()&&e.callbackNode!==n)return null;var r=cl(e,e===je?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nl(e,r);else{t=r;var i=K;K|=2;var s=o0();(je!==e||Oe!==t)&&(Kt=null,pi=_e()+500,hr(e,t));do try{LS();break}catch(l){s0(e,l)}while(!0);Xd(),kl.current=s,K=i,Ce!==null?t=0:(je=null,Oe=0,t=ke)}if(t!==0){if(t===2&&(i=lc(e),i!==0&&(r=i,t=Mc(e,i))),t===1)throw n=Fs,hr(e,0),_n(e,r),st(e,_e()),n;if(t===6)_n(e,r);else{if(i=e.current.alternate,!(r&30)&&!DS(i)&&(t=Nl(e,r),t===2&&(s=lc(e),s!==0&&(r=s,t=Mc(e,s))),t===1))throw n=Fs,hr(e,0),_n(e,r),st(e,_e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:er(e,Je,Kt);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=hh+500-_e(),10<t)){if(cl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mc(er.bind(null,e,Je,Kt),t);break}er(e,Je,Kt);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Rt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){e.timeoutHandle=mc(er.bind(null,e,Je,Kt),r);break}er(e,Je,Kt);break;case 5:er(e,Je,Kt);break;default:throw Error(T(329))}}}return st(e,_e()),e.callbackNode===n?i0.bind(null,e):null}function Mc(e,t){var n=us;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=Je,Je=n,t!==null&&Lc(t)),e}function Lc(e){Je===null?Je=e:Je.push.apply(Je,e)}function DS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~dh,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),r=1<<n;e[n]=-1,t&=~r}}function Fp(e){if(K&6)throw Error(T(327));ri();var t=cl(e,0);if(!(t&1))return st(e,_e()),null;var n=Nl(e,t);if(e.tag!==0&&n===2){var r=lc(e);r!==0&&(t=r,n=Mc(e,r))}if(n===1)throw n=Fs,hr(e,0),_n(e,t),st(e,_e()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,Je,Kt),st(e,_e()),null}function fh(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(pi=_e()+500,ca&&Gn())}}function xr(e){Sn!==null&&Sn.tag===0&&!(K&6)&&ri();var t=K;K|=1;var n=wt.transition,r=J;try{if(wt.transition=null,J=1,e)return e()}finally{J=r,wt.transition=n,K=t,!(K&6)&&Gn()}}function ph(){lt=$r.current,le($r)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cS(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Yd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:hi(),le(rt),le(We),rh();break;case 5:nh(r);break;case 4:hi();break;case 13:le(de);break;case 19:le(de);break;case 10:Zd(r.type._context);break;case 22:case 23:ph()}n=n.return}if(je=e,Ce=e=An(e.current,null),Oe=lt=t,ke=0,Fs=null,dh=pa=yr=0,Je=us=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ar=null}return e}function s0(e,t){do{var n=Ce;try{if(Xd(),Yo.current=El,Cl){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cl=!1}if(vr=0,Pe=Ee=fe=null,ls=!1,Ms=0,ch.current=null,n===null||n.return===null){ke=1,Fs=t,Ce=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Oe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kp(o);if(p!==null){p.flags&=-257,bp(p,o,l,s,t),p.mode&1&&Ep(s,u,t),t=p,a=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Ep(s,u,t),mh();break e}a=Error(T(426))}}else if(ue&&l.mode&1){var S=kp(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bp(S,o,l,s,t),qd(fi(a,l));break e}}s=a=fi(a,l),ke!==4&&(ke=2),us===null?us=[s]:us.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Uy(s,a,t);yp(s,y);break e;case 1:l=a;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(In===null||!In.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Wy(s,l,t);yp(s,w);break e}}s=s.return}while(s!==null)}a0(n)}catch(C){t=C,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function o0(){var e=kl.current;return kl.current=El,e===null?El:e}function mh(){(ke===0||ke===3||ke===2)&&(ke=4),je===null||!(yr&268435455)&&!(pa&268435455)||_n(je,Oe)}function Nl(e,t){var n=K;K|=2;var r=o0();(je!==e||Oe!==t)&&(Kt=null,hr(e,t));do try{MS();break}catch(i){s0(e,i)}while(!0);if(Xd(),K=n,kl.current=r,Ce!==null)throw Error(T(261));return je=null,Oe=0,ke}function MS(){for(;Ce!==null;)l0(Ce)}function LS(){for(;Ce!==null&&!lw();)l0(Ce)}function l0(e){var t=c0(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?a0(e):Ce=t,ch.current=null}function a0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=PS(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,Ce=null;return}}else if(n=NS(n,t,lt),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);ke===0&&(ke=5)}function er(e,t,n){var r=J,i=wt.transition;try{wt.transition=null,J=1,OS(e,t,n,r)}finally{wt.transition=i,J=r}return null}function OS(e,t,n,r){do ri();while(Sn!==null);if(K&6)throw Error(T(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vw(e,s),e===je&&(Ce=je=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,d0(ul,function(){return ri(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wt.transition,wt.transition=null;var o=J;J=1;var l=K;K|=4,ch.current=null,RS(e,n),n0(n,e),rS(fc),dl=!!hc,fc=hc=null,e.current=n,AS(n),aw(),K=l,J=o,wt.transition=s}else e.current=n;if(jo&&(jo=!1,Sn=e,Tl=i),s=e.pendingLanes,s===0&&(In=null),dw(n.stateNode),st(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bl)throw bl=!1,e=jc,jc=null,e;return Tl&1&&e.tag!==0&&ri(),s=e.pendingLanes,s&1?e===Dc?cs++:(cs=0,Dc=e):cs=0,Gn(),null}function ri(){if(Sn!==null){var e=Uv(Tl),t=wt.transition,n=J;try{if(wt.transition=null,J=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,Tl=0,K&6)throw Error(T(331));var i=K;for(K|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:as(8,d,s)}var c=d.child;if(c!==null)c.return=d,j=c;else for(;j!==null;){d=j;var f=d.sibling,p=d.return;if(Jy(d),d===u){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:as(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,j=y;break e}j=s.return}}var m=e.current;for(j=m;j!==null;){o=j;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,j=g;else e:for(o=m;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(C){me(l,l.return,C)}if(l===o){j=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,j=w;break e}j=l.return}}if(K=i,Gn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(sa,e)}catch{}r=!0}return r}finally{J=n,wt.transition=t}}return!1}function Vp(e,t,n){t=fi(n,t),t=Uy(e,t,1),e=Pn(e,t,1),t=Ye(),e!==null&&(eo(e,1,t),st(e,t))}function me(e,t,n){if(e.tag===3)Vp(e,e,n);else for(;t!==null;){if(t.tag===3){Vp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=fi(n,e),e=Wy(t,e,1),t=Pn(t,e,1),e=Ye(),t!==null&&(eo(t,1,e),st(t,e));break}}t=t.return}}function FS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Oe&n)===n&&(ke===4||ke===3&&(Oe&130023424)===Oe&&500>_e()-hh?hr(e,0):dh|=n),st(e,t)}function u0(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var n=Ye();e=on(e,t),e!==null&&(eo(e,t,n),st(e,n))}function VS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u0(e,n)}function zS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),u0(e,n)}var c0;c0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,TS(e,t,n);et=!!(e.flags&131072)}else et=!1,ue&&t.flags&1048576&&py(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var i=ui(t,We.current);ni(t,n),i=sh(null,t,r,e,i,n);var s=oh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(s=!0,gl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eh(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,Sc(t,r,e,n),t=kc(null,t,r,!0,s,n)):(t.tag=0,ue&&s&&Kd(t),Ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=US(r),e=kt(r,e),i){case 0:t=Ec(null,t,r,e,n);break e;case 1:t=Pp(null,t,r,e,n);break e;case 11:t=Tp(null,t,r,e,n);break e;case 14:t=Np(null,t,r,kt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Ec(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Pp(e,t,r,i,n);case 3:e:{if(Ky(t),e===null)throw Error(T(387));r=t.pendingProps,s=t.memoizedState,i=s.element,_y(e,t),wl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=fi(Error(T(423)),t),t=Ip(e,t,r,n,i);break e}else if(r!==i){i=fi(Error(T(424)),t),t=Ip(e,t,r,n,i);break e}else for(at=Nn(t.stateNode.containerInfo.firstChild),ut=t,ue=!0,Tt=null,n=yy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){t=ln(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return wy(t),e===null&&xc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,pc(r,i)?o=null:s!==null&&pc(r,s)&&(t.flags|=32),Gy(e,t),Ke(e,t,o,n),t.child;case 6:return e===null&&xc(t),null;case 13:return Yy(e,t,n);case 4:return th(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Tp(e,t,r,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,se(xl,r._currentValue),r._currentValue=o,s!==null)if(Dt(s.value,o)){if(s.children===i.children&&!rt.current){t=ln(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Jt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_c(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_c(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ni(t,n),i=St(i),r=r(i),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,i=kt(r,t.pendingProps),i=kt(r.type,i),Np(e,t,r,i,n);case 15:return Hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:kt(r,i),Qo(e,t),t.tag=1,it(r)?(e=!0,gl(t)):e=!1,ni(t,n),By(t,r,i),Sc(t,r,i,n),kc(null,t,r,!0,e,n);case 19:return qy(e,t,n);case 22:return $y(e,t,n)}throw Error(T(156,t.tag))};function d0(e,t){return Fv(e,t)}function BS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new BS(e,t,n,r)}function gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function US(e){if(typeof e=="function")return gh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Md)return 11;if(e===Ld)return 14}return 2}function An(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")gh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mr:return fr(n.children,i,s,t);case Dd:o=8,i|=8;break;case Gu:return e=xt(12,n,t,i|2),e.elementType=Gu,e.lanes=s,e;case Ku:return e=xt(13,n,t,i),e.elementType=Ku,e.lanes=s,e;case Yu:return e=xt(19,n,t,i),e.elementType=Yu,e.lanes=s,e;case wv:return ma(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xv:o=10;break e;case _v:o=9;break e;case Md:o=11;break e;case Ld:o=14;break e;case gn:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=xt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fr(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function ma(e,t,n,r){return e=xt(22,e,r,t),e.elementType=wv,e.lanes=n,e.stateNode={isHidden:!1},e}function mu(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function gu(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vh(e,t,n,r,i,s,o,l,a){return e=new WS(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(s),e}function HS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function h0(e){if(!e)return Vn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(it(n))return hy(e,n,t)}return t}function f0(e,t,n,r,i,s,o,l,a){return e=vh(n,r,!0,e,i,s,o,l,a),e.context=h0(null),n=e.current,r=Ye(),i=Rn(n),s=Jt(r,i),s.callback=t??null,Pn(n,s,i),e.current.lanes=i,eo(e,i,r),st(e,r),e}function ga(e,t,n,r){var i=t.current,s=Ye(),o=Rn(i);return n=h0(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(i,t,o),e!==null&&(At(e,i,o,s),Ko(e,i,o)),o}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yh(e,t){zp(e,t),(e=e.alternate)&&zp(e,t)}function $S(){return null}var p0=typeof reportError=="function"?reportError:function(e){console.error(e)};function xh(e){this._internalRoot=e}va.prototype.render=xh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));ga(e,t,null,null)};va.prototype.unmount=xh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){ga(null,e,null,null)}),t[sn]=null}};function va(e){this._internalRoot=e}va.prototype.unstable_scheduleHydration=function(e){if(e){var t=$v();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xn.length&&t!==0&&t<xn[n].priority;n++);xn.splice(n,0,e),n===0&&Kv(e)}};function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function GS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Pl(o);s.call(u)}}var o=f0(t,r,e,0,null,!1,!1,"",Bp);return e._reactRootContainer=o,e[sn]=o.current,Is(e.nodeType===8?e.parentNode:e),xr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Pl(a);l.call(u)}}var a=vh(e,0,!1,null,null,!1,!1,"",Bp);return e._reactRootContainer=a,e[sn]=a.current,Is(e.nodeType===8?e.parentNode:e),xr(function(){ga(t,a,n,r)}),a}function xa(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Pl(o);l.call(a)}}ga(t,o,e,i)}else o=GS(n,t,e,i,r);return Pl(o)}Wv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ji(t.pendingLanes);n!==0&&(Vd(t,n|1),st(t,_e()),!(K&6)&&(pi=_e()+500,Gn()))}break;case 13:xr(function(){var r=on(e,1);if(r!==null){var i=Ye();At(r,e,1,i)}}),yh(e,1)}};zd=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=Ye();At(t,e,134217728,n)}yh(e,134217728)}};Hv=function(e){if(e.tag===13){var t=Rn(e),n=on(e,t);if(n!==null){var r=Ye();At(n,e,t,r)}yh(e,t)}};$v=function(){return J};Gv=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};ic=function(e,t,n){switch(t){case"input":if(Xu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ua(r);if(!i)throw Error(T(90));Cv(r),Xu(r,i)}}}break;case"textarea":kv(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}};Av=fh;jv=xr;var KS={usingClientEntryPoint:!1,Events:[no,Vr,ua,Iv,Rv,fh]},Bi={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YS={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lv(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||$S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{sa=Do.inject(YS),Bt=Do}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(t))throw Error(T(200));return HS(e,t,null,n)};ht.createRoot=function(e,t){if(!_h(e))throw Error(T(299));var n=!1,r="",i=p0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vh(e,1,!1,null,null,n,!1,r,i),e[sn]=t.current,Is(e.nodeType===8?e.parentNode:e),new xh(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Lv(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return xr(e)};ht.hydrate=function(e,t,n){if(!ya(t))throw Error(T(200));return xa(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!_h(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=p0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=f0(t,null,e,1,n??null,i,!1,s,o),e[sn]=t.current,Is(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new va(t)};ht.render=function(e,t,n){if(!ya(t))throw Error(T(200));return xa(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!ya(e))throw Error(T(40));return e._reactRootContainer?(xr(function(){xa(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};ht.unstable_batchedUpdates=fh;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ya(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return xa(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(e){console.error(e)}}m0(),mv.exports=ht;var qS=mv.exports,Up=qS;Hu.createRoot=Up.createRoot,Hu.hydrateRoot=Up.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}var Cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cn||(Cn={}));const Wp="popstate";function QS(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Oc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Il(i)}return ZS(t,n,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XS(){return Math.random().toString(36).substr(2,8)}function Hp(e,t){return{usr:e.state,key:e.key,idx:t}}function Oc(e,t,n,r){return n===void 0&&(n=null),Vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bi(t):t,{state:n,key:t&&t.key||r||XS()})}function Il(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Cn.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(Vs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){l=Cn.Pop;let S=d(),y=S==null?null:S-u;u=S,a&&a({action:l,location:x.location,delta:y})}function f(S,y){l=Cn.Push;let m=Oc(x.location,S,y);u=d()+1;let g=Hp(m,u),w=x.createHref(m);try{o.pushState(g,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}s&&a&&a({action:l,location:x.location,delta:1})}function p(S,y){l=Cn.Replace;let m=Oc(x.location,S,y);u=d();let g=Hp(m,u),w=x.createHref(m);o.replaceState(g,"",w),s&&a&&a({action:l,location:x.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof S=="string"?S:Il(S);return m=m.replace(/ $/,"%20"),we(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let x={get action(){return l},get location(){return e(i,o)},listen(S){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Wp,c),a=S,()=>{i.removeEventListener(Wp,c),a=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(S){return o.go(S)}};return x}var $p;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($p||($p={}));function JS(e,t,n){return n===void 0&&(n="/"),eC(e,t,n)}function eC(e,t,n,r){let i=typeof t=="string"?bi(t):t,s=Sh(i.pathname||"/",n);if(s==null)return null;let o=g0(e);tC(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=fC(s);l=cC(o[a],u)}return l}function g0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(we(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=jn([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g0(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:aC(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of v0(s.path))i(s,o,a)}),t}function v0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=v0(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function tC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nC=/^:[\w-]+$/,rC=3,iC=2,sC=1,oC=10,lC=-2,Gp=e=>e==="*";function aC(e,t){let n=e.split("/"),r=n.length;return n.some(Gp)&&(r+=lC),t&&(r+=iC),n.filter(i=>!Gp(i)).reduce((i,s)=>i+(nC.test(s)?rC:s===""?sC:oC),r)}function uC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cC(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",c=dC({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:jn([s,c.pathname]),pathnameBase:yC(jn([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=jn([s,c.pathnameBase]))}return o}function dC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=l[c]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[c];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function hC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function fC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const pC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mC=e=>pC.test(e);function gC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bi(e):e,s;if(n)if(mC(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),wh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Kp(n.substring(1),"/"):s=Kp(n,t)}else s=t;return{pathname:s,search:xC(r),hash:_C(i)}}function Kp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ch(e,t){let n=vC(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eh(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bi(e):(i=Vs({},e),we(!i.pathname||!i.pathname.includes("?"),vu("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),vu("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),vu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let c=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?t[c]:"/"}let a=gC(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),yC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_C=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const y0=["post","put","patch","delete"];new Set(y0);const SC=["get",...y0];new Set(SC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}const kh=_.createContext(null),CC=_.createContext(null),Kn=_.createContext(null),_a=_.createContext(null),Yn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),x0=_.createContext(null);function EC(e,t){let{relative:n}=t===void 0?{}:t;Ti()||we(!1);let{basename:r,navigator:i}=_.useContext(Kn),{hash:s,pathname:o,search:l}=S0(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:jn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Ti(){return _.useContext(_a)!=null}function Ni(){return Ti()||we(!1),_.useContext(_a).location}function _0(e){_.useContext(Kn).static||_.useLayoutEffect(e)}function w0(){let{isDataRoute:e}=_.useContext(Yn);return e?OC():kC()}function kC(){Ti()||we(!1);let e=_.useContext(kh),{basename:t,future:n,navigator:r}=_.useContext(Kn),{matches:i}=_.useContext(Yn),{pathname:s}=Ni(),o=JSON.stringify(Ch(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return _0(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=Eh(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:jn([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,o,s,e])}function S0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Kn),{matches:i}=_.useContext(Yn),{pathname:s}=Ni(),o=JSON.stringify(Ch(i,r.v7_relativeSplatPath));return _.useMemo(()=>Eh(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function bC(e,t){return TC(e,t)}function TC(e,t,n,r){Ti()||we(!1);let{navigator:i}=_.useContext(Kn),{matches:s}=_.useContext(Yn),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=Ni(),d;if(t){var c;let S=typeof t=="string"?bi(t):t;a==="/"||(c=S.pathname)!=null&&c.startsWith(a)||we(!1),d=S}else d=u;let f=d.pathname||"/",p=f;if(a!=="/"){let S=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=JS(e,{pathname:p}),x=AC(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:jn([a,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:jn([a,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return t&&x?_.createElement(_a.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cn.Pop}},x):x}function NC(){let e=LC(),t=wC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,null)}const PC=_.createElement(NC,null);class IC extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Yn.Provider,{value:this.props.routeContext},_.createElement(x0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RC(e){let{routeContext:t,match:n,children:r}=e,i=_.useContext(kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Yn.Provider,{value:t},r)}function AC(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:p}=n,v=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||v){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,f)=>{let p,v=!1,x=null,S=null;n&&(p=l&&c.route.id?l[c.route.id]:void 0,x=c.route.errorElement||PC,a&&(u<0&&f===0?(FC("route-fallback"),v=!0,S=null):u===f&&(v=!0,S=c.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),m=()=>{let g;return p?g=x:v?g=S:c.route.Component?g=_.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=d,_.createElement(RC,{match:c,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?_.createElement(IC,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var C0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C0||{}),E0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E0||{});function jC(e){let t=_.useContext(kh);return t||we(!1),t}function DC(e){let t=_.useContext(CC);return t||we(!1),t}function MC(e){let t=_.useContext(Yn);return t||we(!1),t}function k0(e){let t=MC(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function LC(){var e;let t=_.useContext(x0),n=DC(),r=k0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function OC(){let{router:e}=jC(C0.UseNavigateStable),t=k0(E0.UseNavigateStable),n=_.useRef(!1);return _0(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zs({fromRouteId:t},s)))},[e,t])}const Yp={};function FC(e,t,n){Yp[e]||(Yp[e]=!0)}function VC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zC(e){let{to:t,replace:n,state:r,relative:i}=e;Ti()||we(!1);let{future:s,static:o}=_.useContext(Kn),{matches:l}=_.useContext(Yn),{pathname:a}=Ni(),u=w0(),d=Eh(t,Ch(l,s.v7_relativeSplatPath),a,i==="path"),c=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function tr(e){we(!1)}function BC(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Cn.Pop,navigator:s,static:o=!1,future:l}=e;Ti()&&we(!1);let a=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:a,navigator:s,static:o,future:zs({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=bi(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:v="default"}=r,x=_.useMemo(()=>{let S=Sh(d,a);return S==null?null:{location:{pathname:S,search:c,hash:f,state:p,key:v},navigationType:i}},[a,d,c,f,p,v,i]);return x==null?null:_.createElement(Kn.Provider,{value:u},_.createElement(_a.Provider,{children:n,value:x}))}function UC(e){let{children:t,location:n}=e;return bC(Fc(t),n)}new Promise(()=>{});function Fc(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let s=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Fc(r.props.children,s));return}r.type!==tr&&we(!1),!r.props.index||!r.props.children||we(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(this,arguments)}function WC(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function HC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $C(e,t){return e.button===0&&(!t||t==="_self")&&!HC(e)}const GC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KC="6";try{window.__reactRouterVersion=KC}catch{}const YC="startTransition",qp=F1[YC];function qC(e){let{basename:t,children:n,future:r,window:i}=e,s=_.useRef();s.current==null&&(s.current=QS({window:i,v5Compat:!0}));let o=s.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=_.useCallback(c=>{u&&qp?qp(()=>a(c)):a(c)},[a,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>VC(r),[r]),_.createElement(BC,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const QC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=_.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c}=t,f=WC(t,GC),{basename:p}=_.useContext(Kn),v,x=!1;if(typeof u=="string"&&XC.test(u)&&(v=u,QC))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),C=Sh(w.pathname,p);w.origin===g.origin&&C!=null?u=C+w.search+w.hash:x=!0}catch{}let S=EC(u,{relative:i}),y=ZC(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:c});function m(g){r&&r(g),g.defaultPrevented||y(g)}return _.createElement("a",Vc({},f,{href:v||S,onClick:x||s?r:m,ref:n,target:a}))});var Qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qp||(Qp={}));var Xp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xp||(Xp={}));function ZC(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,a=w0(),u=Ni(),d=S0(e,{relative:o});return _.useCallback(c=>{if($C(c,n)){c.preventDefault();let f=r!==void 0?r:Il(u)===Il(d);a(e,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,d,r,i,n,e,s,o,l])}var Zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(e,t){if(!e)throw Pi(t)},Pi=function(e){return new Error("Firebase Database ("+b0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},JC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;a||(p=64,o||(f=64)),r.push(n[d],n[c],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new eE;const f=s<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N0=function(e){const t=T0(e);return bh.encodeByteArray(t,!0)},Rl=function(e){return N0(e).replace(/\./g,"")},zc=function(e){try{return bh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e){return P0(void 0,e)}function P0(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!nE(n)||(e[n]=P0(e[n],t[n]));return e}function nE(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=()=>rE().__FIREBASE_DEFAULTS__,sE=()=>{if(typeof process>"u"||typeof Zp>"u")return;const e=Zp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zc(e[1]);return t&&JSON.parse(t)},I0=()=>{try{return iE()||sE()||oE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lE=e=>{var t,n;return(n=(t=I0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},aE=e=>{const t=lE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},R0=()=>{var e;return(e=I0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Rl(JSON.stringify(n)),Rl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cE())}function dE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hE(){return b0.NODE_ADMIN===!0}function fE(){try{return typeof indexedDB=="object"}catch{return!1}}function pE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="FirebaseError";class so extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mE,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j0.prototype.create)}}class j0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?gE(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new so(i,l,r)}}function gE(e,t){return e.replace(vE,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const vE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return JSON.parse(e)}function Ae(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Bs(zc(s[0])||""),n=Bs(zc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},yE=function(e){const t=D0(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xE=function(e){const t=D0(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Jp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Al(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Bc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(em(s)&&em(o)){if(!Bc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function em(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):c<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function wa(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Sa=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){return e&&e._delegate?e._delegate:e}class Us{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kE(t))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=nr){return this.instances.has(t)}getOptions(t=nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=nr){return this.component?this.component.multipleInstances?t:nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EE(e){return e===nr?void 0:e}function kE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new CE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const TE={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},NE=re.INFO,PE={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},IE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=PE[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M0{constructor(t){this.name=t,this._logLevel=NE,this._logHandler=IE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const RE=(e,t)=>t.some(n=>e instanceof n);let tm,nm;function AE(){return tm||(tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jE(){return nm||(nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Uc=new WeakMap,O0=new WeakMap,xu=new WeakMap,Th=new WeakMap;function DE(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Dn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&L0.set(n,e)}).catch(()=>{}),Th.set(t,e),t}function ME(e){if(Uc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Uc.set(e,t)}let Wc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Uc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||O0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function LE(e){Wc=e(Wc)}function OE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(_u(this),t,...n);return O0.set(r,t.sort?t.sort():[t]),Dn(r)}:jE().includes(e)?function(...t){return e.apply(_u(this),t),Dn(L0.get(this))}:function(...t){return Dn(e.apply(_u(this),t))}}function FE(e){return typeof e=="function"?OE(e):(e instanceof IDBTransaction&&ME(e),RE(e,AE())?new Proxy(e,Wc):e)}function Dn(e){if(e instanceof IDBRequest)return DE(e);if(xu.has(e))return xu.get(e);const t=FE(e);return t!==e&&(xu.set(e,t),Th.set(t,e)),t}const _u=e=>Th.get(e);function VE(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Dn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Dn(o.result),a.oldVersion,a.newVersion,Dn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const zE=["get","getKey","getAll","getAllKeys","count"],BE=["put","add","delete","clear"],wu=new Map;function rm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wu.get(t))return wu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=BE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zE.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return wu.set(t,s),s}LE(e=>({...e,get:(t,n,r)=>rm(t,n)||e.get(t,n,r),has:(t,n)=>!!rm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hc="@firebase/app",im="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new M0("@firebase/app"),HE="@firebase/app-compat",$E="@firebase/analytics-compat",GE="@firebase/analytics",KE="@firebase/app-check-compat",YE="@firebase/app-check",qE="@firebase/auth",QE="@firebase/auth-compat",XE="@firebase/database",ZE="@firebase/data-connect",JE="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",rk="@firebase/installations-compat",ik="@firebase/messaging",sk="@firebase/messaging-compat",ok="@firebase/performance",lk="@firebase/performance-compat",ak="@firebase/remote-config",uk="@firebase/remote-config-compat",ck="@firebase/storage",dk="@firebase/storage-compat",hk="@firebase/firestore",fk="@firebase/vertexai-preview",pk="@firebase/firestore-compat",mk="firebase",gk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]",vk={[Hc]:"fire-core",[HE]:"fire-core-compat",[GE]:"fire-analytics",[$E]:"fire-analytics-compat",[YE]:"fire-app-check",[KE]:"fire-app-check-compat",[qE]:"fire-auth",[QE]:"fire-auth-compat",[XE]:"fire-rtdb",[ZE]:"fire-data-connect",[JE]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[rk]:"fire-iid-compat",[ik]:"fire-fcm",[sk]:"fire-fcm-compat",[ok]:"fire-perf",[lk]:"fire-perf-compat",[ak]:"fire-rc",[uk]:"fire-rc-compat",[ck]:"fire-gcs",[dk]:"fire-gcs-compat",[hk]:"fire-fst",[pk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[mk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,yk=new Map,Gc=new Map;function sm(e,t){try{e.container.addComponent(t)}catch(n){an.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dl(e){const t=e.name;if(Gc.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Gc.set(t,e);for(const n of jl.values())sm(n,e);for(const n of yk.values())sm(n,e);return!0}function xk(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mn=new j0("app","Firebase",_k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=gk;function F0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$c,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Mn.create("bad-app-name",{appName:String(i)});if(n||(n=R0()),!n)throw Mn.create("no-options");const s=jl.get(i);if(s){if(Bc(n,s.options)&&Bc(r,s.config))return s;throw Mn.create("duplicate-app",{appName:i})}const o=new bE(i);for(const a of Gc.values())o.addComponent(a);const l=new wk(n,r,o);return jl.set(i,l),l}function Ck(e=$c){const t=jl.get(e);if(!t&&e===$c&&R0())return F0();if(!t)throw Mn.create("no-app",{appName:e});return t}function ii(e,t,n){var r;let i=(r=vk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(l.join(" "));return}Dl(new Us(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebase-heartbeat-database",kk=1,Ws="firebase-heartbeat-store";let Su=null;function V0(){return Su||(Su=VE(Ek,kk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ws)}catch(n){console.warn(n)}}}}).catch(e=>{throw Mn.create("idb-open",{originalErrorMessage:e.message})})),Su}async function bk(e){try{const n=(await V0()).transaction(Ws),r=await n.objectStore(Ws).get(z0(e));return await n.done,r}catch(t){if(t instanceof so)an.warn(t.message);else{const n=Mn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(n.message)}}}async function om(e,t){try{const r=(await V0()).transaction(Ws,"readwrite");await r.objectStore(Ws).put(t,z0(e)),await r.done}catch(n){if(n instanceof so)an.warn(n.message);else{const r=Mn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});an.warn(r.message)}}}function z0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1024,Nk=30*24*60*60*1e3;class Pk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lm();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Nk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){an.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lm(),{heartbeatsToSend:r,unsentEntries:i}=Ik(this._heartbeatsCache.heartbeats),s=Rl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return an.warn(n),""}}}function lm(){return new Date().toISOString().substring(0,10)}function Ik(e,t=Tk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),am(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),am(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fE()?pE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function am(e){return Rl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e){Dl(new Us("platform-logger",t=>new UE(t),"PRIVATE")),Dl(new Us("heartbeat",t=>new Pk(t),"PRIVATE")),ii(Hc,im,e),ii(Hc,im,"esm2017"),ii("fire-js","")}Ak("");var um={};const cm="@firebase/database",dm="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0="";function jk(e){B0=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ae(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Bs(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dk(t)}}catch{}return new Mk},cr=U0("localStorage"),Lk=U0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new M0("@firebase/database"),Ok=function(){let e=1;return function(){return e++}}(),W0=function(e){const t=SE(e),n=new wE;n.update(t);const r=n.digest();return bh.encodeByteArray(r)},oo=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=oo.apply(null,r):typeof r=="object"?t+=Ae(r):t+=r,t+=" "}return t};let ds=null,hm=!0;const Fk=function(e,t){N(!0,"Can't turn on custom loggers persistently."),si.logLevel=re.VERBOSE,ds=si.log.bind(si)},Le=function(...e){if(hm===!0&&(hm=!1,ds===null&&Lk.get("logging_enabled")===!0&&Fk()),ds){const t=oo.apply(null,e);ds(t)}},lo=function(e){return function(...t){Le(e,...t)}},Kc=function(...e){const t="FIREBASE INTERNAL ERROR: "+oo(...e);si.error(t)},un=function(...e){const t=`FIREBASE FATAL ERROR: ${oo(...e)}`;throw si.error(t),new Error(t)},qe=function(...e){const t="FIREBASE WARNING: "+oo(...e);si.warn(t)},Vk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nh=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zk=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gi="[MIN_NAME]",_r="[MAX_NAME]",br=function(e,t){if(e===t)return 0;if(e===gi||t===_r)return-1;if(t===gi||e===_r)return 1;{const n=fm(e),r=fm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Bk=function(e,t){return e===t?0:e<t?-1:1},Ui=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ae(t))},Ph=function(e){if(typeof e!="object"||e===null)return Ae(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ae(t[r]),n+=":",n+=Ph(e[t[r]]);return n+="}",n},H0=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ve(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const $0=function(e){N(!Nh(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Uk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Wk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const $k=new RegExp("^-?(0*)\\d{1,10}$"),Gk=-2147483648,Kk=2147483647,fm=function(e){if($k.test(e)){const t=Number(e);if(t>=Gk&&t<=Kk)return t}return null},Ri=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw qe("Exception was thrown by user callback.",n),t},Math.floor(0))}},Yk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hs=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Le("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(t)}}class el{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}el.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="5",G0="v",K0="s",Y0="r",q0="f",Q0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X0="ls",Z0="p",Yc="ac",J0="websocket",ex="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&cr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Xk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function nx(e,t,n){N(typeof t=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(t===J0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ex)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Xk(e)&&(n.ns=e.namespace);const i=[];return Ve(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.counters_={}}incrementCounter(t,n=1){Ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return tE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={},Eu={};function Rh(e){const t=e.toString();return Cu[t]||(Cu[t]=new Zk),Cu[t]}function Jk(e,t){const n=e.toString();return Eu[n]||(Eu[n]=t()),Eu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ri(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="start",tb="close",nb="pLPCommand",rb="pRTLPCB",rx="id",ix="pw",sx="ser",ib="cb",sb="seg",ob="ts",lb="d",ab="dframe",ox=1870,lx=30,ub=ox-lx,cb=25e3,db=3e4;class Gr{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lo(t),this.stats_=Rh(n),this.urlFn=a=>(this.appCheckToken&&(a[Yc]=this.appCheckToken),nx(n,ex,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new eb(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(db)),zk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ah((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===pm)this.id=l,this.password=a;else if(o===tb)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[pm]="t",r[sx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ib]=this.scriptTagHolder.uniqueCallbackIdentifier),r[G0]=Ih,this.transportSessionId&&(r[K0]=this.transportSessionId),this.lastSessionId&&(r[X0]=this.lastSessionId),this.applicationId&&(r[Z0]=this.applicationId),this.appCheckToken&&(r[Yc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q0.test(location.hostname)&&(r[Y0]=q0);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gr.forceAllow_=!0}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){return Gr.forceAllow_?!0:!Gr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uk()&&!Wk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ae(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N0(n),i=H0(r,ub);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ab]="t",r[rx]=t,r[ix]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ae(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ah{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ok(),window[nb+this.uniqueCallbackIdentifier]=t,window[rb+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ah.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Le("frame writing exception"),l.stack&&Le(l.stack),Le(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Le("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rx]=this.myID,t[ix]=this.myPW,t[sx]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lx+r.length<=ox;){const o=this.pendingSegs.shift();r=r+"&"+sb+i+"="+o.seg+"&"+ob+i+"="+o.ts+"&"+lb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(cb)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Le("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=16384,fb=45e3;let Ml=null;typeof MozWebSocket<"u"?Ml=MozWebSocket:typeof WebSocket<"u"&&(Ml=WebSocket);class Nt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lo(this.connId),this.stats_=Rh(n),this.connURL=Nt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[G0]=Ih,typeof location<"u"&&location.hostname&&Q0.test(location.hostname)&&(o[Y0]=q0),n&&(o[K0]=n),r&&(o[X0]=r),i&&(o[Yc]=i),s&&(o[Z0]=s),nx(t,J0,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cr.set("previous_websocket_failure",!0);try{let r;hE(),this.mySock=new Ml(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Nt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ml!==null&&!Nt.forceDisallow_}static previouslyFailed(){return cr.isInMemoryStorage||cr.get("previous_websocket_failure")===!0}markConnectionHealthy(){cr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Bs(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(N(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ae(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=H0(n,hb);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fb))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nt.responsesRequiredToBeHealthy=2;Nt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Gr,Nt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Nt&&Nt.isAvailable();let r=n&&!Nt.previouslyFailed();if(t.webSocketOnly&&(n||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nt];else{const i=this.transports_=[];for(const s of Hs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Hs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=6e4,mb=5e3,gb=10*1024,vb=100*1024,ku="t",mm="d",yb="s",gm="r",xb="e",vm="o",ym="a",xm="n",_m="p",_b="h";class wb{constructor(t,n,r,i,s,o,l,a,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lo("c:"+this.id+":"),this.transportManager_=new Hs(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ku in t){const n=t[ku];n===ym?this.upgradeIfSecondaryHealthy_():n===gm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===vm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ui("t",t),r=Ui("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_m,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ym,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ui("t",t),r=Ui("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ui(ku,t);if(mm in t){const r=t[mm];if(n===_b){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===xm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yb?this.onConnectionShutdown_(r):n===gm?this.onReset_(r):n===xb?Kc("Server Error: "+r):n===vm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kc("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ih!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pb))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_m,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.allowedEvents_=t,this.listeners_={},N(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){N(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends ux{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!A0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ll}getInitialEvent(t){return N(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=32,Sm=768;class ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function q(){return new ee("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function zn(e){return e.pieces_.length-e.pieceNum_}function ie(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ee(e.pieces_,t)}function jh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Sb(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function $s(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function cx(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ee(t,0)}function ge(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function tt(e,t){const n=U(e),r=U(t);if(n===null)return t;if(n===r)return tt(ie(e),ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Cb(e,t){const n=$s(e,0),r=$s(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=br(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Dh(e,t){if(zn(e)!==zn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _t(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(zn(e)>zn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Eb{constructor(t,n){this.errorPrefix_=n,this.parts_=$s(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sa(this.parts_[r]);dx(this)}}function kb(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Sa(t),dx(e)}function bb(e){const t=e.parts_.pop();e.byteLength_-=Sa(t),e.parts_.length>0&&(e.byteLength_-=1)}function dx(e){if(e.byteLength_>Sm)throw new Error(e.errorPrefix_+"has a key path longer than "+Sm+" bytes ("+e.byteLength_+").");if(e.parts_.length>wm)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wm+") or object contains a cycle "+rr(e))}function rr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends ux{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Mh}getInitialEvent(t){return N(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=1e3,Tb=60*5*1e3,Cm=30*1e3,Nb=1.3,Pb=3e4,Ib="server_kill",Em=3;class en extends ax{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=en.nextPersistentConnectionId_++,this.log_=lo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wi,this.maxReconnectDelay_=Tb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ll.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Ae(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new io,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;en.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Ht(t,"w")){const r=mi(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||xE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=yE(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ae(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Kc("Unrecognized action received from server: "+Ae(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Pb&&(this.reconnectDelay_=Wi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Nb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+en.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Le("getToken() completed but was canceled"):(Le("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new wb(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{qe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ib)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&qe(c),a())}}}interrupt(t){Le("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Le("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Jp(this.interruptReasons_)&&(this.reconnectDelay_=Wi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Ph(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ee(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Le("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Em&&(this.reconnectDelay_=Cm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Le("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Em&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+B0.replace(/\./g,"-")]=1,A0()?t["framework.cordova"]=1:dE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ll.getInstance().currentlyOnline();return Jp(this.interruptReasons_)&&t}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new W(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new W(gi,t),i=new W(gi,n);return this.compare(r,i)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class hx extends Ca{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(t){Mo=t}compare(t,n){return br(t.name,n.name)}isDefinedOn(t){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(_r,Mo)}makePost(t,n){return N(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,Mo)}toString(){return".key"}}const oi=new hx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ie{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ie.RED,this.left=i??nt.EMPTY_NODE,this.right=s??nt.EMPTY_NODE}copy(t,n,r,i,s){return new Ie(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return nt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ie.RED=!0;Ie.BLACK=!1;class Rb{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ie(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nt{constructor(t,n=nt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new nt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ie.BLACK,null,null))}remove(t){return new nt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ie.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Lo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Lo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Lo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Lo(this.root_,null,this.comparator_,!0,t)}}nt.EMPTY_NODE=new Rb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e,t){return br(e.name,t.name)}function Lh(e,t){return br(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc;function jb(e){qc=e}const fx=function(e){return typeof e=="number"?"number:"+$0(e):"string:"+e},px=function(e){if(e.isLeafNode()){const t=e.val();N(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ht(t,".sv"),"Priority must be a string or number.")}else N(e===qc||e.isEmpty(),"priority of unexpected type.");N(e===qc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km;class Ne{constructor(t,n=Ne.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),px(this.priorityNode_)}static set __childrenNodeConstructor(t){km=t}static get __childrenNodeConstructor(){return km}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ne(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return H(t)?this:U(t)===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ne.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=U(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||zn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ne.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fx(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=$0(this.value_):t+=this.value_,this.lazyHash_=W0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ne.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ne.__childrenNodeConstructor?-1:(N(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Ne.VALUE_TYPE_ORDER.indexOf(n),s=Ne.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ne.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx,gx;function Db(e){mx=e}function Mb(e){gx=e}class Lb extends Ca{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?br(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(_r,new Ne("[PRIORITY-POST]",gx))}makePost(t,n){const r=mx(t);return new W(n,new Ne("[PRIORITY-POST]",r))}toString(){return".priority"}}const ye=new Lb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=Math.log(2);class Fb{constructor(t){const n=s=>parseInt(Math.log(s)/Ob,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ol=function(e,t,n,r){e.sort(t);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=e[a],f=n?n(c):c,new Ie(f,c.node,Ie.BLACK,null,null);{const p=parseInt(d/2,10)+a,v=i(a,p),x=i(p+1,u);return c=e[p],f=n?n(c):c,new Ie(f,c.node,Ie.BLACK,v,x)}},s=function(a){let u=null,d=null,c=e.length;const f=function(v,x){const S=c-v,y=c;c-=v;const m=i(S+1,y),g=e[S],w=n?n(g):g;p(new Ie(w,g.node,x,null,m))},p=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const x=a.nextBitIsOne(),S=Math.pow(2,a.count-(v+1));x?f(S,Ie.BLACK):(f(S,Ie.BLACK),f(S,Ie.RED))}return d},o=new Fb(e.length),l=s(o);return new nt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;const Ar={};class Xt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return N(Ar&&ye,"ChildrenNode.ts has not been loaded"),bu=bu||new Xt({".priority":Ar},{".priority":ye}),bu}get(t){const n=mi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof nt?n:null}hasIndex(t){return Ht(this.indexSet_,t.toString())}addIndex(t,n){N(t!==oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(W.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ol(r,t.getCompare()):l=Ar;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const d=Object.assign({},this.indexes_);return d[a]=l,new Xt(d,u)}addToIndexes(t,n){const r=Al(this.indexes_,(i,s)=>{const o=mi(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Ar)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(W.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Ol(l,o.getCompare())}else return Ar;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new W(t.name,l))),a.insert(t,t.node)}});return new Xt(r,this.indexSet_)}removeFromIndexes(t,n){const r=Al(this.indexes_,i=>{if(i===Ar)return i;{const s=n.get(t.name);return s?i.remove(new W(t.name,s)):i}});return new Xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi;class O{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&px(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hi||(Hi=new O(new nt(Lh),null,Xt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hi}updatePriority(t){return this.children_.isEmpty()?this:new O(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hi:n}}getChild(t){const n=U(t);return n===null?this:this.getImmediateChild(n).getChild(ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(N(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new W(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hi:this.priorityNode_;return new O(i,o,s)}}updateChild(t,n){const r=U(t);if(r===null)return n;{N(U(t)!==".priority"||zn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ie(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ye,(o,l)=>{n[o]=l.val(t),r++,s&&O.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+fx(this.getPriority().val())+":"),this.forEachChild(ye,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":W0(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new W(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new W(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new W(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,W.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,W.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ao?-1:0}withIndex(t){if(t===oi||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===oi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ye),i=n.getIterator(ye);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===oi?null:this.indexMap_.get(t.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Vb extends O{constructor(){super(new nt(Lh),O.EMPTY_NODE,Xt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return O.EMPTY_NODE}isEmpty(){return!1}}const ao=new Vb;Object.defineProperties(W,{MIN:{value:new W(gi,O.EMPTY_NODE)},MAX:{value:new W(_r,ao)}});hx.__EMPTY_NODE=O.EMPTY_NODE;Ne.__childrenNodeConstructor=O;jb(ao);Mb(ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=!0;function Re(e,t=null){if(e===null)return O.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),N(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ne(n,Re(t))}if(!(e instanceof Array)&&zb){const n=[];let r=!1;if(Ve(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=Re(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new W(o,a)))}}),n.length===0)return O.EMPTY_NODE;const s=Ol(n,Ab,o=>o.name,Lh);if(r){const o=Ol(n,ye.getCompare());return new O(s,Re(t),new Xt({".priority":o},{".priority":ye}))}else return new O(s,Re(t),Xt.Default)}else{let n=O.EMPTY_NODE;return Ve(e,(r,i)=>{if(Ht(e,r)&&r.substring(0,1)!=="."){const s=Re(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Re(t))}}Db(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Ca{constructor(t){super(),this.indexPath_=t,N(!H(t)&&U(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?br(t.name,n.name):s}makePost(t,n){const r=Re(t),i=O.EMPTY_NODE.updateChild(this.indexPath_,r);return new W(n,i)}maxPost(){const t=O.EMPTY_NODE.updateChild(this.indexPath_,ao);return new W(_r,t)}toString(){return $s(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Ca{compare(t,n){const r=t.node.compareTo(n.node);return r===0?br(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){const r=Re(t);return new W(n,r)}toString(){return".value"}}const Wb=new Ub;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(e){return{type:"value",snapshotNode:e}}function vi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Gs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ks(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Hb(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){N(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Gs(n,l)):N(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(vi(n,r)):o.trackChildChange(Ks(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(Gs(i,s))}),n.isLeafNode()||n.forEachChild(ye,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ks(i,s,o))}else r.trackChildChange(vi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?O.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.indexedFilter_=new Oh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ys.getStartPost_(t),this.endPost_=Ys.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new W(n,r))||(r=O.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=O.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(O.EMPTY_NODE);const s=this;return n.forEachChild(ye,(o,l)=>{s.matches(new W(o,l))||(i=i.updateImmediateChild(o,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ys(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new W(n,r))||(r=O.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=O.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(O.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(f,p)=>c(p,f)}else o=this.index_.getCompare();const l=t;N(l.numChildren()===this.limit_,"");const a=new W(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,a);if(d&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Ks(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Gs(n,c));const x=l.updateImmediateChild(n,O.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(vi(f.name,f.node)),x.updateImmediateChild(f.name,f.node)):x}}else return r.isEmpty()?t:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Gs(u.name,u.node)),s.trackChildChange(vi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,O.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gi}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const t=new Fh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Gb(e){return e.loadsAllData()?new Oh(e.getIndex()):e.hasLimit()?new $b(e):new Ys(e)}function bm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ye?n="$priority":e.index_===Wb?n="$value":e.index_===oi?n="$key":(N(e.index_ instanceof Bb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ae(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ae(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ae(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ae(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ae(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Tm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ye&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends ax{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(N(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Fl.getListenId_(t,r),l={};this.listens_[o]=l;const a=bm(t._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),mi(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Fl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=bm(t._queryParams),r=t._path.toString(),i=new io;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+_E(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Bs(l.responseText)}catch{qe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&qe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return{value:null,children:new Map}}function yx(e,t,n){if(H(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=U(t);e.children.has(r)||e.children.set(r,Vl());const i=e.children.get(r);t=ie(t),yx(i,t,n)}}function Qc(e,t,n){e.value!==null?n(t,e.value):Yb(e,(r,i)=>{const s=new ee(t.toString()+"/"+r);Qc(i,s,n)})}function Yb(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ve(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=10*1e3,Qb=30*1e3,Xb=5*60*1e3;class Zb{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qb(t);const r=Nm+(Qb-Nm)*Math.random();hs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ve(t,(i,s)=>{s>0&&Ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*Xb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function Vh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=Vh()}operationForChild(t){if(H(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ee(t));return new zl(q(),n,this.revert)}}else return N(U(this.path)===t,"operationForChild called for unrelated child."),new zl(ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){this.source=t,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(t){return H(this.path)?new qs(this.source,q()):new qs(this.source,ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(t){return H(this.path)?new wr(this.source,q(),this.snap.getImmediateChild(t)):new wr(this.source,ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(t){if(H(this.path)){const n=this.children.subtree(new ee(t));return n.isEmpty()?null:n.value?new wr(this.source,q(),n.value):new yi(this.source,q(),n)}else return N(U(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new yi(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(H(t))return this.isFullyInitialized()&&!this.filtered_;const n=U(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function e2(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Hb(o.childName,o.snapshotNode))}),$i(e,i,"child_removed",t,r,n),$i(e,i,"child_added",t,r,n),$i(e,i,"child_moved",s,r,n),$i(e,i,"child_changed",t,r,n),$i(e,i,"value",t,r,n),i}function $i(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>n2(e,l,a)),o.forEach(l=>{const a=t2(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function t2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function n2(e,t,n){if(t.childName==null||n.childName==null)throw Pi("Should only compare child_ events.");const r=new W(t.childName,t.snapshotNode),i=new W(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e,t){return{eventCache:e,serverCache:t}}function fs(e,t,n,r){return Ea(new Sr(t,n,r),e.serverCache)}function xx(e,t,n,r){return Ea(e.eventCache,new Sr(t,n,r))}function Xc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const r2=()=>(Tu||(Tu=new nt(Bk)),Tu);class ne{constructor(t,n=r2()){this.value=t,this.children=n}static fromObject(t){let n=new ne(null);return Ve(t,(r,i)=>{n=n.set(new ee(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(H(t))return null;{const r=U(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ie(t),n);return s!=null?{path:ge(new ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(H(t))return this;{const n=U(t),r=this.children.get(n);return r!==null?r.subtree(ie(t)):new ne(null)}}set(t,n){if(H(t))return new ne(n,this.children);{const r=U(t),s=(this.children.get(r)||new ne(null)).set(ie(t),n),o=this.children.insert(r,s);return new ne(this.value,o)}}remove(t){if(H(t))return this.children.isEmpty()?new ne(null):new ne(null,this.children);{const n=U(t),r=this.children.get(n);if(r){const i=r.remove(ie(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ne(null):new ne(this.value,s)}else return this}}get(t){if(H(t))return this.value;{const n=U(t),r=this.children.get(n);return r?r.get(ie(t)):null}}setTree(t,n){if(H(t))return n;{const r=U(t),s=(this.children.get(r)||new ne(null)).setTree(ie(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ne(this.value,o)}}fold(t){return this.fold_(q(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ge(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,q(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(H(t))return null;{const s=U(t),o=this.children.get(s);return o?o.findOnPath_(ie(t),ge(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,q(),n)}foreachOnPath_(t,n,r){if(H(t))return this;{this.value&&r(n,this.value);const i=U(t),s=this.children.get(i);return s?s.foreachOnPath_(ie(t),ge(n,i),r):new ne(null)}}foreach(t){this.foreach_(q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ge(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.writeTree_=t}static empty(){return new jt(new ne(null))}}function ps(e,t,n){if(H(t))return new jt(new ne(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=tt(i,t);return s=s.updateChild(o,n),new jt(e.writeTree_.set(i,s))}else{const i=new ne(n),s=e.writeTree_.setTree(t,i);return new jt(s)}}}function Zc(e,t,n){let r=e;return Ve(n,(i,s)=>{r=ps(r,ge(t,i),s)}),r}function Pm(e,t){if(H(t))return jt.empty();{const n=e.writeTree_.setTree(t,new ne(null));return new jt(n)}}function Jc(e,t){return Tr(e,t)!=null}function Tr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(tt(n.path,t)):null}function Im(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ye,(r,i)=>{t.push(new W(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new W(r,i.value))}),t}function Ln(e,t){if(H(t))return e;{const n=Tr(e,t);return n!=null?new jt(new ne(n)):new jt(e.writeTree_.subtree(t))}}function ed(e){return e.writeTree_.isEmpty()}function xi(e,t){return _x(q(),e.writeTree_,t)}function _x(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_x(ge(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ge(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e,t){return Ex(t,e)}function i2(e,t,n,r,i){N(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ps(e.visibleWrites,t,n)),e.lastWriteId=r}function s2(e,t,n,r){N(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Zc(e.visibleWrites,t,n),e.lastWriteId=r}function o2(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function l2(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);N(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&a2(l,r.path)?i=!1:_t(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return u2(e),!0;if(r.snap)e.visibleWrites=Pm(e.visibleWrites,r.path);else{const l=r.children;Ve(l,a=>{e.visibleWrites=Pm(e.visibleWrites,ge(r.path,a))})}return!0}else return!1}function a2(e,t){if(e.snap)return _t(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_t(ge(e.path,n),t))return!0;return!1}function u2(e){e.visibleWrites=wx(e.allWrites,c2,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function c2(e){return e.visible}function wx(e,t,n){let r=jt.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)_t(n,o)?(l=tt(n,o),r=ps(r,l,s.snap)):_t(o,n)&&(l=tt(o,n),r=ps(r,q(),s.snap.getChild(l)));else if(s.children){if(_t(n,o))l=tt(n,o),r=Zc(r,l,s.children);else if(_t(o,n))if(l=tt(o,n),H(l))r=Zc(r,q(),s.children);else{const a=mi(s.children,U(l));if(a){const u=a.getChild(ie(l));r=ps(r,q(),u)}}}else throw Pi("WriteRecord should have .snap or .children")}}return r}function Sx(e,t,n,r,i){if(!r&&!i){const s=Tr(e.visibleWrites,t);if(s!=null)return s;{const o=Ln(e.visibleWrites,t);if(ed(o))return n;if(n==null&&!Jc(o,q()))return null;{const l=n||O.EMPTY_NODE;return xi(o,l)}}}else{const s=Ln(e.visibleWrites,t);if(!i&&ed(s))return n;if(!i&&n==null&&!Jc(s,q()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(_t(u.path,t)||_t(t,u.path))},l=wx(e.allWrites,o,t),a=n||O.EMPTY_NODE;return xi(l,a)}}}function d2(e,t,n){let r=O.EMPTY_NODE;const i=Tr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ye,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ln(e.visibleWrites,t);return n.forEachChild(ye,(o,l)=>{const a=xi(Ln(s,new ee(o)),l);r=r.updateImmediateChild(o,a)}),Im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ln(e.visibleWrites,t);return Im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function h2(e,t,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ge(t,n);if(Jc(e.visibleWrites,s))return null;{const o=Ln(e.visibleWrites,s);return ed(o)?i.getChild(n):xi(o,i.getChild(n))}}function f2(e,t,n,r){const i=ge(t,n),s=Tr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ln(e.visibleWrites,i);return xi(o,r.getNode().getImmediateChild(n))}else return null}function p2(e,t){return Tr(e.visibleWrites,t)}function m2(e,t,n,r,i,s,o){let l;const a=Ln(e.visibleWrites,t),u=Tr(a,q());if(u!=null)l=u;else if(n!=null)l=xi(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let p=f.getNext();for(;p&&d.length<i;)c(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function g2(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Bl(e,t,n,r){return Sx(e.writeTree,e.treePath,t,n,r)}function Wh(e,t){return d2(e.writeTree,e.treePath,t)}function Rm(e,t,n,r){return h2(e.writeTree,e.treePath,t,n,r)}function Ul(e,t){return p2(e.writeTree,ge(e.treePath,t))}function v2(e,t,n,r,i,s){return m2(e.writeTree,e.treePath,t,n,r,i,s)}function Hh(e,t,n){return f2(e.writeTree,e.treePath,t,n)}function Cx(e,t){return Ex(ge(e.treePath,t),e.writeTree)}function Ex(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ks(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Gs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,vi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ks(r,t.snapshotNode,i.oldSnap));else throw Pi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const kx=new x2;class $h{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Sr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hh(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cr(this.viewCache_),s=v2(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e){return{filter:e}}function w2(e,t){N(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),N(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function S2(e,t,n,r,i){const s=new y2;let o,l;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=td(e,t,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!H(u.path),o=Wl(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=E2(e,t,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=nd(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=T2(e,t,u.path,r,i,s):o=k2(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Pt.LISTEN_COMPLETE)o=b2(e,t,n.path,r,s);else throw Pi("Unknown operation type: "+n.type);const a=s.getChanges();return C2(t,o,a),{viewCache:o,changes:a}}function C2(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Xc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(vx(Xc(t)))}}function bx(e,t,n,r,i,s){const o=t.eventCache;if(Ul(r,n)!=null)return t;{let l,a;if(H(n))if(N(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Cr(t),d=u instanceof O?u:O.EMPTY_NODE,c=Wh(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const u=Bl(r,Cr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=U(n);if(u===".priority"){N(zn(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=t.serverCache.getNode();const c=Rm(r,n,d,a);c!=null?l=e.filter.updatePriority(d,c):l=o.getNode()}else{const d=ie(n);let c;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=Rm(r,n,o.getNode(),a);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=Hh(r,u,t.serverCache);c!=null?l=e.filter.updateChild(o.getNode(),u,c,d,i,s):l=o.getNode()}}return fs(t,l,o.isFullyInitialized()||H(n),e.filter.filtersNodes())}}function Wl(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const d=o?e.filter:e.filter.getIndexedFilter();if(H(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),p,null)}else{const p=U(n);if(!a.isCompleteForPath(n)&&zn(n)>1)return t;const v=ie(n),S=a.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=d.updatePriority(a.getNode(),S):u=d.updateChild(a.getNode(),p,S,v,kx,null)}const c=xx(t,u,a.isFullyInitialized()||H(n),d.filtersNodes()),f=new $h(i,c,s);return bx(e,c,n,i,f,l)}function td(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const d=new $h(i,t,s);if(H(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=fs(t,u,!0,e.filter.filtersNodes());else{const c=U(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=fs(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=ie(n),p=l.getNode().getImmediateChild(c);let v;if(H(f))v=r;else{const x=d.getCompleteChild(c);x!=null?jh(f)===".priority"&&x.getChild(cx(f)).isEmpty()?v=x:v=x.updateChild(f,r):v=O.EMPTY_NODE}if(p.equals(v))a=t;else{const x=e.filter.updateChild(l.getNode(),c,v,f,d,o);a=fs(t,x,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function Am(e,t){return e.eventCache.isCompleteForChild(t)}function E2(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const d=ge(n,a);Am(t,U(d))&&(l=td(e,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=ge(n,a);Am(t,U(d))||(l=td(e,l,d,u,i,s,o))}),l}function jm(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function nd(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;H(n)?u=r:u=new ne(null).setTree(n,r);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const p=t.serverCache.getNode().getImmediateChild(c),v=jm(e,p,f);a=Wl(e,a,new ee(c),v,i,s,o,l)}}),u.children.inorderTraversal((c,f)=>{const p=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!p){const v=t.serverCache.getNode().getImmediateChild(c),x=jm(e,v,f);a=Wl(e,a,new ee(c),x,i,s,o,l)}}),a}function k2(e,t,n,r,i,s,o){if(Ul(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(H(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Wl(e,t,n,a.getNode().getChild(n),i,s,l,o);if(H(n)){let u=new ne(null);return a.getNode().forEachChild(oi,(d,c)=>{u=u.set(new ee(d),c)}),nd(e,t,n,u,i,s,l,o)}else return t}else{let u=new ne(null);return r.foreach((d,c)=>{const f=ge(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),nd(e,t,n,u,i,s,l,o)}}function b2(e,t,n,r,i){const s=t.serverCache,o=xx(t,s.getNode(),s.isFullyInitialized()||H(n),s.isFiltered());return bx(e,o,n,r,kx,i)}function T2(e,t,n,r,i,s){let o;if(Ul(r,n)!=null)return t;{const l=new $h(r,t,i),a=t.eventCache.getNode();let u;if(H(n)||U(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Bl(r,Cr(t));else{const c=t.serverCache.getNode();N(c instanceof O,"serverChildren would be complete if leaf node"),d=Wh(r,c)}d=d,u=e.filter.updateFullNode(a,d,s)}else{const d=U(n);let c=Hh(r,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=e.filter.updateChild(a,d,c,ie(n),l,s):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(a,d,O.EMPTY_NODE,ie(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Bl(r,Cr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Ul(r,q())!=null,fs(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Oh(r.getIndex()),s=Gb(r);this.processor_=_2(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(O.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(O.EMPTY_NODE,l.getNode(),null),d=new Sr(a,o.isFullyInitialized(),i.filtersNodes()),c=new Sr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ea(c,d),this.eventGenerator_=new Jb(this.query_)}get query(){return this.query_}}function P2(e){return e.viewCache_.serverCache.getNode()}function I2(e,t){const n=Cr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!H(t)&&!n.getImmediateChild(U(t)).isEmpty())?n.getChild(t):null}function Dm(e){return e.eventRegistrations_.length===0}function R2(e,t){e.eventRegistrations_.push(t)}function Mm(e,t,n){const r=[];if(n){N(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Lm(e,t,n,r){t.type===Pt.MERGE&&t.source.queryId!==null&&(N(Cr(e.viewCache_),"We should always have a full cache before handling merges"),N(Xc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=S2(e.processor_,i,t,n,r);return w2(e.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Tx(e,s.changes,s.viewCache.eventCache.getNode(),null)}function A2(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ye,(s,o)=>{r.push(vi(s,o))}),n.isFullyInitialized()&&r.push(vx(n.getNode())),Tx(e,r,n.getNode(),t)}function Tx(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return e2(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;class j2{constructor(){this.views=new Map}}function D2(e){N(!Hl,"__referenceConstructor has already been defined"),Hl=e}function M2(){return N(Hl,"Reference.ts has not been loaded"),Hl}function L2(e){return e.views.size===0}function Gh(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),Lm(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Lm(o,t,n,r));return s}}function O2(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Bl(n,i?r:null),a=!1;l?a=!0:r instanceof O?(l=Wh(n,r),a=!1):(l=O.EMPTY_NODE,a=!1);const u=Ea(new Sr(l,a,!1),new Sr(r,i,!1));return new N2(t,u)}return o}function F2(e,t,n,r,i,s){const o=O2(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),R2(o,n),A2(o,n)}function V2(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Bn(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(Mm(u,n,r)),Dm(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(Mm(a,n,r)),Dm(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Bn(e)&&s.push(new(M2())(t._repo,t._path)),{removed:s,events:o}}function Nx(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function li(e,t){let n=null;for(const r of e.views.values())n=n||I2(r,t);return n}function Px(e,t){if(t._queryParams.loadsAllData())return ka(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Ix(e,t){return Px(e,t)!=null}function Bn(e){return ka(e)!=null}function ka(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;function z2(e){N(!$l,"__referenceConstructor has already been defined"),$l=e}function B2(){return N($l,"Reference.ts has not been loaded"),$l}let U2=1;class Om{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ne(null),this.pendingWriteTree_=g2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rx(e,t,n,r,i){return i2(e.pendingWriteTree_,t,n,r,i),i?Ai(e,new wr(Vh(),t,n)):[]}function W2(e,t,n,r){s2(e.pendingWriteTree_,t,n,r);const i=ne.fromObject(n);return Ai(e,new yi(Vh(),t,i))}function En(e,t,n=!1){const r=o2(e.pendingWriteTree_,t);if(l2(e.pendingWriteTree_,t)){let s=new ne(null);return r.snap!=null?s=s.set(q(),!0):Ve(r.children,o=>{s=s.set(new ee(o),!0)}),Ai(e,new zl(r.path,s,n))}else return[]}function ba(e,t,n){return Ai(e,new wr(zh(),t,n))}function H2(e,t,n){const r=ne.fromObject(n);return Ai(e,new yi(zh(),t,r))}function $2(e,t){return Ai(e,new qs(zh(),t))}function G2(e,t,n){const r=Yh(e,n);if(r){const i=qh(r),s=i.path,o=i.queryId,l=tt(s,t),a=new qs(Bh(o),l);return Qh(e,s,a)}else return[]}function rd(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||Ix(o,t))){const a=V2(o,t,n,r);L2(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(f,p)=>Bn(p));if(d&&!c){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=q2(f);for(let v=0;v<p.length;++v){const x=p[v],S=x.query,y=Dx(e,x);e.listenProvider_.startListening(ms(S),Gl(e,S),y.hashFn,y.onComplete)}}}!c&&u.length>0&&!r&&(d?e.listenProvider_.stopListening(ms(t),null):u.forEach(f=>{const p=e.queryToTagMap.get(Ta(f));e.listenProvider_.stopListening(ms(f),p)}))}Q2(e,u)}return l}function K2(e,t,n,r){const i=Yh(e,r);if(i!=null){const s=qh(i),o=s.path,l=s.queryId,a=tt(o,t),u=new wr(Bh(l),a,n);return Qh(e,o,u)}else return[]}function Y2(e,t,n,r){const i=Yh(e,r);if(i){const s=qh(i),o=s.path,l=s.queryId,a=tt(o,t),u=ne.fromObject(n),d=new yi(Bh(l),a,u);return Qh(e,o,d)}else return[]}function Fm(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const v=tt(f,i);s=s||li(p,v),o=o||Bn(p)});let l=e.syncPointTree_.get(i);l?(o=o||Bn(l),s=s||li(l,q())):(l=new j2,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=O.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,v)=>{const x=li(v,q());x&&(s=s.updateImmediateChild(p,x))}));const u=Ix(l,t);if(!u&&!t._queryParams.loadsAllData()){const f=Ta(t);N(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=X2();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const d=Uh(e.pendingWriteTree_,i);let c=F2(l,t,n,d,s,a);if(!u&&!o&&!r){const f=Px(l,t);c=c.concat(Z2(e,t,f))}return c}function Kh(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=tt(o,t),u=li(l,a);if(u)return u});return Sx(i,t,s,n,!0)}function Ai(e,t){return Ax(t,e.syncPointTree_,null,Uh(e.pendingWriteTree_,q()))}function Ax(e,t,n,r){if(H(e.path))return jx(e,t,n,r);{const i=t.get(q());n==null&&i!=null&&(n=li(i,q()));let s=[];const o=U(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=Cx(r,o);s=s.concat(Ax(l,a,u,d))}return i&&(s=s.concat(Gh(i,e,r,n))),s}}function jx(e,t,n,r){const i=t.get(q());n==null&&i!=null&&(n=li(i,q()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Cx(r,o),d=e.operationForChild(o);d&&(s=s.concat(jx(d,l,a,u)))}),i&&(s=s.concat(Gh(i,e,r,n))),s}function Dx(e,t){const n=t.query,r=Gl(e,n);return{hashFn:()=>(P2(t)||O.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?G2(e,n._path,r):$2(e,n._path);{const s=Hk(i,n);return rd(e,n,null,s)}}}}function Gl(e,t){const n=Ta(t);return e.queryToTagMap.get(n)}function Ta(e){return e._path.toString()+"$"+e._queryIdentifier}function Yh(e,t){return e.tagToQueryMap.get(t)}function qh(e){const t=e.indexOf("$");return N(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ee(e.substr(0,t))}}function Qh(e,t,n){const r=e.syncPointTree_.get(t);N(r,"Missing sync point for query tag that we're tracking");const i=Uh(e.pendingWriteTree_,t);return Gh(r,n,i,null)}function q2(e){return e.fold((t,n,r)=>{if(n&&Bn(n))return[ka(n)];{let i=[];return n&&(i=Nx(n)),Ve(r,(s,o)=>{i=i.concat(o)}),i}})}function ms(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(B2())(e._repo,e._path):e}function Q2(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Ta(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function X2(){return U2++}function Z2(e,t,n){const r=t._path,i=Gl(e,t),s=Dx(e,n),o=e.listenProvider_.startListening(ms(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)N(!Bn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!H(u)&&d&&Bn(d))return[ka(d).query];{let f=[];return d&&(f=f.concat(Nx(d).map(p=>p.query))),Ve(c,(p,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];e.listenProvider_.stopListening(ms(d),Gl(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Xh(n)}node(){return this.node_}}class Zh{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ge(this.path_,t);return new Zh(this.syncTree_,n)}node(){return Kh(this.syncTree_,this.path_)}}const J2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Vm=function(e,t,n){if(!e||typeof e!="object")return e;if(N(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return eT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return tT(e[".sv"],t);N(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},eT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+e)}},tT=function(e,t,n){e.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=t.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Mx=function(e,t,n,r){return Jh(t,new Zh(n,e),r)},Lx=function(e,t,n){return Jh(e,new Xh(t),n)};function Jh(e,t,n){const r=e.getPriority().val(),i=Vm(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Vm(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ne(l,Re(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ne(i))),o.forEachChild(ye,(l,a)=>{const u=Jh(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function tf(e,t){let n=t instanceof ee?t:new ee(t),r=e,i=U(n);for(;i!==null;){const s=mi(r.node.children,i)||{children:{},childCount:0};r=new ef(i,r,s),n=ie(n),i=U(n)}return r}function ji(e){return e.node.value}function Ox(e,t){e.node.value=t,id(e)}function Fx(e){return e.node.childCount>0}function nT(e){return ji(e)===void 0&&!Fx(e)}function Na(e,t){Ve(e.node.children,(n,r)=>{t(new ef(n,e,r))})}function Vx(e,t,n,r){n&&t(e),Na(e,i=>{Vx(i,t,!0)})}function rT(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function uo(e){return new ee(e.parent===null?e.name:uo(e.parent)+"/"+e.name)}function id(e){e.parent!==null&&iT(e.parent,e.name,e)}function iT(e,t,n){const r=nT(n),i=Ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,id(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,id(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=/[\[\].#$\/\u0000-\u001F\u007F]/,oT=/[\[\].#$\u0000-\u001F\u007F]/,Nu=10*1024*1024,nf=function(e){return typeof e=="string"&&e.length!==0&&!sT.test(e)},zx=function(e){return typeof e=="string"&&e.length!==0&&!oT.test(e)},lT=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zx(e)},aT=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Nh(e)||e&&typeof e=="object"&&Ht(e,".sv")},Bx=function(e,t,n,r){r&&t===void 0||Pa(wa(e,"value"),t,n)},Pa=function(e,t,n){const r=n instanceof ee?new Eb(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+rr(r));if(typeof t=="function")throw new Error(e+"contains a function "+rr(r)+" with contents = "+t.toString());if(Nh(t))throw new Error(e+"contains "+t.toString()+" "+rr(r));if(typeof t=="string"&&t.length>Nu/3&&Sa(t)>Nu)throw new Error(e+"contains a string greater than "+Nu+" utf8 bytes "+rr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ve(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!nf(o)))throw new Error(e+" contains an invalid key ("+o+") "+rr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kb(r,o),Pa(e,l,r),bb(r)}),i&&s)throw new Error(e+' contains ".value" child '+rr(r)+" in addition to actual children.")}},uT=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=$s(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!nf(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Cb);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&_t(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},cT=function(e,t,n,r){const i=wa(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ve(t,(o,l)=>{const a=new ee(o);if(Pa(i,l,ge(n,a)),jh(a)===".priority"&&!aT(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),uT(i,s)},Ux=function(e,t,n,r){if(!zx(n))throw new Error(wa(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dT=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ux(e,t,n)},rf=function(e,t){if(U(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},hT=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!nf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lT(n))throw new Error(wa(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ia(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Dh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Wx(e,t,n){Ia(e,n),Hx(e,r=>Dh(r,t))}function Mt(e,t,n){Ia(e,n),Hx(e,r=>_t(r,t)||_t(t,r))}function Hx(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(pT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function pT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ds&&Le("event: "+n.toString()),Ri(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="repo_interrupt",gT=25;class vT{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vl(),this.transactionQueueTree_=new ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yT(e,t,n){if(e.stats_=Rh(e.repoInfo_),e.forceRestClient_||Yk())e.server_=new Fl(e.repoInfo_,(r,i,s,o)=>{zm(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Bm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new en(e.repoInfo_,t,(r,i,s,o)=>{zm(e,r,i,s,o)},r=>{Bm(e,r)},r=>{xT(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Jk(e.repoInfo_,()=>new Zb(e.stats_,e.server_)),e.infoData_=new Kb,e.infoSyncTree_=new Om({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=ba(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),sf(e,"connected",!1),e.serverSyncTree_=new Om({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Mt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function $x(e){const n=e.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ra(e){return J2({timestamp:$x(e)})}function zm(e,t,n,r,i){e.dataUpdateCount++;const s=new ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Al(n,u=>Re(u));o=Y2(e.serverSyncTree_,s,a,i)}else{const a=Re(n);o=K2(e.serverSyncTree_,s,a,i)}else if(r){const a=Al(n,u=>Re(u));o=H2(e.serverSyncTree_,s,a)}else{const a=Re(n);o=ba(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=_i(e,s)),Mt(e.eventQueue_,l,o)}function Bm(e,t){sf(e,"connected",t),t===!1&&ST(e)}function xT(e,t){Ve(t,(n,r)=>{sf(e,n,r)})}function sf(e,t,n){const r=new ee("/.info/"+t),i=Re(n);e.infoData_.updateSnapshot(r,i);const s=ba(e.infoSyncTree_,r,i);Mt(e.eventQueue_,r,s)}function of(e){return e.nextWriteId_++}function _T(e,t,n,r,i){Aa(e,"set",{path:t.toString(),value:n,priority:r});const s=Ra(e),o=Re(n,r),l=Kh(e.serverSyncTree_,t),a=Lx(o,l,s),u=of(e),d=Rx(e.serverSyncTree_,t,a,u,!0);Ia(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(f,p)=>{const v=f==="ok";v||qe("set at "+t+" failed: "+f);const x=En(e.serverSyncTree_,u,!v);Mt(e.eventQueue_,t,x),sd(e,i,f,p)});const c=af(e,t);_i(e,c),Mt(e.eventQueue_,c,[])}function wT(e,t,n,r){Aa(e,"update",{path:t.toString(),value:n});let i=!0;const s=Ra(e),o={};if(Ve(n,(l,a)=>{i=!1,o[l]=Mx(ge(t,l),Re(a),e.serverSyncTree_,s)}),i)Le("update() called with empty data.  Don't do anything."),sd(e,r,"ok",void 0);else{const l=of(e),a=W2(e.serverSyncTree_,t,o,l);Ia(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,d)=>{const c=u==="ok";c||qe("update at "+t+" failed: "+u);const f=En(e.serverSyncTree_,l,!c),p=f.length>0?_i(e,t):t;Mt(e.eventQueue_,p,f),sd(e,r,u,d)}),Ve(n,u=>{const d=af(e,ge(t,u));_i(e,d)}),Mt(e.eventQueue_,t,[])}}function ST(e){Aa(e,"onDisconnectEvents");const t=Ra(e),n=Vl();Qc(e.onDisconnect_,q(),(i,s)=>{const o=Mx(i,s,e.serverSyncTree_,t);yx(n,i,o)});let r=[];Qc(n,q(),(i,s)=>{r=r.concat(ba(e.serverSyncTree_,i,s));const o=af(e,i);_i(e,o)}),e.onDisconnect_=Vl(),Mt(e.eventQueue_,q(),r)}function CT(e,t,n){let r;U(t._path)===".info"?r=Fm(e.infoSyncTree_,t,n):r=Fm(e.serverSyncTree_,t,n),Wx(e.eventQueue_,t._path,r)}function Um(e,t,n){let r;U(t._path)===".info"?r=rd(e.infoSyncTree_,t,n):r=rd(e.serverSyncTree_,t,n),Wx(e.eventQueue_,t._path,r)}function ET(e){e.persistentConnection_&&e.persistentConnection_.interrupt(mT)}function Aa(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Le(n,...t)}function sd(e,t,n,r){t&&Ri(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function Gx(e,t,n){return Kh(e.serverSyncTree_,t,n)||O.EMPTY_NODE}function lf(e,t=e.transactionQueueTree_){if(t||ja(e,t),ji(t)){const n=Yx(e,t);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&kT(e,uo(t),n)}else Fx(t)&&Na(t,n=>{lf(e,n)})}function kT(e,t,n){const r=n.map(u=>u.currentWriteId),i=Gx(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];N(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=tt(t,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Aa(e,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(En(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ja(e,tf(e.transactionQueueTree_,t)),lf(e,e.transactionQueueTree_),Mt(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)Ri(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{qe("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}_i(e,t)}},o)}function _i(e,t){const n=Kx(e,t),r=uo(n),i=Yx(e,n);return bT(e,i,r),r}function bT(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=tt(n,a.path);let d=!1,c;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(En(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=gT)d=!0,c="maxretry",i=i.concat(En(e.serverSyncTree_,a.currentWriteId,!0));else{const f=Gx(e,a.path,o);a.currentInputSnapshot=f;const p=t[l].update(f.val());if(p!==void 0){Pa("transaction failed: Data returned ",p,a.path);let v=Re(p);typeof p=="object"&&p!=null&&Ht(p,".priority")||(v=v.updatePriority(f.getPriority()));const S=a.currentWriteId,y=Ra(e),m=Lx(v,f,y);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=m,a.currentWriteId=of(e),o.splice(o.indexOf(S),1),i=i.concat(Rx(e.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(En(e.serverSyncTree_,S,!0))}else d=!0,c="nodata",i=i.concat(En(e.serverSyncTree_,a.currentWriteId,!0))}Mt(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(c==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}ja(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ri(r[l]);lf(e,e.transactionQueueTree_)}function Kx(e,t){let n,r=e.transactionQueueTree_;for(n=U(t);n!==null&&ji(r)===void 0;)r=tf(r,n),t=ie(t),n=U(t);return r}function Yx(e,t){const n=[];return qx(e,t,n),n.sort((r,i)=>r.order-i.order),n}function qx(e,t,n){const r=ji(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Na(t,i=>{qx(e,i,n)})}function ja(e,t){const n=ji(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ox(t,n.length>0?n:void 0)}Na(t,r=>{ja(e,r)})}function af(e,t){const n=uo(Kx(e,t)),r=tf(e.transactionQueueTree_,t);return rT(r,i=>{Pu(e,i)}),Pu(e,r),Vx(r,i=>{Pu(e,i)}),n}function Pu(e,t){const n=ji(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(En(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ox(t,void 0):n.length=s+1,Mt(e.eventQueue_,uo(t),i);for(let o=0;o<r.length;o++)Ri(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function NT(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${e}'`)}return t}const Wm=function(e,t){const n=PT(e),r=n.namespace;n.domain==="firebase.com"&&un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Vk();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tx(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ee(n.pathString)}},PT=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(i=TT(e.substring(d,c)));const f=NT(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IT=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Hm.charAt(n%64),n=Math.floor(n/64);N(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Hm.charAt(t[i]);return N(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class AT{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:jh(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const t=Tm(this._queryParams),n=Ph(t);return n==="{}"?"default":n}get _queryObject(){return Tm(this._queryParams)}isEqual(t){if(t=Ii(t),!(t instanceof uf))return!1;const n=this._repo===t._repo,r=Dh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sb(this._path)}}class qn extends uf{constructor(t,n){super(t,n,new Fh,!1)}get parent(){const t=cx(this._path);return t===null?null:new qn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Kl{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ee(t),r=Qs(this.ref,t);return new Kl(this._node.getChild(n),r,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Kl(i,Qs(this.ref,r),ye)))}hasChild(t){const n=new ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gi(e,t){return e=Ii(e),e._checkNotDeleted("ref"),t!==void 0?Qs(e._root,t):e._root}function Qs(e,t){return e=Ii(e),U(e._path)===null?dT("child","path",t):Ux("child","path",t),new qn(e._repo,ge(e._path,t))}function DT(e,t){e=Ii(e),rf("push",e._path),Bx("push",t,e._path,!0);const n=$x(e._repo),r=IT(n),i=Qs(e,r),s=Qs(e,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function MT(e){return rf("remove",e._path),od(e,null)}function od(e,t){e=Ii(e),rf("set",e._path),Bx("set",t,e._path,!1);const n=new io;return _T(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function $m(e,t){cT("update",t,e._path);const n=new io;return wT(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class cf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new RT("value",this,new Kl(t.snapshotNode,new qn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new AT(this,t,n):null}matches(t){return t instanceof cf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function LT(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,c)=>{Um(e._repo,e,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new jT(n,s||void 0),l=new cf(o);return CT(e._repo,e,l),()=>Um(e._repo,e,l)}function OT(e,t,n,r){return LT(e,"value",t,n,r)}D2(qn);z2(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="FIREBASE_DATABASE_EMULATOR_HOST",ld={};let VT=!1;function zT(e,t,n,r){e.repoInfo_=new tx(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function BT(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Le("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Wm(s,i),l=o.repoInfo,a;typeof process<"u"&&um&&(a=um[FT]),a?(s=`http://${a}?ns=${l.namespace}`,o=Wm(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new Qk(e.name,e.options,t);hT("Invalid Firebase Database URL",o),H(o.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const d=WT(l,e,u,new qk(e.name,n));return new HT(d,e)}function UT(e,t){const n=ld[t];(!n||n[e.key]!==e)&&un(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ET(e),delete n[e.key]}function WT(e,t,n,r){let i=ld[t.name];i||(i={},ld[t.name]=i);let s=i[e.toURLString()];return s&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new vT(e,VT,n,r),i[e.toURLString()]=s,s}class HT{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&un("Cannot call "+t+" on a deleted database.")}}function $T(e=Ck(),t){const n=xk(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=aE("database");r&&GT(n,...r)}return n}function GT(e,t,n,r={}){e=Ii(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new el(el.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:uE(r.mockUserToken,e.app.options.projectId);s=new el(o)}zT(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(e){jk(Sk),Dl(new Us("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return BT(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ii(cm,dm,e),ii(cm,dm,"esm2017")}en.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};en.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};KT();var YT="firebase",qT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(YT,qT,"app");const QT={apiKey:"AIzaSyDHnx_kYXKHfy3PGtoAvUW1ZYtI9YhBbyA",authDomain:"perlindor-sparkling-2025.firebaseapp.com",projectId:"perlindor-sparkling-2025",storageBucket:"perlindor-sparkling-2025.firebasestorage.app",messagingSenderId:"266453576674",appId:"1:266453576674:web:e4f4dc4eb51d6a5dbea7bb",measurementId:"G-7VBGLEH6KR",databaseURL:"https://perlindor-sparkling-2025-default-rtdb.asia-southeast1.firebasedatabase.app/"},XT=F0(QT),Ki=$T(XT),Qx=_.createContext(),co=()=>{const e=_.useContext(Qx);if(!e)throw new Error("useData must be used within DataProvider");return e},Oo={siteSettings:{logoUrl:"https://images.unsplash.com/photo-1614854262340-ab1ca7d079c7?w=200",siteName:"Purple Aurora Memories",tagline:"Where Dreams Shine Bright "},members:[],achievements:[],gallery:[],videos:[],guestbook:[],momentsWall:[]},jr=e=>e?Object.keys(e).map(t=>({...e[t],id:t})):[],ZT=({children:e})=>{const[t,n]=_.useState(Oo),[r,i]=_.useState(!0);_.useEffect(()=>{const u=Gi(Ki,"/"),d=OT(u,c=>{const f=c.val();if(f){const p={...f,members:jr(f.members),achievements:jr(f.achievements),gallery:jr(f.gallery),videos:jr(f.videos),guestbook:jr(f.guestbook),momentsWall:jr(f.momentsWall)};n(v=>({...Oo,...p}))}else n(Oo),od(u,Oo);i(!1)},c=>{console.error("Firebase Realtime Read Failed: ",c),i(!1)});return()=>d()},[]);const s=async u=>{try{await $m(Gi(Ki,"siteSettings"),u)}catch(d){throw console.error("Li cp nht ci t:",d),new Error("Li cp nht ci t. Vui lng kim tra kt ni.")}},o=async(u,d)=>{try{const c=Gi(Ki,u),f=DT(c);await od(f,{...d,id:f.key,date:d.date||new Date().toISOString().split("T")[0]})}catch(c){throw console.error(`Li thm mi ${u}:`,c),new Error("Li thm mi. Vui lng kim tra kt ni.")}},l=async(u,d,c)=>{try{const f=Gi(Ki,`${u}/${d}`);await $m(f,c)}catch(f){throw console.error(`Li cp nht ${u} ID ${d}:`,f),new Error("Li cp nht. Vui lng kim tra kt ni.")}},a=async(u,d)=>{try{const c=Gi(Ki,`${u}/${d}`);await MT(c)}catch(c){throw console.error(`Li xa ${u} ID ${d}:`,c),new Error("Li xa. Vui lng kim tra kt ni.")}};return h.jsx(Qx.Provider,{value:{data:t,loading:r,addItem:o,updateItem:l,deleteItem:a,updateSiteSettings:s},children:r?h.jsx("div",{className:"min-h-screen flex items-center justify-center pt-24",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-4xl text-lavender-300 animate-bounce mb-4",children:""}),h.jsx("p",{className:"font-nunito text-lg text-lavender-100",children:"ang ti d liu Real-time..."})]})}):e})},df=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Da=_.createContext({}),Ma=_.createContext(null),La=typeof document<"u",ho=La?_.useLayoutEffect:_.useEffect,Xx=_.createContext({strict:!1}),hf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JT="framerAppearId",Zx="data-"+hf(JT);function eN(e,t,n,r){const{visualElement:i}=_.useContext(Da),s=_.useContext(Xx),o=_.useContext(Ma),l=_.useContext(df).reducedMotion,a=_.useRef();r=r||s.renderer,!a.current&&r&&(a.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=a.current;_.useInsertionEffect(()=>{u&&u.update(n,o)});const d=_.useRef(!!(n[Zx]&&!window.HandoffComplete));return ho(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),_.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Kr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tN(e,t,n){return _.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Kr(n)&&(n.current=r))},[t])}function Xs(e){return typeof e=="string"||Array.isArray(e)}function Oa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pf=["initial",...ff];function Fa(e){return Oa(e.animate)||pf.some(t=>Xs(e[t]))}function Jx(e){return!!(Fa(e)||e.variants)}function nN(e,t){if(Fa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Xs(n)?n:void 0,animate:Xs(r)?r:void 0}}return e.inherit!==!1?t:{}}function rN(e){const{initial:t,animate:n}=nN(e,_.useContext(Da));return _.useMemo(()=>({initial:t,animate:n}),[Gm(t),Gm(n)])}function Gm(e){return Array.isArray(e)?e.join(" "):e}const Km={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zs={};for(const e in Km)Zs[e]={isEnabled:t=>Km[e].some(n=>!!t[n])};function iN(e){for(const t in e)Zs[t]={...Zs[t],...e[t]}}const mf=_.createContext({}),e_=_.createContext({}),sN=Symbol.for("motionComponentSymbol");function oN({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&iN(e);function s(l,a){let u;const d={..._.useContext(df),...l,layoutId:lN(l)},{isStatic:c}=d,f=rN(l),p=r(l,c);if(!c&&La){f.visualElement=eN(i,p,d,t);const v=_.useContext(e_),x=_.useContext(Xx).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,x,e,v))}return _.createElement(Da.Provider,{value:f},u&&f.visualElement?_.createElement(u,{visualElement:f.visualElement,...d}):null,n(i,l,tN(p,f.visualElement,a),p,c,f.visualElement))}const o=_.forwardRef(s);return o[sN]=i,o}function lN({layoutId:e}){const t=_.useContext(mf).id;return t&&e!==void 0?t+"-"+e:e}function aN(e){function t(r,i={}){return oN(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const uN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gf(e){return typeof e!="string"||e.includes("-")?!1:!!(uN.indexOf(e)>-1||/[A-Z]/.test(e))}const Yl={};function cN(e){Object.assign(Yl,e)}const fo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nr=new Set(fo);function t_(e,{layout:t,layoutId:n}){return Nr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yl[e]||e==="opacity")}const ot=e=>!!(e&&e.getVelocity),dN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hN=fo.length;function fN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<hN;o++){const l=fo[o];if(e[l]!==void 0){const a=dN[l]||l;s+=`${a}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const n_=e=>t=>typeof t=="string"&&t.startsWith(e),r_=n_("--"),ad=n_("var(--"),pN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Un=(e,t,n)=>Math.min(Math.max(n,e),t),Pr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gs={...Pr,transform:e=>Un(0,1,e)},Fo={...Pr,default:1},vs=e=>Math.round(e*1e5)/1e5,Va=/(-)?([\d]*\.?[\d])+/g,i_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function po(e){return typeof e=="string"}const mo=e=>({test:t=>po(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pn=mo("deg"),Wt=mo("%"),L=mo("px"),vN=mo("vh"),yN=mo("vw"),Ym={...Wt,parse:e=>Wt.parse(e)/100,transform:e=>Wt.transform(e*100)},qm={...Pr,transform:Math.round},s_={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,size:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,rotate:pn,rotateX:pn,rotateY:pn,rotateZ:pn,scale:Fo,scaleX:Fo,scaleY:Fo,scaleZ:Fo,skew:pn,skewX:pn,skewY:pn,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:gs,originX:Ym,originY:Ym,originZ:L,zIndex:qm,fillOpacity:gs,strokeOpacity:gs,numOctaves:qm};function vf(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=e;let a=!1,u=!1,d=!0;for(const c in t){const f=t[c];if(r_(c)){s[c]=f;continue}const p=s_[c],v=mN(f,p);if(Nr.has(c)){if(a=!0,o[c]=v,!d)continue;f!==(p.default||0)&&(d=!1)}else c.startsWith("origin")?(u=!0,l[c]=v):i[c]=v}if(t.transform||(a||r?i.transform=fN(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${c} ${f} ${p}`}}const yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o_(e,t,n){for(const r in t)!ot(t[r])&&!t_(r,n)&&(e[r]=t[r])}function xN({transformTemplate:e},t,n){return _.useMemo(()=>{const r=yf();return vf(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function _N(e,t,n){const r=e.style||{},i={};return o_(i,r,e),Object.assign(i,xN(e,t,n)),e.transformValues?e.transformValues(i):i}function wN(e,t,n){const r={},i=_N(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const SN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ql(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SN.has(e)}let l_=e=>!ql(e);function CN(e){e&&(l_=t=>t.startsWith("on")?!ql(t):e(t))}try{CN(require("@emotion/is-prop-valid").default)}catch{}function EN(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(l_(i)||n===!0&&ql(i)||!t&&!ql(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Qm(e,t,n){return typeof e=="string"?e:L.transform(t+n*e)}function kN(e,t,n){const r=Qm(t,e.x,e.width),i=Qm(n,e.y,e.height);return`${r} ${i}`}const bN={offset:"stroke-dashoffset",array:"stroke-dasharray"},TN={offset:"strokeDashoffset",array:"strokeDasharray"};function NN(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?bN:TN;e[s.offset]=L.transform(-r);const o=L.transform(t),l=L.transform(n);e[s.array]=`${o} ${l}`}function xf(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:a=0,...u},d,c,f){if(vf(e,u,d,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:x}=e;p.transform&&(x&&(v.transform=p.transform),delete p.transform),x&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=kN(x,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&NN(p,o,l,a,!1)}const a_=()=>({...yf(),attrs:{}}),_f=e=>typeof e=="string"&&e.toLowerCase()==="svg";function PN(e,t,n,r){const i=_.useMemo(()=>{const s=a_();return xf(s,t,{enableHardwareAcceleration:!1},_f(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};o_(s,e.style,e),i.style={...s,...i.style}}return i}function IN(e=!1){return(n,r,i,{latestValues:s},o)=>{const a=(gf(n)?PN:wN)(r,s,o,n),d={...EN(r,typeof n=="string",e),...a,ref:i},{children:c}=r,f=_.useMemo(()=>ot(c)?c.get():c,[c]);return _.createElement(n,{...d,children:f})}}function u_(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const c_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d_(e,t,n,r){u_(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(c_.has(i)?i:hf(i),t.attrs[i])}function wf(e,t){const{style:n}=e,r={};for(const i in n)(ot(n[i])||t.style&&ot(t.style[i])||t_(i,e))&&(r[i]=n[i]);return r}function h_(e,t){const n=wf(e,t);for(const r in e)if(ot(e[r])||ot(t[r])){const i=fo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Sf(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function go(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ql=e=>Array.isArray(e),RN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),AN=e=>Ql(e)?e[e.length-1]||0:e;function tl(e){const t=ot(e)?e.get():e;return RN(t)?t.toValue():t}function jN({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:DN(r,i,s,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const f_=e=>(t,n)=>{const r=_.useContext(Da),i=_.useContext(Ma),s=()=>jN(e,t,r,i);return n?s():go(s)};function DN(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=tl(s[f]);let{initial:o,animate:l}=e;const a=Fa(e),u=Jx(e);t&&u&&!a&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const c=d?l:o;return c&&typeof c!="boolean"&&!Oa(c)&&(Array.isArray(c)?c:[c]).forEach(p=>{const v=Sf(e,p);if(!v)return;const{transitionEnd:x,transition:S,...y}=v;for(const m in y){let g=y[m];if(Array.isArray(g)){const w=d?g.length-1:0;g=g[w]}g!==null&&(i[m]=g)}for(const m in x)i[m]=x[m]}),i}const ve=e=>e;class Xm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function MN(e){let t=new Xm,n=new Xm,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(a,u=!1,d=!1)=>{const c=d&&i,f=c?t:n;return u&&o.add(a),f.add(a)&&c&&i&&(r=t.order.length),a},cancel:a=>{n.remove(a),o.delete(a)},process:a=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(a),o.has(d)&&(l.schedule(d),e())}i=!1,s&&(s=!1,l.process(a))}};return l}const Vo=["prepare","read","update","preRender","render","postRender"],LN=40;function ON(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Vo.reduce((c,f)=>(c[f]=MN(()=>n=!0),c),{}),o=c=>s[c].process(i),l=()=>{const c=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(c-i.timestamp,LN),1),i.timestamp=c,i.isProcessing=!0,Vo.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(l))},a=()=>{n=!0,r=!0,i.isProcessing||e(l)};return{schedule:Vo.reduce((c,f)=>{const p=s[f];return c[f]=(v,x=!1,S=!1)=>(n||a(),p.schedule(v,x,S)),c},{}),cancel:c=>Vo.forEach(f=>s[f].cancel(c)),state:i,steps:s}}const{schedule:Q,cancel:Lt,state:Me,steps:Iu}=ON(typeof requestAnimationFrame<"u"?requestAnimationFrame:ve,!0),FN={useVisualState:f_({scrapeMotionValuesFromProps:h_,createRenderState:a_,onMount:(e,t,{renderState:n,latestValues:r})=>{Q.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Q.render(()=>{xf(n,r,{enableHardwareAcceleration:!1},_f(t.tagName),e.transformTemplate),d_(t,n)})}})},VN={useVisualState:f_({scrapeMotionValuesFromProps:wf,createRenderState:yf})};function zN(e,{forwardMotionProps:t=!1},n,r){return{...gf(e)?FN:VN,preloadedFeatures:n,useRender:IN(t),createVisualElement:r,Component:e}}function Zt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const p_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function za(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const BN=e=>t=>p_(t)&&e(t,za(t));function tn(e,t,n,r){return Zt(e,t,BN(n),r)}const UN=(e,t)=>n=>t(e(n)),On=(...e)=>e.reduce(UN);function m_(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Zm=m_("dragHorizontal"),Jm=m_("dragVertical");function g_(e){let t=!1;if(e==="y")t=Jm();else if(e==="x")t=Zm();else{const n=Zm(),r=Jm();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function v_(){const e=g_(!0);return e?(e(),!1):!0}class Qn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function eg(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||v_())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Q.update(()=>l[r](s,o))};return tn(e.current,n,i,{passive:!e.getProps()[r]})}class WN extends Qn{mount(){this.unmount=On(eg(this.node,!0),eg(this.node,!1))}unmount(){}}class HN extends Qn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=On(Zt(this.node.current,"focus",()=>this.onFocus()),Zt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y_=(e,t)=>t?e===t?!0:y_(e,t.parentElement):!1;function Ru(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,za(n))}class $N extends Qn{constructor(){super(...arguments),this.removeStartListeners=ve,this.removeEndListeners=ve,this.removeAccessibleListeners=ve,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=tn(window,"pointerup",(l,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:c}=this.node.getProps();Q.update(()=>{!c&&!y_(this.node.current,l.target)?d&&d(l,a):u&&u(l,a)})},{passive:!(r.onTap||r.onPointerUp)}),o=tn(window,"pointercancel",(l,a)=>this.cancelPress(l,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=On(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ru("up",(a,u)=>{const{onTap:d}=this.node.getProps();d&&Q.update(()=>d(a,u))})};this.removeEndListeners(),this.removeEndListeners=Zt(this.node.current,"keyup",o),Ru("down",(l,a)=>{this.startPress(l,a)})},n=Zt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ru("cancel",(s,o)=>this.cancelPress(s,o))},i=Zt(this.node.current,"blur",r);this.removeAccessibleListeners=On(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Q.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!v_()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Q.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=tn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Zt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=On(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ud=new WeakMap,Au=new WeakMap,GN=e=>{const t=ud.get(e.target);t&&t(e)},KN=e=>{e.forEach(GN)};function YN({root:e,...t}){const n=e||document;Au.has(n)||Au.set(n,{});const r=Au.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(KN,{root:e,...t})),r[i]}function qN(e,t,n){const r=YN(t);return ud.set(e,n),r.observe(e),()=>{ud.delete(e),r.unobserve(e)}}const QN={some:0,all:1};class XN extends Qn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QN[i]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:c}=this.node.getProps(),f=u?d:c;f&&f(a)};return qN(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ZN(t,n))&&this.startObserver()}unmount(){}}function ZN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JN={inView:{Feature:XN},tap:{Feature:$N},focus:{Feature:HN},hover:{Feature:WN}};function x_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function tP(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ba(e,t,n){const r=e.getProps();return Sf(r,t,n!==void 0?n:r.custom,eP(e),tP(e))}let nP=ve,Cf=ve;const pr=e=>e*1e3,nn=e=>e/1e3,rP={current:!1},__=e=>Array.isArray(e)&&typeof e[0]=="number";function w_(e){return!!(!e||typeof e=="string"&&S_[e]||__(e)||Array.isArray(e)&&e.every(w_))}const ts=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,S_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ts([0,.65,.55,1]),circOut:ts([.55,0,1,.45]),backIn:ts([.31,.01,.66,-.59]),backOut:ts([.33,1.53,.69,.99])};function C_(e){if(e)return __(e)?ts(e):Array.isArray(e)?e.map(C_):S_[e]}function iP(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:a}={}){const u={[t]:n};a&&(u.offset=a);const d=C_(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function sP(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const E_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oP=1e-7,lP=12;function aP(e,t,n,r,i){let s,o,l=0;do o=t+(n-t)/2,s=E_(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>oP&&++l<lP);return o}function vo(e,t,n,r){if(e===t&&n===r)return ve;const i=s=>aP(s,0,1,e,n);return s=>s===0||s===1?s:E_(i(s),t,r)}const uP=vo(.42,0,1,1),cP=vo(0,0,.58,1),k_=vo(.42,0,.58,1),dP=e=>Array.isArray(e)&&typeof e[0]!="number",b_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,T_=e=>t=>1-e(1-t),Ef=e=>1-Math.sin(Math.acos(e)),N_=T_(Ef),hP=b_(Ef),P_=vo(.33,1.53,.69,.99),kf=T_(P_),fP=b_(kf),pP=e=>(e*=2)<1?.5*kf(e):.5*(2-Math.pow(2,-10*(e-1))),mP={linear:ve,easeIn:uP,easeInOut:k_,easeOut:cP,circIn:Ef,circInOut:hP,circOut:N_,backIn:kf,backInOut:fP,backOut:P_,anticipate:pP},tg=e=>{if(Array.isArray(e)){Cf(e.length===4);const[t,n,r,i]=e;return vo(t,n,r,i)}else if(typeof e=="string")return mP[e];return e},bf=(e,t)=>n=>!!(po(n)&&gN.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),I_=(e,t,n)=>r=>{if(!po(r))return r;const[i,s,o,l]=r.match(Va);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gP=e=>Un(0,255,e),ju={...Pr,transform:e=>Math.round(gP(e))},dr={test:bf("rgb","red"),parse:I_("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ju.transform(e)+", "+ju.transform(t)+", "+ju.transform(n)+", "+vs(gs.transform(r))+")"};function vP(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cd={test:bf("#"),parse:vP,transform:dr.transform},Yr={test:bf("hsl","hue"),parse:I_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Wt.transform(vs(t))+", "+Wt.transform(vs(n))+", "+vs(gs.transform(r))+")"},Ge={test:e=>dr.test(e)||cd.test(e)||Yr.test(e),parse:e=>dr.test(e)?dr.parse(e):Yr.test(e)?Yr.parse(e):cd.parse(e),transform:e=>po(e)?e:e.hasOwnProperty("red")?dr.transform(e):Yr.transform(e)},he=(e,t,n)=>-n*e+n*t+e;function Du(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,a=2*n-l;i=Du(a,l,e+1/3),s=Du(a,l,e),o=Du(a,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Mu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},xP=[cd,dr,Yr],_P=e=>xP.find(t=>t.test(e));function ng(e){const t=_P(e);let n=t.parse(e);return t===Yr&&(n=yP(n)),n}const R_=(e,t)=>{const n=ng(e),r=ng(t),i={...n};return s=>(i.red=Mu(n.red,r.red,s),i.green=Mu(n.green,r.green,s),i.blue=Mu(n.blue,r.blue,s),i.alpha=he(n.alpha,r.alpha,s),dr.transform(i))};function wP(e){var t,n;return isNaN(e)&&po(e)&&(((t=e.match(Va))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(i_))===null||n===void 0?void 0:n.length)||0)>0}const A_={regex:pN,countKey:"Vars",token:"${v}",parse:ve},j_={regex:i_,countKey:"Colors",token:"${c}",parse:Ge.parse},D_={regex:Va,countKey:"Numbers",token:"${n}",parse:Pr.parse};function Lu(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Xl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Lu(n,A_),Lu(n,j_),Lu(n,D_),n}function M_(e){return Xl(e).values}function L_(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Xl(e),s=t.length;return o=>{let l=i;for(let a=0;a<s;a++)a<r?l=l.replace(A_.token,o[a]):a<r+n?l=l.replace(j_.token,Ge.transform(o[a])):l=l.replace(D_.token,vs(o[a]));return l}}const SP=e=>typeof e=="number"?0:e;function CP(e){const t=M_(e);return L_(e)(t.map(SP))}const Wn={test:wP,parse:M_,createTransformer:L_,getAnimatableNone:CP},O_=(e,t)=>n=>`${n>0?t:e}`;function F_(e,t){return typeof e=="number"?n=>he(e,t,n):Ge.test(e)?R_(e,t):e.startsWith("var(")?O_(e,t):z_(e,t)}const V_=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>F_(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},EP=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=F_(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},z_=(e,t)=>{const n=Wn.createTransformer(t),r=Xl(e),i=Xl(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?On(V_(r.values,i.values),n):O_(e,t)},wi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},rg=(e,t)=>n=>he(e,t,n);function kP(e){return typeof e=="number"?rg:typeof e=="string"?Ge.test(e)?R_:z_:Array.isArray(e)?V_:typeof e=="object"?EP:rg}function bP(e,t,n){const r=[],i=n||kP(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const a=Array.isArray(t)?t[o]||ve:t;l=On(a,l)}r.push(l)}return r}function Ua(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Cf(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bP(t,r,i),l=o.length,a=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const c=wi(e[d],e[d+1],u);return o[d](c)};return n?u=>a(Un(e[0],e[s-1],u)):a}function TP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=wi(0,t,r);e.push(he(n,1,i))}}function B_(e){const t=[0];return TP(t,e.length-1),t}function NP(e,t){return e.map(n=>n*t)}function PP(e,t){return e.map(()=>t||k_).splice(0,e.length-1)}function Zl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=dP(r)?r.map(tg):tg(r),s={done:!1,value:t[0]},o=NP(n&&n.length===t.length?n:B_(t),e),l=Ua(o,t,{ease:Array.isArray(i)?i:PP(t,i)});return{calculatedDuration:e,next:a=>(s.value=l(a),s.done=a>=e,s)}}function Tf(e,t){return t?e*(1e3/t):0}const IP=5;function U_(e,t,n){const r=Math.max(t-IP,0);return Tf(n-e(r),t-r)}const Ou=.001,RP=.01,AP=10,jP=.05,DP=1;function MP({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=Un(jP,DP,o),e=Un(RP,AP,nn(e)),o<1?(i=u=>{const d=u*o,c=d*e,f=d-n,p=dd(u,o),v=Math.exp(-c);return Ou-f/p*v},s=u=>{const c=u*o*e,f=c*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-c),x=dd(Math.pow(u,2),o);return(-i(u)+Ou>0?-1:1)*((f-p)*v)/x}):(i=u=>{const d=Math.exp(-u*e),c=(u-n)*e+1;return-Ou+d*c},s=u=>{const d=Math.exp(-u*e),c=(n-u)*(e*e);return d*c});const l=5/e,a=OP(i,s,l);if(e=pr(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(a,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const LP=12;function OP(e,t,n){let r=n;for(let i=1;i<LP;i++)r=r-e(r)/t(r);return r}function dd(e,t){return e*Math.sqrt(1-t*t)}const FP=["duration","bounce"],VP=["stiffness","damping","mass"];function ig(e,t){return t.some(n=>e[n]!==void 0)}function zP(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ig(e,VP)&&ig(e,FP)){const n=MP(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function W_({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:a,mass:u,duration:d,velocity:c,isResolvedFromDuration:f}=zP({...r,velocity:-nn(r.velocity||0)}),p=c||0,v=a/(2*Math.sqrt(l*u)),x=s-i,S=nn(Math.sqrt(l/u)),y=Math.abs(x)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let m;if(v<1){const g=dd(S,v);m=w=>{const C=Math.exp(-v*S*w);return s-C*((p+v*S*x)/g*Math.sin(g*w)+x*Math.cos(g*w))}}else if(v===1)m=g=>s-Math.exp(-S*g)*(x+(p+S*x)*g);else{const g=S*Math.sqrt(v*v-1);m=w=>{const C=Math.exp(-v*S*w),E=Math.min(g*w,300);return s-C*((p+v*S*x)*Math.sinh(E)+g*x*Math.cosh(E))/g}}return{calculatedDuration:f&&d||null,next:g=>{const w=m(g);if(f)o.done=g>=d;else{let C=p;g!==0&&(v<1?C=U_(m,g,w):C=0);const E=Math.abs(C)<=n,b=Math.abs(s-w)<=t;o.done=E&&b}return o.value=o.done?s:w,o}}}function sg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:a,restDelta:u=.5,restSpeed:d}){const c=e[0],f={done:!1,value:c},p=k=>l!==void 0&&k<l||a!==void 0&&k>a,v=k=>l===void 0?a:a===void 0||Math.abs(l-k)<Math.abs(a-k)?l:a;let x=n*t;const S=c+x,y=o===void 0?S:o(S);y!==S&&(x=y-c);const m=k=>-x*Math.exp(-k/r),g=k=>y+m(k),w=k=>{const D=m(k),I=g(k);f.done=Math.abs(D)<=u,f.value=f.done?y:I};let C,E;const b=k=>{p(f.value)&&(C=k,E=W_({keyframes:[f.value,v(f.value)],velocity:U_(g,k,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return b(0),{calculatedDuration:null,next:k=>{let D=!1;return!E&&C===void 0&&(D=!0,w(k),b(k)),C!==void 0&&k>C?E.next(k-C):(!D&&w(k),f)}}}const BP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Q.update(t,!0),stop:()=>Lt(t),now:()=>Me.isProcessing?Me.timestamp:performance.now()}},og=2e4;function lg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<og;)t+=n,r=e.next(t);return t>=og?1/0:t}const UP={decay:sg,inertia:sg,tween:Zl,keyframes:Zl,spring:W_};function Jl({autoplay:e=!0,delay:t=0,driver:n=BP,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:a,onStop:u,onComplete:d,onUpdate:c,...f}){let p=1,v=!1,x,S;const y=()=>{S=new Promise(F=>{x=F})};y();let m;const g=UP[i]||Zl;let w;g!==Zl&&typeof r[0]!="number"&&(w=Ua([0,100],r,{clamp:!1}),r=[0,100]);const C=g({...f,keyframes:r});let E;l==="mirror"&&(E=g({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let b="idle",k=null,D=null,I=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=lg(C));const{calculatedDuration:Y}=C;let ce=1/0,be=1/0;Y!==null&&(ce=Y+o,be=ce*(s+1)-o);let ae=0;const Te=F=>{if(D===null)return;p>0&&(D=Math.min(D,F)),p<0&&(D=Math.min(F-be/p,D)),k!==null?ae=k:ae=Math.round(F-D)*p;const te=ae-t*(p>=0?1:-1),$t=p>=0?te<0:te>be;ae=Math.max(te,0),b==="finished"&&k===null&&(ae=be);let pt=ae,dn=C;if(s){const Ir=Math.min(ae,be)/ce;let Xn=Math.floor(Ir),Ot=Ir%1;!Ot&&Ir>=1&&(Ot=1),Ot===1&&Xn--,Xn=Math.min(Xn,s+1),!!(Xn%2)&&(l==="reverse"?(Ot=1-Ot,o&&(Ot-=o/ce)):l==="mirror"&&(dn=E)),pt=Un(0,1,Ot)*ce}const He=$t?{done:!1,value:r[0]}:dn.next(pt);w&&(He.value=w(He.value));let{done:Gt}=He;!$t&&Y!==null&&(Gt=p>=0?ae>=be:ae<=0);const Wa=k===null&&(b==="finished"||b==="running"&&Gt);return c&&c(He.value),Wa&&R(),He},X=()=>{m&&m.stop(),m=void 0},Ze=()=>{b="idle",X(),x(),y(),D=I=null},R=()=>{b="finished",d&&d(),X(),x()},M=()=>{if(v)return;m||(m=n(Te));const F=m.now();a&&a(),k!==null?D=F-k:(!D||b==="finished")&&(D=F),b==="finished"&&y(),I=D,k=null,b="running",m.start()};e&&M();const V={then(F,te){return S.then(F,te)},get time(){return nn(ae)},set time(F){F=pr(F),ae=F,k!==null||!m||p===0?k=F:D=m.now()-F/p},get duration(){const F=C.calculatedDuration===null?lg(C):C.calculatedDuration;return nn(F)},get speed(){return p},set speed(F){F===p||!m||(p=F,V.time=nn(ae))},get state(){return b},play:M,pause:()=>{b="paused",k=ae},stop:()=>{v=!0,b!=="idle"&&(b="idle",u&&u(),Ze())},cancel:()=>{I!==null&&Te(I),Ze()},complete:()=>{b="finished"},sample:F=>(D=0,Te(F))};return V}function WP(e){let t;return()=>(t===void 0&&(t=e()),t)}const HP=WP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$P=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),zo=10,GP=2e4,KP=(e,t)=>t.type==="spring"||e==="backgroundColor"||!w_(t.ease);function YP(e,t,{onUpdate:n,onComplete:r,...i}){if(!(HP()&&$P.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,a,u=!1;const d=()=>{a=new Promise(g=>{l=g})};d();let{keyframes:c,duration:f=300,ease:p,times:v}=i;if(KP(t,i)){const g=Jl({...i,repeat:0,delay:0});let w={done:!1,value:c[0]};const C=[];let E=0;for(;!w.done&&E<GP;)w=g.sample(E),C.push(w.value),E+=zo;v=void 0,c=C,f=E-zo,p="linear"}const x=iP(e.owner.current,t,c,{...i,duration:f,ease:p,times:v}),S=()=>{u=!1,x.cancel()},y=()=>{u=!0,Q.update(S),l(),d()};return x.onfinish=()=>{u||(e.set(sP(c,i)),r&&r(),y())},{then(g,w){return a.then(g,w)},attachTimeline(g){return x.timeline=g,x.onfinish=null,ve},get time(){return nn(x.currentTime||0)},set time(g){x.currentTime=pr(g)},get speed(){return x.playbackRate},set speed(g){x.playbackRate=g},get duration(){return nn(f)},play:()=>{o||(x.play(),Lt(S))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:g}=x;if(g){const w=Jl({...i,autoplay:!1});e.setWithVelocity(w.sample(g-zo).value,w.sample(g).value,zo)}y()},complete:()=>{u||x.finish()},cancel:y}}function qP({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ve,pause:ve,stop:ve,then:s=>(s(),Promise.resolve()),cancel:ve,complete:ve});return t?Jl({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const QP={type:"spring",stiffness:500,damping:25,restSpeed:10},XP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZP={type:"keyframes",duration:.8},JP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eI=(e,{keyframes:t})=>t.length>2?ZP:Nr.has(e)?e.startsWith("scale")?XP(t[1]):QP:JP,hd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wn.test(t)||t==="0")&&!t.startsWith("url(")),tI=new Set(["brightness","contrast","saturate","opacity"]);function nI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Va)||[];if(!r)return e;const i=n.replace(r,"");let s=tI.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const rI=/([a-z-]*)\(.*?\)/g,fd={...Wn,getAnimatableNone:e=>{const t=e.match(rI);return t?t.map(nI).join(" "):e}},iI={...s_,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:fd,WebkitFilter:fd},Nf=e=>iI[e];function H_(e,t){let n=Nf(e);return n!==fd&&(n=Wn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $_=e=>/^0[^.\s]+$/.test(e);function sI(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$_(e)}function oI(e,t,n,r){const i=hd(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let l;const a=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),sI(s[u])&&a.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(i&&a.length&&l)for(let u=0;u<a.length;u++){const d=a[u];s[d]=H_(t,l)}return s}function lI({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:a,elapsed:u,...d}){return!!Object.keys(d).length}function Pf(e,t){return e[t]||e.default||e}const aI={skipAnimations:!1},If=(e,t,n,r={})=>i=>{const s=Pf(r,e)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-pr(o);const a=oI(t,e,n,s),u=a[0],d=a[a.length-1],c=hd(e,u),f=hd(e,d);let p={keyframes:a,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:v=>{t.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(lI(s)||(p={...p,...eI(e,p)}),p.duration&&(p.duration=pr(p.duration)),p.repeatDelay&&(p.repeatDelay=pr(p.repeatDelay)),!c||!f||rP.current||s.type===!1||aI.skipAnimations)return qP(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=YP(t,e,p);if(v)return v}return Jl(p)};function ea(e){return!!(ot(e)&&e.add)}const G_=e=>/^\-?\d*\.?\d+$/.test(e);function Rf(e,t){e.indexOf(t)===-1&&e.push(t)}function Af(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jf{constructor(){this.subscriptions=[]}add(t){return Rf(this.subscriptions,t),()=>Af(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uI=e=>!isNaN(parseFloat(e)),ys={current:void 0};class cI{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Me;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Q.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Q.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=uI(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jf);const r=this.events[t].add(n);return t==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ys.current&&ys.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Tf(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function It(e,t){return new cI(e,t)}const K_=e=>t=>t.test(e),dI={test:e=>e==="auto",parse:e=>e},Y_=[Pr,L,Wt,pn,yN,vN,dI],Yi=e=>Y_.find(K_(e)),hI=[...Y_,Ge,Wn],fI=e=>hI.find(K_(e));function pI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,It(n))}function mI(e,t){const n=Ba(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=AN(s[o]);pI(e,o,l)}}function gI(e,t,n){var r,i;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const a=s[l],u=t[a];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[a])!==null&&r!==void 0?r:e.readValue(a))!==null&&i!==void 0?i:t[a]),d!=null&&(typeof d=="string"&&(G_(d)||$_(d))?d=parseFloat(d):!fI(d)&&Wn.test(u)&&(d=H_(a,u)),e.addValue(a,It(d,{owner:e})),n[a]===void 0&&(n[a]=d),d!==null&&e.setBaseTarget(a,d))}}function vI(e,t){return t?(t[e]||t.default||t).from:void 0}function yI(e,t,n){const r={};for(const i in e){const s=vI(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function xI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function _I(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function q_(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const a=e.getValue("willChange");r&&(s=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const c in l){const f=e.getValue(c),p=l[c];if(!f||p===void 0||d&&xI(d,c))continue;const v={delay:n,elapsed:0,...Pf(s||{},c)};if(window.HandoffAppearAnimations){const y=e.getProps()[Zx];if(y){const m=window.HandoffAppearAnimations(y,c,f,Q);m!==null&&(v.elapsed=m,v.isHandoff=!0)}}let x=!v.isHandoff&&!_I(f,p);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(If(c,f,p,e.shouldReduceMotion&&Nr.has(c)?{type:!1}:v));const S=f.animation;ea(a)&&(a.add(c),S.then(()=>a.remove(c))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&mI(e,o)}),u}function pd(e,t,n={}){const r=Ba(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(q_(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(a=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:c}=i;return wI(e,t,u+a,d,c,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[a,u]=l==="beforeChildren"?[s,o]:[o,s];return a().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function wI(e,t,n=0,r=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*r,a=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(SI).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(pd(u,t,{...s,delay:n+a(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function SI(e,t){return e.sortNodePosition(t)}function CI(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>pd(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=pd(e,t,n);else{const i=typeof t=="function"?Ba(e,t,n.custom):t;r=Promise.all(q_(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const EI=[...ff].reverse(),kI=ff.length;function bI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>CI(e,n,r)))}function TI(e){let t=bI(e);const n=PI();let r=!0;const i=(a,u)=>{const d=Ba(e,u);if(d){const{transition:c,transitionEnd:f,...p}=d;a={...a,...p,...f}}return a};function s(a){t=a(e)}function o(a,u){const d=e.getProps(),c=e.getVariantContext(!0)||{},f=[],p=new Set;let v={},x=1/0;for(let y=0;y<kI;y++){const m=EI[y],g=n[m],w=d[m]!==void 0?d[m]:c[m],C=Xs(w),E=m===u?g.isActive:null;E===!1&&(x=y);let b=w===c[m]&&w!==d[m]&&C;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),g.protectedKeys={...v},!g.isActive&&E===null||!w&&!g.prevProp||Oa(w)||typeof w=="boolean")continue;let D=NI(g.prevProp,w)||m===u&&g.isActive&&!b&&C||y>x&&C,I=!1;const Y=Array.isArray(w)?w:[w];let ce=Y.reduce(i,{});E===!1&&(ce={});const{prevResolvedValues:be={}}=g,ae={...be,...ce},Te=X=>{D=!0,p.has(X)&&(I=!0,p.delete(X)),g.needsAnimating[X]=!0};for(const X in ae){const Ze=ce[X],R=be[X];if(v.hasOwnProperty(X))continue;let M=!1;Ql(Ze)&&Ql(R)?M=!x_(Ze,R):M=Ze!==R,M?Ze!==void 0?Te(X):p.add(X):Ze!==void 0&&p.has(X)?Te(X):g.protectedKeys[X]=!0}g.prevProp=w,g.prevResolvedValues=ce,g.isActive&&(v={...v,...ce}),r&&e.blockInitialAnimation&&(D=!1),D&&(!b||I)&&f.push(...Y.map(X=>({animation:X,options:{type:m,...a}})))}if(p.size){const y={};p.forEach(m=>{const g=e.getBaseTarget(m);g!==void 0&&(y[m]=g)}),f.push({animation:y})}let S=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function l(a,u,d){var c;if(n[a].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(a,u)}),n[a].isActive=u;const f=o(d,a);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function NI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!x_(t,e):!1}function Zn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PI(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class II extends Qn{constructor(t){super(t),t.animationState||(t.animationState=TI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Oa(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let RI=0;class AI extends Qn{constructor(){super(...arguments),this.id=RI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jI={animation:{Feature:II},exit:{Feature:AI}},ag=(e,t)=>Math.abs(e-t);function DI(e,t){const n=ag(e.x,t.x),r=ag(e.y,t.y);return Math.sqrt(n**2+r**2)}class Q_{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Vu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=DI(c.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=c,{timestamp:x}=Me;this.history.push({...v,timestamp:x});const{onStart:S,onMove:y}=this.handlers;f||(S&&S(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Fu(f,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Vu(c.type==="pointercancel"?this.lastMoveEventInfo:Fu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(c,S),v&&v(c,S)},!p_(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=za(t),l=Fu(o,this.transformPagePoint),{point:a}=l,{timestamp:u}=Me;this.history=[{...a,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Vu(l,this.history)),this.removeListeners=On(tn(this.contextWindow,"pointermove",this.handlePointerMove),tn(this.contextWindow,"pointerup",this.handlePointerUp),tn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lt(this.updatePoint)}}function Fu(e,t){return t?{point:t(e.point)}:e}function ug(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vu({point:e},t){return{point:e,delta:ug(e,X_(t)),offset:ug(e,MI(t)),velocity:LI(t,.1)}}function MI(e){return e[0]}function X_(e){return e[e.length-1]}function LI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=X_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pr(t)));)n--;if(!r)return{x:0,y:0};const s=nn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dt(e){return e.max-e.min}function md(e,t=0,n=.01){return Math.abs(e-t)<=n}function cg(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=dt(n)/dt(t),(md(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(md(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xs(e,t,n,r){cg(e.x,t.x,n.x,r?r.originX:void 0),cg(e.y,t.y,n.y,r?r.originY:void 0)}function dg(e,t,n){e.min=n.min+t.min,e.max=e.min+dt(t)}function OI(e,t,n){dg(e.x,t.x,n.x),dg(e.y,t.y,n.y)}function hg(e,t,n){e.min=t.min-n.min,e.max=e.min+dt(t)}function _s(e,t,n){hg(e.x,t.x,n.x),hg(e.y,t.y,n.y)}function FI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function fg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function VI(e,{top:t,left:n,bottom:r,right:i}){return{x:fg(e.x,n,i),y:fg(e.y,t,r)}}function pg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function zI(e,t){return{x:pg(e.x,t.x),y:pg(e.y,t.y)}}function BI(e,t){let n=.5;const r=dt(e),i=dt(t);return i>r?n=wi(t.min,t.max-r,e.min):r>i&&(n=wi(e.min,e.max-i,t.min)),Un(0,1,n)}function UI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gd=.35;function WI(e=gd){return e===!1?e=0:e===!0&&(e=gd),{x:mg(e,"left","right"),y:mg(e,"top","bottom")}}function mg(e,t,n){return{min:gg(e,t),max:gg(e,n)}}function gg(e,t){return typeof e=="number"?e:e[t]||0}const vg=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:vg(),y:vg()}),yg=()=>({min:0,max:0}),Se=()=>({x:yg(),y:yg()});function gt(e){return[e("x"),e("y")]}function Z_({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function HI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $I(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zu(e){return e===void 0||e===1}function vd({scale:e,scaleX:t,scaleY:n}){return!zu(e)||!zu(t)||!zu(n)}function ir(e){return vd(e)||J_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function J_(e){return xg(e.x)||xg(e.y)}function xg(e){return e&&e!=="0%"}function ta(e,t,n){const r=e-n,i=t*r;return n+i}function _g(e,t,n,r,i){return i!==void 0&&(e=ta(e,i,r)),ta(e,n,r)+t}function yd(e,t=0,n=1,r,i){e.min=_g(e.min,t,n,r,i),e.max=_g(e.max,t,n,r,i)}function e1(e,{x:t,y:n}){yd(e.x,t.translate,t.scale,t.originPoint),yd(e.y,n.translate,n.scale,n.originPoint)}function GI(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const a=s.instance;a&&a.style&&a.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qr(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,e1(e,o)),r&&ir(s.latestValues)&&Qr(e,s.latestValues))}t.x=wg(t.x),t.y=wg(t.y)}function wg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function yn(e,t){e.min=e.min+t,e.max=e.max+t}function Sg(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=he(e.min,e.max,s);yd(e,t[n],t[r],o,t.scale)}const KI=["x","scaleX","originX"],YI=["y","scaleY","originY"];function Qr(e,t){Sg(e.x,t,KI),Sg(e.y,t,YI)}function t1(e,t){return Z_($I(e.getBoundingClientRect(),t))}function qI(e,t,n){const r=t1(e,n),{scroll:i}=t;return i&&(yn(r.x,i.offset.x),yn(r.y,i.offset.y)),r}const n1=({current:e})=>e?e.ownerDocument.defaultView:null,QI=new WeakMap;class XI{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Se(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(za(d,"page").point)},s=(d,c)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=g_(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(S=>{let y=this.getAxisMotionValue(S).get()||0;if(Wt.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const g=m.layout.layoutBox[S];g&&(y=dt(g)*(parseFloat(y)/100))}}this.originPoint[S]=y}),v&&Q.update(()=>v(d,c),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,c)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=c;if(p&&this.currentDirection===null){this.currentDirection=ZI(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",c.point,S),this.updateAxis("y",c.point,S),this.visualElement.render(),x&&x(d,c)},l=(d,c)=>this.stop(d,c),a=()=>gt(d=>{var c;return this.getAnimationState(d)==="paused"&&((c=this.getAxisMotionValue(d).animation)===null||c===void 0?void 0:c.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q_(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:n1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Q.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Bo(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=FI(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Kr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VI(i.layoutBox,n):this.constraints=!1,this.elastic=WI(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=UI(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Kr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qI(r,i.root,this.visualElement.getTransformPagePoint());let o=zI(i.layout.layoutBox,s);if(n){const l=n(HI(o));this.hasMutatedConstraints=!!l,l&&(o=Z_(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=gt(d=>{if(!Bo(d,n,this.currentDirection))return;let c=a&&a[d]||{};o&&(c={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(If(t,r,0,n))}stopAnimation(){gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gt(n=>{const{drag:r}=this.getProps();if(!Bo(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(t[n]-he(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Kr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gt(o=>{const l=this.getAxisMotionValue(o);if(l){const a=l.get();i[o]=BI({min:a,max:a},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gt(o=>{if(!Bo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:a,max:u}=this.constraints[o];l.set(he(a,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;QI.set(this.visualElement,this);const t=this.visualElement.current,n=tn(t,"pointerdown",a=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();Kr(a)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Zt(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(gt(d=>{const c=this.getAxisMotionValue(d);c&&(this.originPoint[d]+=a[d].translate,c.set(c.get()+a[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Bo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JI extends Qn{constructor(t){super(t),this.removeGroupControls=ve,this.removeListeners=ve,this.controls=new XI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cg=e=>(t,n)=>{e&&Q.update(()=>e(t,n))};class eR extends Qn{constructor(){super(...arguments),this.removePointerDownListener=ve}onPointerDown(t){this.session=new Q_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Cg(t),onStart:Cg(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Q.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=tn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tR(){const e=_.useContext(Ma);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=_.useId();return _.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Eg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const n=Eg(e,t.target.x),r=Eg(e,t.target.y);return`${n}% ${r}%`}},nR={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Wn.parse(e);if(i.length>5)return r;const s=Wn.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,a=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=a;const u=he(l,a,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class rR extends ia.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;cN(iR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Q.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function r1(e){const[t,n]=tR(),r=_.useContext(mf);return ia.createElement(rR,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(e_),isPresent:t,safeToRemove:n})}const iR={borderRadius:{...qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:nR},i1=["TopLeft","TopRight","BottomLeft","BottomRight"],sR=i1.length,kg=e=>typeof e=="string"?parseFloat(e):e,bg=e=>typeof e=="number"||L.test(e);function oR(e,t,n,r,i,s){i?(e.opacity=he(0,n.opacity!==void 0?n.opacity:1,lR(r)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,aR(r))):s&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<sR;o++){const l=`border${i1[o]}Radius`;let a=Tg(t,l),u=Tg(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||bg(a)===bg(u)?(e[l]=Math.max(he(kg(a),kg(u),r),0),(Wt.test(u)||Wt.test(a))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function Tg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lR=s1(0,.5,N_),aR=s1(.5,.95,ve);function s1(e,t,n){return r=>r<e?0:r>t?1:n(wi(e,t,r))}function Ng(e,t){e.min=t.min,e.max=t.max}function mt(e,t){Ng(e.x,t.x),Ng(e.y,t.y)}function Pg(e,t,n,r,i){return e-=t,e=ta(e,1/n,r),i!==void 0&&(e=ta(e,1/i,r)),e}function uR(e,t=0,n=1,r=.5,i,s=e,o=e){if(Wt.test(t)&&(t=parseFloat(t),t=he(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=he(s.min,s.max,r);e===s&&(l-=t),e.min=Pg(e.min,t,n,l,i),e.max=Pg(e.max,t,n,l,i)}function Ig(e,t,[n,r,i],s,o){uR(e,t[n],t[r],t[i],t.scale,s,o)}const cR=["x","scaleX","originX"],dR=["y","scaleY","originY"];function Rg(e,t,n,r){Ig(e.x,t,cR,n?n.x:void 0,r?r.x:void 0),Ig(e.y,t,dR,n?n.y:void 0,r?r.y:void 0)}function Ag(e){return e.translate===0&&e.scale===1}function o1(e){return Ag(e.x)&&Ag(e.y)}function hR(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function l1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function jg(e){return dt(e.x)/dt(e.y)}class fR{constructor(){this.members=[]}add(t){Rf(this.members,t),t.scheduleRender()}remove(t){if(Af(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dg(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:a,rotateX:u,rotateY:d}=n;a&&(r+=`rotate(${a}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const pR=(e,t)=>e.depth-t.depth;class mR{constructor(){this.children=[],this.isDirty=!1}add(t){Rf(this.children,t),this.isDirty=!0}remove(t){Af(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pR),this.isDirty=!1,this.children.forEach(t)}}function gR(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Lt(r),e(s-t))};return Q.read(r,!0),()=>Lt(r)}function vR(e){window.MotionDebug&&window.MotionDebug.record(e)}function yR(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xR(e,t,n){const r=ot(e)?e:It(e);return r.start(If("",r,t,n)),r.animation}const Mg=["","X","Y","Z"],_R={visibility:"hidden"},Lg=1e3;let wR=0;const sr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function a1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=wR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sr.totalNodes=sr.resolvedTargetDeltas=sr.recalculatedProjection=0,this.nodes.forEach(ER),this.nodes.forEach(PR),this.nodes.forEach(IR),this.nodes.forEach(kR),vR(sr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new mR)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const a=this.eventHandlers.get(o);a&&a.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yR(o),this.instance=o;const{layoutId:a,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),e){let c;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=gR(f,250),nl.hasAnimatedSinceResize&&(nl.hasAnimatedSinceResize=!1,this.nodes.forEach(Fg))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||MR,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=d.getProps(),m=!this.targetLayout||!l1(this.targetLayout,v)||p,g=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,g);const w={...Pf(x,"layout"),onPlay:S,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Fg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const c=this.path[d];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Og);return}this.isUpdating||this.nodes.forEach(TR),this.isUpdating=!1,this.nodes.forEach(NR),this.nodes.forEach(SR),this.nodes.forEach(CR),this.clearAllSnapshots();const l=performance.now();Me.delta=Un(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,Iu.update.process(Me),Iu.preRender.process(Me),Iu.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(bR),this.sharedNodes.forEach(AR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!o1(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ir(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return o&&(a=this.removeTransform(a)),LR(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Se();const l=o.measureViewportBox(),{scroll:a}=this.root;return a&&(yn(l.x,a.offset.x),yn(l.y,a.offset.y)),l}removeElementScroll(o){const l=Se();mt(l,o);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:d,options:c}=u;if(u!==this.root&&d&&c.layoutScroll){if(d.isRoot){mt(l,o);const{scroll:f}=this.root;f&&(yn(l.x,-f.offset.x),yn(l.y,-f.offset.y))}yn(l.x,d.offset.x),yn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const a=Se();mt(a,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qr(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ir(d.latestValues)&&Qr(a,d.latestValues)}return ir(this.latestValues)&&Qr(a,this.latestValues),a}removeTransform(o){const l=Se();mt(l,o);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!ir(u.latestValues))continue;vd(u.latestValues)&&u.updateSnapshot();const d=Se(),c=u.measurePageBox();mt(d,c),Rg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ir(this.latestValues)&&Rg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),_s(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Se(),this.targetWithTransforms=Se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mt(this.target,this.layout.layoutBox),e1(this.target,this.targetDelta)):mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Se(),this.relativeTargetOrigin=Se(),_s(this.relativeTargetOrigin,this.target,p.target),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vd(this.parent.latestValues)||J_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(u=!1),u)return;const{layout:d,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||c))return;mt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;GI(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=qr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr());const x=this.projectionTransform;xs(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Dg(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),sr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const a=this.snapshot,u=a?a.latestValues:{},d={...this.latestValues},c=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Se(),p=a?a.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,S=this.getStack(),y=!S||S.members.length<=1,m=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(DR));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const C=w/1e3;Vg(c.x,o.x,C),Vg(c.y,o.y,C),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_s(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jR(this.relativeTarget,this.relativeTargetOrigin,f,C),g&&hR(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Se()),mt(g,this.relativeTarget)),x&&(this.animationValues=d,oR(d,u,this.latestValues,C,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{nl.hasAnimatedSinceResize=!0,this.currentAnimation=xR(0,Lg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:d}=o;if(!(!l||!a||!u)){if(this!==o&&this.layout&&u&&u1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||Se();const c=dt(this.layout.layoutBox.x);a.x.min=o.target.x.min,a.x.max=a.x.min+c;const f=dt(this.layout.layoutBox.y);a.y.min=o.target.y.min,a.y.max=a.y.min+f}mt(l,a),Qr(l,d),xs(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fR),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:a}=o;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Mg.length;d++){const c="rotate"+Mg[d];a[c]&&(u[c]=a[c],o.setStaticValue(c,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _R;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=tl(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=tl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ir(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=Dg(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,c.animationValues?u.opacity=c===this?(a=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Yl){if(f[x]===void 0)continue;const{correct:S,applyTo:y}=Yl[x],m=u.transform==="none"?f[x]:S(f[x],c);if(y){const g=y.length;for(let w=0;w<g;w++)u[y[w]]=m}else u[x]=m}return this.options.layoutId&&(u.pointerEvents=c===this?tl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Og),this.root.sharedNodes.clear()}}}function SR(e){e.updateLayout()}function CR(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?gt(c=>{const f=o?n.measuredBox[c]:n.layoutBox[c],p=dt(f);f.min=r[c].min,f.max=f.min+p}):u1(s,n.layoutBox,r)&&gt(c=>{const f=o?n.measuredBox[c]:n.layoutBox[c],p=dt(r[c]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+p)});const l=qr();xs(l,r,n.layoutBox);const a=qr();o?xs(a,e.applyTransform(i,!0),n.measuredBox):xs(a,r,n.layoutBox);const u=!o1(l);let d=!1;if(!e.resumeFrom){const c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:p}=c;if(f&&p){const v=Se();_s(v,n.layoutBox,f.layoutBox);const x=Se();_s(x,r,p.layoutBox),l1(v,x)||(d=!0),c.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ER(e){sr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bR(e){e.clearSnapshot()}function Og(e){e.clearMeasurements()}function TR(e){e.isLayoutDirty=!1}function NR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function PR(e){e.resolveTargetDelta()}function IR(e){e.calcProjection()}function RR(e){e.resetRotation()}function AR(e){e.removeLeadSnapshot()}function Vg(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zg(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function jR(e,t,n,r){zg(e.x,t.x,n.x,r),zg(e.y,t.y,n.y,r)}function DR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MR={duration:.45,ease:[.4,0,.1,1]},Bg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Ug=Bg("applewebkit/")&&!Bg("chrome/")?Math.round:ve;function Wg(e){e.min=Ug(e.min),e.max=Ug(e.max)}function LR(e){Wg(e.x),Wg(e.y)}function u1(e,t,n){return e==="position"||e==="preserve-aspect"&&!md(jg(t),jg(n),.2)}const OR=a1({attachResizeListener:(e,t)=>Zt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bu={current:void 0},c1=a1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bu.current){const e=new OR({});e.mount(window),e.setOptions({layoutScroll:!0}),Bu.current=e}return Bu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),FR={pan:{Feature:eR},drag:{Feature:JI,ProjectionNode:c1,MeasureLayout:r1}},VR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zR(e){const t=VR.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function xd(e,t,n=1){const[r,i]=zR(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return G_(o)?parseFloat(o):o}else return ad(i)?xd(i,t,n+1):i}function BR(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!ad(s))return;const o=xd(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!ad(s))continue;const o=xd(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const UR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),d1=e=>UR.has(e),WR=e=>Object.keys(e).some(d1),Hg=e=>e===Pr||e===L,$g=(e,t)=>parseFloat(e.split(", ")[t]),Gg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return $g(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?$g(s[1],e):0}},HR=new Set(["x","y","z"]),$R=fo.filter(e=>!HR.has(e));function GR(e){const t=[];return $R.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Si={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gg(4,13),y:Gg(5,14)};Si.translateX=Si.x;Si.translateY=Si.y;const KR=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Si[u](r,s)}),t.render();const a=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Si[u](a,s)}),e},YR=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(d1);let s=[],o=!1;const l=[];if(i.forEach(a=>{const u=e.getValue(a);if(!e.hasValue(a))return;let d=n[a],c=Yi(d);const f=t[a];let p;if(Ql(f)){const v=f.length,x=f[0]===null?1:0;d=f[x],c=Yi(d);for(let S=x;S<v&&f[S]!==null;S++)p?Cf(Yi(f[S])===p):p=Yi(f[S])}else p=Yi(f);if(c!==p)if(Hg(c)&&Hg(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?t[a]=parseFloat(f):Array.isArray(f)&&p===L&&(t[a]=f.map(parseFloat))}else c!=null&&c.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?u.set(p.transform(d)):t[a]=c.transform(f):(o||(s=GR(e),o=!0),l.push(a),r[a]=r[a]!==void 0?r[a]:t[a],u.jump(f))}),l.length){const a=l.indexOf("height")>=0?window.pageYOffset:null,u=KR(t,e,l);return s.length&&s.forEach(([d,c])=>{e.getValue(d).set(c)}),e.render(),La&&a!==null&&window.scrollTo({top:a}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function qR(e,t,n,r){return WR(t)?YR(e,t,n,r):{target:t,transitionEnd:r}}const QR=(e,t,n,r)=>{const i=BR(e,t,r);return t=i.target,r=i.transitionEnd,qR(e,t,n,r)},_d={current:null},h1={current:!1};function XR(){if(h1.current=!0,!!La)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_d.current=e.matches;e.addListener(t),t()}else _d.current=!1}function ZR(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(ot(s))e.addValue(i,s),ea(r)&&r.add(i);else if(ot(o))e.addValue(i,It(s,{owner:e})),ea(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,It(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Kg=new WeakMap,f1=Object.keys(Zs),JR=f1.length,Yg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],e3=pf.length;class t3{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Q.render(this.render,!1,!0);const{latestValues:l,renderState:a}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=a,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Fa(n),this.isVariantNode=Jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const c in d){const f=d[c];l[c]!==void 0&&ot(f)&&(f.set(l[c],!1),ea(u)&&u.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Kg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),h1.current||XR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_d.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kg.delete(this.current),this.projection&&this.projection.unmount(),Lt(this.notifyUpdate),Lt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Nr.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Q.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,l;for(let a=0;a<JR;a++){const u=f1[a],{isEnabled:d,Feature:c,ProjectionNode:f,MeasureLayout:p}=Zs[u];f&&(o=f),d(n)&&(!this.features[u]&&c&&(this.features[u]=new c(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:u,drag:d,dragConstraints:c,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!d||c&&Kr(c),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yg.length;r++){const i=Yg[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ZR(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<e3;r++){const i=pf[r],s=this.props[i];(Xs(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=It(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Sf(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ot(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class p1 extends t3{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=yI(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){gI(this,r,o);const l=QR(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function n3(e){return window.getComputedStyle(e)}class r3 extends p1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Nr.has(n)){const r=Nf(n);return r&&r.default||0}else{const r=n3(t),i=(r_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return t1(t,n)}build(t,n,r,i){vf(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return wf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){u_(t,n,r,i)}}class i3 extends p1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Nr.has(n)){const r=Nf(n);return r&&r.default||0}return n=c_.has(n)?n:hf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Se()}scrapeMotionValuesFromProps(t,n){return h_(t,n)}build(t,n,r,i){xf(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){d_(t,n,r,i)}mount(t){this.isSVGTag=_f(t.tagName),super.mount(t)}}const s3=(e,t)=>gf(e)?new i3(t,{enableHardwareAcceleration:!1}):new r3(t,{enableHardwareAcceleration:!0}),o3={layout:{ProjectionNode:c1,MeasureLayout:r1}},l3={...jI,...JN,...FR,...o3},P=aN((e,t)=>zN(e,t,l3,s3));function m1(){const e=_.useRef(!1);return ho(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function a3(){const e=m1(),[t,n]=_.useState(0),r=_.useCallback(()=>{e.current&&n(t+1)},[t]);return[_.useCallback(()=>Q.postRender(r),[r]),t]}class u3 extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c3({children:e,isPresent:t}){const n=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:a}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),_.createElement(u3,{isPresent:t,childRef:r,sizeRef:i},_.cloneElement(e,{ref:r}))}const Uu=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=go(d3),a=_.useId(),u=_.useMemo(()=>({id:a,initial:t,isPresent:n,custom:i,onExitComplete:d=>{l.set(d,!0);for(const c of l.values())if(!c)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[n]);return _.useMemo(()=>{l.forEach((d,c)=>l.set(c,!1))},[n]),_.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=_.createElement(c3,{isPresent:n},e)),_.createElement(Ma.Provider,{value:u},e)};function d3(){return new Map}function h3(e){return _.useEffect(()=>()=>e(),[])}const or=e=>e.key||"";function f3(e,t){e.forEach(n=>{const r=or(n);t.set(r,n)})}function p3(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const qg=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=_.useContext(mf).forceRender||a3()[0],a=m1(),u=p3(e);let d=u;const c=_.useRef(new Map).current,f=_.useRef(d),p=_.useRef(new Map).current,v=_.useRef(!0);if(ho(()=>{v.current=!1,f3(u,p),f.current=d}),h3(()=>{v.current=!0,p.clear(),c.clear()}),v.current)return _.createElement(_.Fragment,null,d.map(m=>_.createElement(Uu,{key:or(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));d=[...d];const x=f.current.map(or),S=u.map(or),y=x.length;for(let m=0;m<y;m++){const g=x[m];S.indexOf(g)===-1&&!c.has(g)&&c.set(g,void 0)}return o==="wait"&&c.size&&(d=[]),c.forEach((m,g)=>{if(S.indexOf(g)!==-1)return;const w=p.get(g);if(!w)return;const C=x.indexOf(g);let E=m;if(!E){const b=()=>{c.delete(g);const k=Array.from(p.keys()).filter(D=>!S.includes(D));if(k.forEach(D=>p.delete(D)),f.current=u.filter(D=>{const I=or(D);return I===g||k.includes(I)}),!c.size){if(a.current===!1)return;l(),r&&r()}};E=_.createElement(Uu,{key:or(w),isPresent:!1,onExitComplete:b,custom:t,presenceAffectsLayout:s,mode:o},w),c.set(g,E)}d.splice(C,0,E)}),d=d.map(m=>{const g=m.key;return c.has(g)?m:_.createElement(Uu,{key:or(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),_.createElement(_.Fragment,null,c.size?d:d.map(m=>_.cloneElement(m)))};function m3(e){const t=go(()=>It(e)),{isStatic:n}=_.useContext(df);if(n){const[,r]=_.useState(e);_.useEffect(()=>t.on("change",r),[])}return t}const g3=e=>e&&typeof e=="object"&&e.mix,v3=e=>g3(e)?e.mix:void 0;function y3(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],s=e[2+n],o=e[3+n],l=Ua(i,s,{mixer:v3(s[0]),...o});return t?l(r):l}function g1(e,t){const n=m3(t()),r=()=>n.set(t());return r(),ho(()=>{const i=()=>Q.update(r,!1,!0),s=e.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Lt(r)}}),n}function x3(e){ys.current=[],e();const t=g1(ys.current,e);return ys.current=void 0,t}function rl(e,t,n,r){if(typeof e=="function")return x3(e);const i=typeof t=="function"?t:y3(t,n,r);return Array.isArray(e)?Qg(e,i):Qg([e],([s])=>i(s))}function Qg(e,t){const n=go(()=>[]);return g1(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function _3(e,t,n){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const il=new WeakMap;let mn;function w3(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function S3({target:e,contentRect:t,borderBoxSize:n}){var r;(r=il.get(e))===null||r===void 0||r.forEach(i=>{i({target:e,contentSize:t,get size(){return w3(e,n)}})})}function C3(e){e.forEach(S3)}function E3(){typeof ResizeObserver>"u"||(mn=new ResizeObserver(C3))}function k3(e,t){mn||E3();const n=_3(e);return n.forEach(r=>{let i=il.get(r);i||(i=new Set,il.set(r,i)),i.add(t),mn==null||mn.observe(r)}),()=>{n.forEach(r=>{const i=il.get(r);i==null||i.delete(t),i!=null&&i.size||mn==null||mn.unobserve(r)})}}const sl=new Set;let ws;function b3(){ws=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};sl.forEach(n=>n(t))},window.addEventListener("resize",ws)}function T3(e){return sl.add(e),ws||b3(),()=>{sl.delete(e),!sl.size&&ws&&(ws=void 0)}}function N3(e,t){return typeof e=="function"?T3(e):k3(e,t)}const P3=50,Xg=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),I3=()=>({time:0,x:Xg(),y:Xg()}),R3={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Zg(e,t,n,r){const i=n[t],{length:s,position:o}=R3[t],l=i.current,a=n.time;i.current=e["scroll"+o],i.scrollLength=e["scroll"+s]-e["client"+s],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=wi(0,i.scrollLength,i.current);const u=r-a;i.velocity=u>P3?0:Tf(i.current-l,u)}function A3(e,t,n){Zg(e,"x",t,n),Zg(e,"y",t,n),t.time=n}function j3(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const D3={All:[[0,0],[1,1]]},wd={start:0,center:.5,end:1};function Jg(e,t,n=0){let r=0;if(wd[e]!==void 0&&(e=wd[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),n+r}const M3=[0,0];function L3(e,t,n,r){let i=Array.isArray(e)?e:M3,s=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,wd[e]?e:"0"]),s=Jg(i[0],n,r),o=Jg(i[1],t),s-o}const O3={x:0,y:0};function F3(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function V3(e,t,n){let{offset:r=D3.All}=n;const{target:i=e,axis:s="y"}=n,o=s==="y"?"height":"width",l=i!==e?j3(i,e):O3,a=i===e?{width:e.scrollWidth,height:e.scrollHeight}:F3(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const c=r.length;for(let f=0;f<c;f++){const p=L3(r[f],u[o],a[o],l[s]);!d&&p!==t[s].interpolatorOffsets[f]&&(d=!0),t[s].offset[f]=p}d&&(t[s].interpolate=Ua(t[s].offset,B_(r)),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=t[s].interpolate(t[s].current)}function z3(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function B3(e,t,n,r={}){return{measure:()=>z3(e,r.target,n),update:i=>{A3(e,n,i),(r.offset||r.target)&&V3(e,n,r)},notify:()=>t(n)}}const Qi=new WeakMap,ev=new WeakMap,Wu=new WeakMap,tv=e=>e===document.documentElement?window:e;function U3(e,{container:t=document.documentElement,...n}={}){let r=Wu.get(t);r||(r=new Set,Wu.set(t,r));const i=I3(),s=B3(t,e,i,n);if(r.add(s),!Qi.has(t)){const l=()=>{for(const f of r)f.measure()},a=()=>{for(const f of r)f.update(Me.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{Q.read(l,!1,!0),Q.read(a,!1,!0),Q.update(u,!1,!0)};Qi.set(t,d);const c=tv(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&ev.set(t,N3(t,d)),c.addEventListener("scroll",d,{passive:!0})}const o=Qi.get(t);return Q.read(o,!1,!0),()=>{var l;Lt(o);const a=Wu.get(t);if(!a||(a.delete(s),a.size))return;const u=Qi.get(t);Qi.delete(t),u&&(tv(t).removeEventListener("scroll",u),(l=ev.get(t))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function nv(e,t){nP(!!(!t||t.current))}const W3=()=>({scrollX:It(0),scrollY:It(0),scrollXProgress:It(0),scrollYProgress:It(0)});function v1({container:e,target:t,layoutEffect:n=!0,...r}={}){const i=go(W3);return(n?ho:_.useEffect)(()=>(nv("target",t),nv("container",e),U3(({x:o,y:l})=>{i.scrollX.set(o.current),i.scrollXProgress.set(o.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(r.offset)]),i}var H3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G3=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...a},u)=>_.createElement("svg",{ref:u,...H3,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${$3(e)}`,...a},[...t.map(([d,c])=>_.createElement(d,c)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var Z=G3;const K3=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Y3=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),q3=Z("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),Sd=Z("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Cd=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Q3=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),X3=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y1=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Z3=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),J3=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Xr=Z("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),eA=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),tA=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),nA=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),rA=Z("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),iA=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),sA=Z("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),rv=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),x1=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),oA=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),lA=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),aA=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),uA=Z("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),cA=Z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),dA=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hA=Z("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Ed=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fA=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),pA=Z("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),na=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mA=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=Ni();_.useEffect(()=>{const o=()=>t(window.scrollY>50);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{to:"/",label:"Home"},{to:"/memories",label:"Memories"},{to:"/guestbook",label:"Guestbook"},{to:"/moments-wall",label:"Moments Wall"},{to:"/admin",label:"Admin"}];return _.useEffect(()=>{r(!1)},[i]),h.jsxs(h.Fragment,{children:[h.jsx(P.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"glass-dark backdrop-blur-xl shadow-lg":"bg-transparent"}`,children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsx(yu,{to:"/",className:"flex items-center space-x-2",children:h.jsx(P.span,{className:"font-pacifico text-2xl text-lavender-200 neon-text",whileHover:{scale:1.1},children:"Perlindor"})}),h.jsx("div",{className:"hidden md:flex items-center space-x-8",children:s.map(o=>h.jsx(yu,{to:o.to,className:`nav-link font-semibold ${i.pathname===o.to?"text-mint-200 neon-text":"text-lavender-100 hover:text-mint-200"}`,children:o.label},o.to))}),h.jsx("button",{onClick:()=>r(!n),className:"md:hidden text-lavender-200 hover:text-mint-200 transition-colors",children:n?h.jsx(na,{size:28}):h.jsx(tA,{size:28})})]})})}),h.jsx(qg,{children:n&&h.jsx(P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20},className:"fixed top-16 right-0 bottom-0 w-64 glass-dark backdrop-blur-xl z-40 md:hidden border-l border-lavender-200/20",children:h.jsx("div",{className:"flex flex-col p-6 space-y-6",children:s.map(o=>h.jsx(yu,{to:o.to,className:`font-nunito font-semibold text-lg nav-link ${i.pathname===o.to?"text-mint-200":"text-lavender-100 hover:text-mint-200"}`,children:o.label},o.to))})})}),h.jsx(qg,{children:n&&h.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/60 z-30 md:hidden"})})]})},gA=()=>{var a,u,d;const{data:e}=co(),[t,n]=_.useState("lead"),r=_.useRef(null),{scrollY:i}=v1(),s=rl(i,[0,300],[1,.7]),o=rl(i,[0,300],[0,-100]),l=rl(i,[0,300],[1,0]);return h.jsxs("div",{className:"min-h-screen",children:[h.jsxs("section",{ref:r,className:"relative h-screen flex items-center justify-center overflow-hidden",children:[h.jsxs(P.div,{style:{scale:s,y:o,opacity:l},className:"text-center z-10 px-4",children:[h.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1,type:"spring"},className:"mb-8",children:h.jsxs("div",{className:"relative inline-block",children:[h.jsx("img",{src:(a=e.siteSettings)==null?void 0:a.logoUrl,alt:"Logo",className:"w-40 h-40 md:w-56 md:h-56 object-contain rounded-full",style:{filter:"drop-shadow(0 0 30px rgba(201, 167, 245, 0.8))"}}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-lavender via-pink to-mint opacity-30"})]})}),h.jsx(P.h1,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.8},className:"font-baloo text-6xl md:text-8xl font-bold text-lavender mb-4",style:{textShadow:"0 0 20px rgba(201, 167, 245, 0.8), 0 0 40px rgba(201, 167, 245, 0.6)"},children:((u=e.siteSettings)==null?void 0:u.siteName)||"Purple Aurora Memories"}),h.jsx(P.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"font-pacifico text-2xl md:text-3xl text-mint mb-8",children:((d=e.siteSettings)==null?void 0:d.tagline)||"Where Dreams Shine Bright "}),h.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring",stiffness:100},children:h.jsxs(P.button,{whileHover:{scale:1.03,boxShadow:"0 0 15px rgba(201, 167, 245, 0.5)"},whileTap:{scale:.99},onClick:()=>window.scrollTo({top:window.innerHeight,behavior:"smooth"}),className:"relative px-6 py-3 rounded-full font-nunito font-semibold text-base text-lavender transition-all duration-200 overflow-hidden",style:{background:"rgba(201, 167, 245, 0.08)",border:"1px solid rgba(201, 167, 245, 0.3)",backdropFilter:"blur(6px)"},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-lavender/5 to-pink/5 opacity-0 hover:opacity-100 transition-opacity duration-200 rounded-full"}),h.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-1.5",children:["Explore Our Journey",h.jsx(P.span,{animate:{x:[0,2,0]},transition:{duration:1.5,repeat:1/0},className:"inline-block text-lg",children:""})]})]})})]}),h.jsx(P.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10",children:h.jsx("div",{className:"text-lavender/50 text-2xl",children:""})})]}),h.jsx("section",{id:"members",className:"py-20 px-4 relative",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h2",{className:"font-fredoka text-5xl font-bold text-lavender mb-4 flex items-center justify-center gap-3",style:{textShadow:"0 0 15px rgba(201, 167, 245, 0.5), 0 0 30px rgba(201, 167, 245, 0.3)"},children:[h.jsx(fA,{className:"text-pink",size:48}),"Our Amazing Team"]}),h.jsx("p",{className:"font-nunito text-xl text-mint",children:"The stars behind the magic"})]}),h.jsxs(P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex justify-center mb-12 gap-4",children:[h.jsxs("button",{onClick:()=>n("lead"),className:`px-8 py-3 rounded-full font-nunito font-bold text-lg transition-all duration-300 relative overflow-hidden ${t==="lead"?"border-2 border-lavender shadow-lg shadow-lavender/50":"glass border-2 border-transparent hover:border-lavender/30"}`,children:[t==="lead"&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-lavender/20 to-pink/20 blur-sm"}),h.jsx("span",{className:`relative z-10 ${t==="lead"?"text-lavender":"text-lavender/80"}`,children:" Leaders"})]}),h.jsxs("button",{onClick:()=>n("member"),className:`px-8 py-3 rounded-full font-nunito font-bold text-lg transition-all duration-300 relative overflow-hidden ${t==="member"?"border-2 border-pink shadow-lg shadow-pink/50":"glass border-2 border-transparent hover:border-pink/30"}`,children:[t==="member"&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink/20 to-lavender/20 blur-sm"}),h.jsx("span",{className:`relative z-10 ${t==="member"?"text-pink":"text-pink/80"}`,children:" Members"})]})]}),h.jsx(P.div,{initial:{opacity:0,x:t==="lead"?-50:50},animate:{opacity:1,x:0},exit:{opacity:0,x:t==="lead"?50:-50},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.members.filter(c=>c.role===t).map((c,f)=>h.jsxs(P.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1,duration:.5},whileHover:{scale:1.05,rotate:2},className:"glass rounded-3xl p-6 text-center relative overflow-hidden group blur-shadow",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lavender/10 to-pink/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx(P.div,{whileHover:{scale:1.1},transition:{duration:.3},className:"relative mb-4 mx-auto w-24 h-24",children:c.avatarUrl?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:c.avatarUrl,alt:c.name,className:"w-full h-full object-cover rounded-full border-4 border-lavender/30 shadow-lg"}),h.jsx("div",{className:`absolute -bottom-2 -right-2 w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg ${c.role==="lead"?"bg-gradient-to-r from-yellow-400 to-amber-500 border-2 border-amber-300":"bg-gradient-to-r from-pink-400 to-purple-500 border-2 border-pink-300"}`,children:c.role==="lead"?"":""}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-lavender/30 to-pink/30 blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):h.jsx(P.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-7xl mb-4",children:c.avatar})}),h.jsx("h3",{className:"font-fredoka text-2xl font-bold text-lavender mb-2",children:c.name}),h.jsxs("p",{className:"font-pacifico text-lg text-pink mb-4",children:['"',c.nickname,'"']}),h.jsx("p",{className:"font-nunito text-sm text-mint",children:c.funFact})]}),h.jsx(P.div,{animate:{y:[-10,10,-10],x:[-5,5,-5]},transition:{duration:3,repeat:1/0},className:"absolute top-2 right-2 text-2xl",children:""})]},c.id))},t)]})}),h.jsx("section",{id:"story",className:"py-20 px-4 relative",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsx(P.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"glass rounded-3xl overflow-hidden blur-shadow",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[h.jsxs(P.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"relative rounded-2xl overflow-hidden group",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=600",alt:"Our Story",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lavender/30 to-pink/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),h.jsxs(P.div,{initial:{opacity:0,x:100},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"flex flex-col justify-center",children:[h.jsxs("h2",{className:"font-fredoka text-4xl font-bold text-lavender mb-6 flex items-center gap-3",style:{textShadow:"0 0 10px rgba(201, 167, 245, 0.5)"},children:[h.jsx(q3,{className:"text-mint",size:40}),"Our Story"]}),h.jsx("p",{className:"font-nunito text-lg text-mint leading-relaxed mb-4",children:"Born from a shared dream and unstoppable passion, Purple Aurora Memories is more than a teamit's a family bound by creativity, determination, and the magic of friendship."}),h.jsx("p",{className:"font-nunito text-lg text-pink leading-relaxed mb-4",children:"From late-night brainstorming sessions to celebrating our biggest victories, every moment has been a chapter in our incredible journey together."}),h.jsx("p",{className:"font-nunito text-lg text-neonYellow leading-relaxed",children:"We believe in the power of collaboration, the beauty of diversity, and the magic that happens when passionate people come together to create something extraordinary. "})]})]})})})}),h.jsx("section",{id:"achievements",className:"py-20 px-4 relative",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h2",{className:"font-fredoka text-5xl font-bold text-lavender mb-4 flex items-center justify-center gap-3",style:{textShadow:"0 0 15px rgba(201, 167, 245, 0.5), 0 0 30px rgba(201, 167, 245, 0.3)"},children:[h.jsx(Y3,{className:"text-neonYellow",size:48}),"Our Achievements"]}),h.jsx("p",{className:"font-nunito text-xl text-mint",children:"Celebrating excellence and milestones"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.achievements.map((c,f)=>h.jsxs(P.div,{initial:{opacity:0,scale:.8,y:50},whileInView:{opacity:1,scale:1,y:0},viewport:{once:!0},transition:{delay:f*.1,duration:.5},whileHover:{scale:1.1,rotate:5},className:"relative group",children:[h.jsx("div",{className:"absolute -inset-0.5 border-4 border-neonYellow rounded-3xl opacity-70 group-hover:opacity-100 group-hover:border-8 transition-all duration-300",style:{filter:"drop-shadow(0 0 10px rgba(255, 228, 122, 0.8))"}}),h.jsxs("div",{className:"relative glass rounded-3xl p-6 text-center overflow-hidden blur-shadow bg-dark/90 backdrop-blur-xl",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),h.jsx(P.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:`text-7xl mb-4 text-${c.color}`,children:c.icon}),h.jsx("h3",{className:"font-fredoka text-2xl font-bold text-lavender mb-2",children:c.title}),h.jsx("p",{className:`font-nunito text-sm font-bold text-${c.color} ${c.color==="neonYellow"?"animate-pulse":""}`,children:c.category}),h.jsx(P.div,{animate:{opacity:[.3,1,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-2 right-2 text-2xl",children:""}),[...Array(4)].map((p,v)=>h.jsx(P.div,{animate:{y:[-5,5,-5],x:[-3,3,-3],rotate:[0,180,360]},transition:{duration:3+v,repeat:1/0,delay:v*.5},className:`absolute text-xl text-${c.color} ${v===0?"top-1 left-4":v===1?"top-1 right-4":v===2?"bottom-1 left-4":"bottom-1 right-4"}`,children:""},v))]})]},c.id))})]})})]})},vA=()=>{const{data:e}=co(),t=_.useRef(null),{scrollYProgress:n}=v1({target:t}),r=i=>{var s,o;return i?i.includes("youtu.be/")?`https://www.youtube.com/embed/${(s=i.split("youtu.be/")[1])==null?void 0:s.split("?")[0]}?rel=0&modestbranding=1`:i.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${(o=i.split("v=")[1])==null?void 0:o.split("&")[0]}?rel=0&modestbranding=1`:i:""};return h.jsx("div",{ref:t,className:"min-h-screen pt-24 px-4 pb-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[h.jsxs("h1",{className:"font-baloo text-5xl md:text-6xl font-bold text-lavender-200 mb-4 flex items-center justify-center gap-3",children:[h.jsx(Z3,{className:"text-pink-200",size:60}),"Khonh Khc ng Nh"]}),h.jsx("p",{className:"font-pacifico text-2xl text-mint-200",children:"Hnh trnh ca chng ti c lu gi "})]}),h.jsxs("section",{className:"mb-20",children:[h.jsx(P.h2,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"section-header mb-12 text-center",children:" Th Vin nh"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.gallery.map((i,s)=>{const o=rl(n,[0,1],[0,-50*(s%3)]);return h.jsxs(P.div,{style:{y:o},initial:{opacity:0,scale:.8,rotateZ:Math.random()*20-10},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:s*.1,duration:.6},className:"relative group",children:[h.jsxs(P.div,{whileHover:{scale:1.05,rotate:0,boxShadow:"0 0 40px rgba(201, 167, 245, 0.8)"},className:"polaroid glass cursor-pointer",children:[h.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[h.jsx("img",{src:i.url,alt:i.caption,className:"w-full h-64 object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lavender/30 via-pink/30 to-mint/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),h.jsx("p",{className:"font-pacifico text-center text-midnight mt-3 text-lg",children:i.caption})]}),h.jsx(P.div,{animate:{y:[-5,5,-5],rotate:[-5,5,-5]},transition:{duration:3,repeat:1/0},className:"absolute -top-4 -right-4 text-4xl filter drop-shadow-lg z-10",children:["","","","","",""][s%6]})]},i.id)})})]}),h.jsxs("section",{className:"mb-20",children:[h.jsx(P.h2,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"section-header mb-12 text-center",children:" Video Highlights"}),e.videos.length>0?h.jsx("div",{className:"relative",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.videos.map((i,s)=>h.jsxs(P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},className:"group relative",children:[h.jsxs("div",{className:"glass-dark rounded-xl p-4 blur-shadow h-full flex flex-col hover:shadow-lg hover:shadow-lavender/20 transition-all duration-300",children:[h.jsx("h3",{className:"font-fredoka text-lg text-lavender-50 mb-3 text-center line-clamp-2 min-h-[3rem] flex items-center justify-center",children:i.title}),h.jsx("div",{className:"relative rounded-lg overflow-hidden bg-dark-lighter flex-grow",children:h.jsx("div",{className:"aspect-video relative",children:h.jsx("iframe",{src:r(i.url),title:i.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full absolute inset-0",style:{border:"none"},loading:"lazy",frameBorder:"0"})})})]}),h.jsx(P.div,{animate:{y:[-3,3,-3],rotate:[-8,8,-8]},transition:{duration:4,repeat:1/0},className:"absolute -top-2 -right-2 text-2xl opacity-70",children:["","",""][s%3]})]},i.id))})}):h.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[h.jsx("div",{className:"text-6xl mb-6 opacity-50",children:""}),h.jsx("h3",{className:"font-fredoka text-2xl text-lavender-100 mb-4",children:"Cha c video no"}),h.jsx("p",{className:"font-nunito text-lg text-mint-100",children:"Qun tr vin s thm video sm nht!"})]})]})]})})},yA=()=>{const{data:e,addItem:t,updateItem:n}=co(),[r,i]=_.useState({name:"",message:""}),s=l=>{l.preventDefault(),r.name&&r.message&&(t("guestbook",{...r,date:new Date().toISOString().split("T")[0],likes:0}),i({name:"",message:""}))},o=l=>{const a=e.guestbook.find(u=>u.id===l);n("guestbook",l,{likes:a.likes+1})};return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"text-center mb-12",children:[h.jsx("h1",{className:"font-baloo text-6xl font-bold text-lavender neon-text mb-4",children:" Guestbook"}),h.jsx("p",{className:"font-pacifico text-2xl text-mint",children:"Leave your mark on our journey"})]}),h.jsx(P.form,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},onSubmit:s,className:"glass rounded-3xl p-8 mb-12 blur-shadow",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Your Name ",value:r.name,onChange:l=>i({...r,name:l.target.value}),className:"w-full px-6 py-4 rounded-full glass border-2 border-lavender/30 focus:border-lavender bg-transparent text-lavender font-nunito text-lg outline-none transition-all duration-300"}),h.jsx("textarea",{placeholder:"Your Message ",value:r.message,onChange:l=>i({...r,message:l.target.value}),rows:"4",className:"w-full px-6 py-4 rounded-3xl glass border-2 border-lavender/30 focus:border-lavender bg-transparent text-lavender font-nunito text-lg outline-none resize-none transition-all duration-300"}),h.jsxs(P.button,{type:"submit",whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(201, 167, 245, 0.8)"},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-lavender to-pink text-midnight font-fredoka font-bold text-xl py-4 rounded-full flex items-center justify-center gap-3 shadow-lg shadow-lavender/50",children:[h.jsx(lA,{size:24}),"Send Message"]})]})}),h.jsx("div",{className:"space-y-6",children:e.guestbook.map((l,a)=>h.jsxs(P.div,{initial:{opacity:0,x:a%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:a*.1},className:"glass rounded-3xl p-6 relative overflow-hidden group blur-shadow",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lavender/10 via-pink/10 to-mint/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-pacifico text-2xl text-lavender",children:l.name}),h.jsx("p",{className:"font-nunito text-sm text-mint",children:l.date})]}),h.jsxs(P.button,{onClick:()=>o(l.id),whileHover:{scale:1.2},whileTap:{scale:.9},className:"flex items-center gap-2 text-pink",children:[h.jsx(y1,{size:24,fill:"currentColor"}),h.jsx("span",{className:"font-nunito font-bold",children:l.likes})]})]}),h.jsx("p",{className:"font-nunito text-lg text-mint leading-relaxed",children:l.message})]}),h.jsx(P.div,{animate:{y:[-5,5,-5],rotate:[-10,10,-10]},transition:{duration:4,repeat:1/0},className:"absolute bottom-4 right-4 text-3xl opacity-50",children:["","","",""][a%4]})]},l.id))})]})})},xA="0795b26a330113ad74c3529b022b93a1",kd=async e=>{if(console.log(" Admin uploading:",e.name),!e)throw new Error("Khng c file  upload.");const t=new FormData;t.append("image",e);try{const n=await fetch(`https://api.imgbb.com/1/upload?key=${xA}`,{method:"POST",body:t}),r=await n.json();if(!n.ok)throw new Error(`HTTP Error ${n.status}: ${r.error?r.error.message:n.statusText}`);if(r.success)return console.log(" Upload thnh cng:",r.data.url),{success:!0,url:r.data.url,thumb:r.data.thumb.url};throw new Error(r.error.message||"Upload failed by ImgBB server.")}catch(n){return console.error(" Upload failed:",n),{success:!0,url:URL.createObjectURL(e),isTemporary:!0,message:"Upload tht bi (Li: "+n.message+")"}}},bd=e=>{const n=["image/jpeg","image/png","image/webp","image/gif"];return e?e.size>33554432?{valid:!1,error:`Kch thc file qu ln. Ti a l ${Math.floor(33554432/(1024*1024))}MB.`}:n.includes(e.type)?{valid:!0}:{valid:!1,error:"nh dng file khng c h tr. Ch chp nhn JPG, PNG, GIF, WEBP."}:{valid:!1,error:"Vui lng chn mt tp tin."}},_A=()=>{const{data:e,addItem:t,updateItem:n}=co(),[r,i]=_.useState(!1),[s,o]=_.useState({image:"",caption:"",sticker:""}),[l,a]=_.useState(!1),[u,d]=_.useState(0),[c,f]=_.useState(null),[p,v]=_.useState(!1),[x,S]=_.useState(null),y=["","","","","","","","","",""],m=async E=>{const b=E.target.files[0];if(!b)return;const k=bd(b);if(!k.valid){alert(k.error);return}a(!0),d(0),f(null),S(null);const D=setInterval(()=>{d(I=>I>=90?(clearInterval(D),90):I+10)},300);try{const I=await kd(b);if(clearInterval(D),d(100),I.success)o(Y=>({...Y,image:I.url})),f({url:I.url,thumbnail:I.thumb||I.url,size:I.size,isTemporary:I.isTemporary||!1}),navigator.clipboard&&(navigator.clipboard.writeText(I.url),v(!0),setTimeout(()=>v(!1),3e3));else throw new Error("Upload khng thnh cng")}catch(I){console.error("Upload failed:",I),S("Upload tht bi: "+I.message);const Y=URL.createObjectURL(b);o(ce=>({...ce,image:Y})),f({url:Y,isTemporary:!0})}finally{a(!1),setTimeout(()=>d(0),1e3)}},g=E=>{if(E.preventDefault(),l){alert("Vui lng i nh upload xong!");return}s.image&&s.caption?(t("momentsWall",{...s,likes:0,comments:[]}),o({image:"",caption:"",sticker:""}),f(null),S(null),v(!1),i(!1),alert(" Moment  c thm thnh cng! ")):alert(" Vui lng upload nh v in ch thch!")},w=E=>{const b=e.momentsWall.find(k=>k.id===E);b&&n("momentsWall",E,{likes:b.likes+1})},C=()=>{o({image:"",caption:"",sticker:""}),f(null),S(null),d(0),v(!1)};return h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-20 relative z-10",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"text-center mb-12",children:[h.jsx("h1",{className:"font-baloo text-6xl font-bold text-lavender neon-text mb-4",children:" Moments Wall"}),h.jsx("p",{className:"font-pacifico text-2xl text-mint",children:"Our daily magic captured"})]}),h.jsx("div",{className:"flex justify-center mb-12",children:h.jsxs(P.button,{onClick:()=>{i(!r),r&&C()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass px-8 py-4 rounded-full font-fredoka font-bold text-xl text-lavender border-2 border-lavender hover:bg-lavender hover:text-midnight transition-all duration-300 flex items-center gap-3 relative z-20",children:[r?h.jsx(na,{size:24}):h.jsx(x1,{size:24}),r?"ng form":"Thm khonh khc mi"]})}),r&&h.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass rounded-3xl p-8 mb-12 blur-shadow relative z-20",children:[h.jsx("h2",{className:"font-fredoka text-3xl text-lavender mb-6 text-center",children:" Thm khonh khc mi"}),h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block font-nunito font-semibold text-mint mb-2",children:"nh khonh khc *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:m,disabled:l,className:"hidden",id:"moment-image-upload"}),h.jsx("label",{htmlFor:"moment-image-upload",className:`
                      flex items-center justify-center gap-3 w-full px-6 py-4 rounded-xl 
                      border-2 border-dashed cursor-pointer transition-all duration-300
                      ${l?"border-lavender bg-lavender/10 text-lavender":"border-lavender/40 hover:border-lavender hover:bg-lavender/5 text-lavender"}
                    `,children:l?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin",size:24}),h.jsxs("span",{className:"font-nunito",children:["ang upload... ",u,"%"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ed,{size:24}),h.jsx("span",{className:"font-nunito",children:s.image?"Chn nh khc":"Chn nh khonh khc"})]})}),l&&h.jsx("div",{className:"mt-3",children:h.jsx("div",{className:"h-2 bg-lavender/20 rounded-full overflow-hidden",children:h.jsx(P.div,{className:"h-full bg-gradient-to-r from-lavender to-pink",initial:{width:"0%"},animate:{width:`${u}%`},transition:{duration:.3}})})})]}),c&&h.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 rounded-lg bg-gradient-to-r from-lavender/10 to-pink/10 border border-lavender/20",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Sd,{className:"text-mint",size:20}),h.jsx("span",{className:"font-nunito font-bold text-mint",children:c.isTemporary?"nh tm thi":"Upload thnh cng!"}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.isTemporary?"bg-amber-500/20 text-amber-300":"bg-mint/20 text-mint"}`,children:c.isTemporary?"Ch hin th trn my ny":"Mi ngi u xem c"})]}),h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",readOnly:!0,value:c.url,className:"flex-1 px-3 py-2 rounded bg-dark/60 text-lavender text-sm truncate border border-lavender/20"}),h.jsxs("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(c.url),v(!0),setTimeout(()=>v(!1),2e3)},className:"px-3 py-2 rounded-lg bg-lavender/20 hover:bg-lavender/30 text-lavender font-nunito text-sm flex items-center gap-1 transition-colors",children:[h.jsx(Cd,{size:14}),"Copy"]})]})})]}),c.thumbnail&&h.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden border-2 border-lavender/30",children:h.jsx("img",{src:c.thumbnail,alt:"Preview",className:"w-full h-full object-cover"})})]})}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"font-nunito text-sm text-mint mb-2",children:"Hoc nhp URL nh:"}),h.jsx("input",{type:"url",value:s.image,onChange:E=>o({...s,image:E.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 rounded-lg border-2 border-lavender/30 focus:border-lavender bg-dark-lighter/80 text-lavender font-nunito outline-none placeholder:text-lavender/40 transition-all duration-300"})]}),x&&h.jsx("div",{className:"mt-3 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:h.jsxs("p",{className:"font-nunito text-sm text-red-300 flex items-center gap-2",children:[h.jsx(K3,{size:16}),x]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-nunito font-semibold text-mint mb-2",children:"Ch thch *"}),h.jsx("input",{type:"text",placeholder:"iu g c bit trong khonh khc ny? ",value:s.caption,onChange:E=>o({...s,caption:E.target.value}),className:"w-full px-6 py-4 rounded-lg glass border-2 border-lavender/30 focus:border-lavender bg-dark-lighter/80 text-lavender font-nunito text-lg outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-nunito font-semibold text-mint mb-2",children:"Chn sticker:"}),h.jsx("div",{className:"flex gap-3 flex-wrap justify-center",children:y.map(E=>h.jsx("button",{type:"button",onClick:()=>o({...s,sticker:E}),className:`text-4xl p-3 rounded-lg transition-all duration-200 ${s.sticker===E?"bg-lavender/30 transform scale-110 border-2 border-lavender":"hover:bg-lavender/10 border-2 border-transparent"}`,children:E},E))})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx(P.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:l||!s.image,className:`flex-1 bg-gradient-to-r from-lavender to-pink text-white font-fredoka font-bold text-xl py-4 rounded-full shadow-lg shadow-lavender/20 transition-all duration-300 hover:shadow-xl hover:shadow-lavender/30 ${l||!s.image?"opacity-50 cursor-not-allowed":""}`,children:l?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin inline mr-2",size:20}),"ang upload..."]}):"ng khonh khc "}),h.jsxs(P.button,{type:"button",onClick:C,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:l,className:"px-8 border-2 border-lavender/40 bg-lavender/10 text-lavender font-nunito font-bold py-4 rounded-full flex items-center gap-2 hover:bg-lavender/20 transition-all duration-300",children:[h.jsx(na,{size:20}),"Hy"]})]})]}),s.image&&h.jsxs("div",{className:"mt-8 pt-8 border-t border-lavender/20",children:[h.jsx("h3",{className:"font-nunito text-lavender mb-4 text-center font-bold",children:"Preview:"}),h.jsxs("div",{className:"glass rounded-2xl p-4 max-w-xs mx-auto",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg mb-4",children:[h.jsx("img",{src:s.image,alt:"Preview",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute top-2 right-2 text-4xl",children:s.sticker})]}),h.jsx("p",{className:"font-nunito text-lavender text-center",children:s.caption||"Your caption will appear here"})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.momentsWall&&e.momentsWall.length>0?e.momentsWall.slice().reverse().map((E,b)=>{var k;return h.jsxs(P.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:b*.1},whileHover:{y:-5},className:"glass rounded-3xl overflow-hidden blur-shadow group relative z-10",children:[h.jsxs("div",{className:"relative h-64 overflow-hidden",children:[h.jsx("img",{src:E.image,alt:E.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lavender/20 via-pink/20 to-mint/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(P.div,{animate:{rotate:[-5,5,-5],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},className:"absolute top-4 right-4 text-5xl filter drop-shadow-lg",children:E.sticker})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"font-nunito text-lg text-lavender mb-4",children:E.caption}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(P.button,{onClick:()=>w(E.id),whileHover:{scale:1.2},whileTap:{scale:.9},className:"flex items-center gap-2 text-pink",children:[h.jsx(y1,{size:24,fill:"currentColor"}),h.jsx("span",{className:"font-nunito font-bold",children:E.likes})]}),h.jsxs("div",{className:"flex items-center gap-2 text-mint",children:[h.jsx(nA,{size:24}),h.jsx("span",{className:"font-nunito font-bold",children:((k=E.comments)==null?void 0:k.length)||0})]})]})]})]},E.id)}):h.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"md:col-span-2 lg:col-span-3 glass rounded-3xl p-12 text-center",children:[h.jsx("div",{className:"text-8xl mb-6",children:""}),h.jsx("h3",{className:"font-fredoka text-3xl text-lavender mb-4",children:"Cha c khonh khc no"}),h.jsx("p",{className:"font-nunito text-lg text-mint mb-6",children:"Hy l ngi u tin chia s khonh khc c bit!"}),h.jsx(P.button,{onClick:()=>i(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass px-8 py-3 rounded-full text-lavender font-nunito font-bold border-2 border-lavender hover:bg-lavender hover:text-dark transition-all duration-300",children:"To khonh khc u tin"})]})})]})})},wA=()=>{var Ir,Xn,Ot,Ha;const{data:e,addItem:t,updateItem:n,deleteItem:r,updateSiteSettings:i}=co(),[s,o]=_.useState(()=>localStorage.getItem("adminLoggedIn")==="true"),[l,a]=_.useState(""),[u,d]=_.useState(!1),[c,f]=_.useState("members"),[p,v]=_.useState(!1),[x,S]=_.useState(null),[y,m]=_.useState({}),[g,w]=_.useState(!1),[C,E]=_.useState(0),[b,k]=_.useState(null),[D,I]=_.useState(!1),[Y,ce]=_.useState(!1),[be,ae]=_.useState(0),[Te,X]=_.useState(null);_.useEffect(()=>{localStorage.setItem("adminLoggedIn",s.toString())},[s]),_.useEffect(()=>{if(s){const A=setTimeout(()=>{o(!1),localStorage.removeItem("adminLoggedIn"),alert("Phin ng nhp  ht hn. Vui lng ng nhp li.")},864e5);return()=>clearTimeout(A)}},[s]);const Ze=async(A,G="url")=>{const $e=A.target.files[0];if(!$e)return;const z=bd($e);if(!z.valid){alert(z.error);return}w(!0),E(0),k(null);const xe=setInterval(()=>{E(B=>B>=90?(clearInterval(xe),90):B+10)},300);try{const B=await kd($e);if(clearInterval(xe),E(100),B.success)m(hn=>({...hn,[G]:B.url})),k({url:B.url,thumbnail:B.thumb||B.url,size:B.size,isTemporary:B.isTemporary||!1}),navigator.clipboard&&(navigator.clipboard.writeText(B.url),I(!0),setTimeout(()=>I(!1),3e3));else throw new Error("Upload khng thnh cng")}catch(B){console.error("Upload failed:",B);const hn=URL.createObjectURL($e);m(_1=>({..._1,[G]:hn})),k({url:hn,isTemporary:!0})}finally{w(!1),setTimeout(()=>E(0),1e3)}},R=async A=>{const G=A.target.files[0];if(!G)return;const $e=bd(G);if(!$e.valid){alert($e.error);return}ce(!0),ae(0),X(null);const z=setInterval(()=>{ae(xe=>xe>=90?(clearInterval(z),90):xe+10)},300);try{const xe=await kd(G);if(clearInterval(z),ae(100),xe.success)m(B=>({...B,logoUrl:xe.url})),X({url:xe.url,thumbnail:xe.thumb||xe.url,size:xe.size,isTemporary:xe.isTemporary||!1}),navigator.clipboard&&(navigator.clipboard.writeText(xe.url),I(!0),setTimeout(()=>I(!1),3e3));else throw new Error("Upload logo khng thnh cng")}catch(xe){console.error("Upload logo failed:",xe);const B=URL.createObjectURL(G);m(hn=>({...hn,logoUrl:B})),X({url:B,isTemporary:!0})}finally{ce(!1),setTimeout(()=>ae(0),1e3)}},M=A=>{A.preventDefault(),l==="pld2025"?(o(!0),a(""),localStorage.setItem("adminLoginTime",Date.now().toString())):alert("Sai mt khu!")},V=()=>{o(!1),localStorage.removeItem("adminLoggedIn"),localStorage.removeItem("adminLoginTime")},F=A=>{c==="siteSettings"?(m(e.siteSettings||{}),v(!0),S(null),X(null)):(S(A.id),m(A),v(!0)),k(null)},te=A=>{A.preventDefault();try{c==="siteSettings"?(i(y),alert(" Ci t site  c cp nht!"),v(!1),k(null),X(null)):x?(n(c,x,y),alert("  cp nht thnh cng!"),S(null),v(!1),k(null)):(t(c,y),alert("  thm mi thnh cng!"),v(!1),k(null)),m({})}catch(G){alert(` Li: ${G.message}`)}},$t=()=>{c==="siteSettings"?(m(e.siteSettings||{}),X(null)):(S(null),m({})),v(!1),k(null)},pt=A=>{var G,$e;return A?A.includes("youtu.be/")?`https://www.youtube.com/embed/${(G=A.split("youtu.be/")[1])==null?void 0:G.split("?")[0]}?rel=0&modestbranding=1`:A.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${($e=A.split("v=")[1])==null?void 0:$e.split("&")[0]}?rel=0&modestbranding=1`:A:""},dn=A=>{var xe;const G=y[A.name]||"",$e=A.name.includes("url")||A.name.includes("image")||A.name.includes("avatar"),z=c==="videos";if(A.name==="logoUrl"&&c==="siteSettings")return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:R,disabled:Y,className:"hidden",id:"logo-upload",value:""}),h.jsx("label",{htmlFor:"logo-upload",className:`
                flex items-center justify-center gap-3 w-full px-6 py-4 rounded-xl 
                border-2 border-dashed cursor-pointer transition-all duration-300
                ${Y?"border-lavender-300 bg-lavender-300/10 text-lavender-300":"border-lavender-300/40 hover:border-lavender-300 hover:bg-lavender-300/5 text-lavender-300"}
              `,children:Y?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin",size:24}),h.jsxs("span",{className:"font-nunito",children:["ang upload logo... ",be,"%"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ed,{size:24}),h.jsx("span",{className:"font-nunito",children:y.logoUrl?"Chn logo khc":"Chn logo website"})]})}),Y&&h.jsx("div",{className:"mt-3",children:h.jsx("div",{className:"h-2 bg-lavender-300/20 rounded-full overflow-hidden",children:h.jsx(P.div,{className:"h-full bg-gradient-to-r from-lavender-300 to-pink-300",initial:{width:"0%"},animate:{width:`${be}%`},transition:{duration:.3}})})})]}),Te&&h.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-gradient-to-r from-lavender-300/10 to-pink-300/10 border border-lavender-300/20",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Sd,{className:"text-mint-300",size:20}),h.jsx("span",{className:"font-nunito font-bold text-mint-300",children:Te.isTemporary?"Logo tm thi":"Upload logo thnh cng!"}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Te.isTemporary?"bg-amber-500/20 text-amber-300":"bg-mint-300/20 text-mint-300"}`,children:Te.isTemporary?"Ch hin th trn my ny":"Mi ngi u xem c"})]}),h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",readOnly:!0,value:Te.url,className:"flex-1 px-3 py-2 rounded bg-dark/60 text-lavender-100 text-sm truncate border border-lavender-300/20"}),h.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(Te.url),I(!0),setTimeout(()=>I(!1),2e3)},className:"px-3 py-2 rounded-lg bg-lavender-300/20 hover:bg-lavender-300/30 text-lavender-300 font-nunito text-sm flex items-center gap-1 transition-colors",children:[h.jsx(Cd,{size:14}),"Copy"]})]})})]}),Te.thumbnail&&h.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden border-2 border-lavender-300/30",children:h.jsx("img",{src:Te.thumbnail,alt:"Logo preview",className:"w-full h-full object-cover"})})]})}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"font-nunito text-sm text-mint-200 mb-2",children:"Hoc nhp URL logo:"}),h.jsx("input",{type:"url",value:y.logoUrl||"",onChange:B=>m({...y,logoUrl:B.target.value}),placeholder:"https://example.com/logo.png",className:"w-full px-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none placeholder:text-lavender-300/40 transition-all duration-300"})]}),((xe=e.siteSettings)==null?void 0:xe.logoUrl)&&!y.logoUrl&&!Te&&h.jsxs("div",{className:"mt-4 p-4 rounded-lg bg-lavender-300/5 border border-lavender-300/20",children:[h.jsx("p",{className:"font-nunito text-sm text-mint-200 mb-2",children:"Logo hin ti:"}),h.jsx("img",{src:e.siteSettings.logoUrl,alt:"Current logo",className:"w-24 h-24 object-contain rounded-lg",onError:B=>{B.target.src="https://via.placeholder.com/100/1A0B3A/C9A7F5?text=Logo"}})]})]});if(z){if(A.name==="url")return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(J3,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-lavender-300/60",size:20}),h.jsx("input",{type:"url",value:G,onChange:B=>m({...y,[A.name]:B.target.value}),required:A.required,placeholder:"https://youtube.com/watch?v=... hoc https://youtu.be/...",className:"w-full pl-12 pr-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none placeholder:text-lavender-300/40 transition-all duration-300"})]}),G&&G.includes("youtube")&&h.jsxs("div",{className:"mt-4 p-4 rounded-lg bg-lavender-300/5 border border-lavender-300/20",children:[h.jsxs("p",{className:"font-nunito text-sm text-mint-200 mb-2 flex items-center gap-2",children:[h.jsx(pA,{size:16}),h.jsx("span",{className:"font-bold",children:"Preview:"})," Video s hin th nh bn di"]}),h.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-dark border border-lavender-300/20",children:h.jsx("iframe",{src:pt(G),title:"Video preview",className:"w-full h-full",allowFullScreen:!0,frameBorder:"0"})})]})]});if(A.name==="title")return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"relative",children:[h.jsx(hA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-lavender-300/60",size:20}),h.jsx("input",{type:"text",value:G,onChange:B=>m({...y,[A.name]:B.target.value}),required:A.required,placeholder:"Nhp tiu  video...",className:"w-full pl-12 pr-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none placeholder:text-lavender-300/40 transition-all duration-300"})]}),h.jsx("p",{className:"font-nunito text-xs text-lavender-300/60",children:"Tiu  s hin th pha trn video"})]})}if($e&&c!=="siteSettings")return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:B=>Ze(B,A.name),disabled:g,className:"hidden",id:`file-upload-${A.name}`,value:""}),h.jsx("label",{htmlFor:`file-upload-${A.name}`,className:`
                flex items-center justify-center gap-3 w-full px-6 py-4 rounded-xl 
                border-2 border-dashed cursor-pointer transition-all duration-300
                ${g?"border-lavender-300 bg-lavender-300/10 text-lavender-300":"border-lavender-300/40 hover:border-lavender-300 hover:bg-lavender-300/5 text-lavender-300"}
              `,children:g?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin",size:24}),h.jsxs("span",{className:"font-nunito",children:["ang upload... ",C,"%"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ed,{size:24}),h.jsx("span",{className:"font-nunito",children:G?"Chn nh khc":`Chn ${A.label.toLowerCase()}`})]})}),g&&h.jsx("div",{className:"mt-3",children:h.jsx("div",{className:"h-2 bg-lavender-300/20 rounded-full overflow-hidden",children:h.jsx(P.div,{className:"h-full bg-gradient-to-r from-lavender-300 to-pink-300",initial:{width:"0%"},animate:{width:`${C}%`},transition:{duration:.3}})})})]}),b&&h.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg bg-gradient-to-r from-lavender-300/10 to-pink-300/10 border border-lavender-300/20",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Sd,{className:"text-mint-300",size:20}),h.jsx("span",{className:"font-nunito font-bold text-mint-300",children:b.isTemporary?"nh tm thi":"Upload thnh cng!"}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b.isTemporary?"bg-amber-500/20 text-amber-300":"bg-mint-300/20 text-mint-300"}`,children:b.isTemporary?"Ch hin th trn my ny":"Mi ngi u xem c"})]}),h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",readOnly:!0,value:b.url,className:"flex-1 px-3 py-2 rounded bg-dark/60 text-lavender-100 text-sm truncate border border-lavender-300/20"}),h.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(b.url),I(!0),setTimeout(()=>I(!1),2e3)},className:"px-3 py-2 rounded-lg bg-lavender-300/20 hover:bg-lavender-300/30 text-lavender-300 font-nunito text-sm flex items-center gap-1 transition-colors",children:[h.jsx(Cd,{size:14}),"Copy"]})]})})]}),b.thumbnail&&h.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden border-2 border-lavender-300/30",children:h.jsx("img",{src:b.thumbnail,alt:"Preview",className:"w-full h-full object-cover"})})]})}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"font-nunito text-sm text-mint-200 mb-2",children:"Hoc nhp URL nh:"}),h.jsx("input",{type:"url",value:G,onChange:B=>m({...y,[A.name]:B.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none placeholder:text-lavender-300/40 transition-all duration-300"})]})]});if(A.type==="select")return h.jsxs("select",{value:G,onChange:B=>m({...y,[A.name]:B.target.value}),required:A.required,className:"w-full px-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none transition-all duration-300",children:[h.jsx("option",{value:"",className:"bg-dark",children:"Chn..."}),A.options.map(B=>h.jsx("option",{value:B.value,className:"bg-dark",children:B.label},B.value))]});if(A.type==="textarea")return h.jsx("textarea",{value:G,onChange:B=>m({...y,[A.name]:B.target.value}),required:A.required,rows:"4",className:"w-full px-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none resize-none placeholder:text-lavender-300/40 transition-all duration-300",placeholder:A.placeholder||`Nhp ${A.label.toLowerCase()}...`});{const B=A.type==="file"?"":G;return h.jsx("input",{type:A.type,value:B,onChange:hn=>m({...y,[A.name]:hn.target.value}),required:A.required,placeholder:A.placeholder||`Nhp ${A.label.toLowerCase()}...`,className:"w-full px-4 py-3 rounded-lg border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito outline-none placeholder:text-lavender-300/40 transition-all duration-300"})}},He=()=>{switch(c){case"siteSettings":return[{name:"logoUrl",label:"Logo Website",type:"file",required:!0,accept:"image/*"},{name:"siteName",label:"Tn Website",type:"text",required:!0,placeholder:"Nhp tn website..."},{name:"tagline",label:"Khu Hiu",type:"text",required:!0,placeholder:"Nhp khu hiu ca website..."}];case"members":return[{name:"name",label:"Tn thnh vin",type:"text",required:!0},{name:"nickname",label:"Bit danh",type:"text",required:!0},{name:"avatarUrl",label:"nh i din",type:"file",required:!0,accept:"image/*"},{name:"avatar",label:"Emoji (ty chn)",type:"text",placeholder:", , ..."},{name:"funFact",label:"iu th v",type:"text",required:!0},{name:"role",label:"Vai tr",type:"select",options:[{value:"lead",label:" Leader"},{value:"member",label:" Member"}],required:!0}];case"gallery":return[{name:"url",label:"nh",type:"file",required:!0,accept:"image/*"},{name:"caption",label:"Ch thch nh",type:"text",required:!0}];case"videos":return[{name:"url",label:"Link YouTube",type:"url",required:!0,placeholder:"https://youtube.com/watch?v=... hoc https://youtu.be/..."},{name:"title",label:"Tiu  video",type:"text",required:!0,placeholder:"Nhp tiu  video..."}];case"momentsWall":return[{name:"image",label:"nh khonh khc",type:"file",required:!0,accept:"image/*"},{name:"caption",label:"Ch thch",type:"text",required:!0},{name:"sticker",label:"Sticker emoji",type:"text",required:!0,placeholder:", , , ..."}];case"achievements":return[{name:"title",label:"Tiu  thnh tch",type:"text",required:!0},{name:"category",label:"Danh mc",type:"text",required:!0},{name:"icon",label:"Icon emoji",type:"text",required:!0,placeholder:", , , ..."},{name:"color",label:"Mu sc",type:"select",options:[{value:"lavender",label:" Lavender"},{value:"pink",label:" Pink"},{value:"mint",label:" Mint"},{value:"neonYellow",label:" Neon Yellow"}],required:!0}];case"guestbook":return[{name:"name",label:"Tn khch",type:"text",required:!0},{name:"message",label:"Li nhn",type:"textarea",required:!0}];default:return[]}},Gt=()=>{const A=He();return h.jsxs(P.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},onSubmit:te,className:"rounded-2xl p-6 mb-6 space-y-6 admin-edit-form-fix",children:[h.jsxs("h3",{className:"font-fredoka text-2xl text-lavender-100 mb-4 flex items-center gap-2",children:[h.jsx(iA,{size:24}),c==="siteSettings"?p?"Chnh sa ci t website":"Ci t website":x?"Chnh sa":"Thm mi"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(G=>h.jsxs("div",{className:G.type==="textarea"||G.type==="file"||G.type==="url"?"md:col-span-2":"",children:[h.jsxs("label",{className:"block font-nunito font-semibold text-mint-200 mb-2",children:[G.label," ",G.required?" *":""]}),dn(G)]},G.name))}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx(P.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 bg-gradient-to-r from-lavender-300 to-pink-300 text-dark font-nunito font-bold py-3 rounded-full flex items-center justify-center gap-2 shadow-lg shadow-lavender-300/20 transition-all duration-300 hover:shadow-xl hover:shadow-lavender-300/30",disabled:g||Y,children:Y?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin",size:20}),"ang upload logo..."]}):g?h.jsxs(h.Fragment,{children:[h.jsx(Xr,{className:"animate-spin",size:20}),"ang upload..."]}):h.jsxs(h.Fragment,{children:[h.jsx(oA,{size:20}),c==="siteSettings"?"Lu ci t":x?"Cp nht":"To mi"]})}),h.jsxs(P.button,{type:"button",onClick:$t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 border-2 border-lavender-300/40 bg-lavender-300/10 text-lavender-300 font-nunito font-bold py-3 rounded-full flex items-center gap-2 hover:bg-lavender-300/20 transition-all duration-300",disabled:g||Y,children:[h.jsx(na,{size:20}),"Hy"]})]}),D&&h.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center text-sm text-mint-300 animate-pulse",children:"  copy link nh vo clipboard"})]})},Wa=()=>{var A,G,$e;return c==="siteSettings"?h.jsxs("div",{className:"rounded-2xl p-6 border border-lavender-300/20 admin-content-fix",children:[h.jsx("div",{className:"text-center mb-6",children:h.jsxs("h3",{className:"font-fredoka text-2xl text-lavender-100 flex items-center justify-center gap-2",children:[h.jsx(aA,{size:24}),"Ci t website hin ti"]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"font-nunito text-mint-200 text-sm mb-3",children:"Logo website:"}),h.jsxs("div",{className:"inline-block relative",children:[h.jsx("img",{src:(A=e.siteSettings)==null?void 0:A.logoUrl,alt:"Logo",className:"w-40 h-40 object-contain rounded-full mx-auto border-4 border-lavender-300/30",onError:z=>{z.target.src="https://via.placeholder.com/200/1A0B3A/C9A7F5?text=No+Logo"}}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-lavender-300/10 to-pink-300/10"})]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"font-nunito text-mint-200 text-sm mb-2",children:"Tn website:"}),h.jsx("h4",{className:"font-baloo text-3xl font-bold text-lavender-50",children:(G=e.siteSettings)==null?void 0:G.siteName})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"font-nunito text-mint-200 text-sm mb-2",children:"Khu hiu:"}),h.jsx("p",{className:"font-pacifico text-2xl text-pink-100",children:($e=e.siteSettings)==null?void 0:$e.tagline})]}),h.jsx("div",{className:"mt-8 p-4 rounded-lg",style:{background:"rgba(201, 167, 245, 0.05)",border:"1px solid rgba(201, 167, 245, 0.2)"},children:h.jsx("p",{className:"font-nunito text-sm text-lavender-100 text-center",children:'Nhn nt "Chnh sa"  pha trn  thay i ci t website'})})]})]}):h.jsx("div",{className:"space-y-4",children:e[c]&&e[c].length>0?e[c].map((z,xe)=>h.jsxs("div",{className:"rounded-xl p-4 flex items-start justify-between gap-4 hover:bg-lavender-300/5 transition-all duration-300 border border-lavender-300/10 admin-content-fix",children:[h.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c==="members"&&z.avatarUrl?h.jsx("div",{className:"relative w-16 h-16 rounded-full overflow-hidden border-2 border-lavender-300/30",children:h.jsx("img",{src:z.avatarUrl,alt:z.name,className:"w-full h-full object-cover"})}):z.url||z.image?h.jsx("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border-2 border-lavender-300/30",children:h.jsx("img",{src:z.url||z.image,alt:"",className:"w-full h-full object-cover"})}):(z.avatar||z.icon||z.sticker)&&!z.url&&!z.image&&!z.avatarUrl?h.jsx("div",{className:"text-3xl text-lavender-300",children:z.avatar||z.icon||z.sticker}):null,h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-nunito font-bold text-lavender-50 text-lg",children:z.name||z.title||z.caption||"Khng c tiu "}),z.nickname&&h.jsxs("p",{className:"font-pacifico text-pink-200 text-sm mt-1",children:['"',z.nickname,'"']}),z.category&&h.jsx("p",{className:"font-nunito text-mint-200 text-sm mt-1",children:z.category}),h.jsx("p",{className:"font-nunito text-lavender-200 text-sm mt-2",children:z.funFact||z.description||z.message||"Khng c m t"}),c==="members"&&z.role&&h.jsx("span",{className:"inline-block mt-2 px-3 py-1 rounded-full text-xs font-nunito font-bold bg-lavender-300/20 text-lavender-300",children:z.role==="lead"?" Leader":" Member"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(P.button,{onClick:()=>F(z),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg border border-mint-300/20 text-mint-300 hover:bg-mint-300/10 transition-all duration-300",title:"Chnh sa",children:h.jsx(rv,{size:18})}),h.jsx(P.button,{onClick:()=>{window.confirm("Bn c chc mun xa mc ny?")&&r(c,z.id)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg border border-pink-300/20 text-pink-300 hover:bg-pink-300/10 transition-all duration-300",title:"Xa",children:h.jsx(dA,{size:18})})]})]},z.id||xe)):h.jsxs("div",{className:"text-center py-12 rounded-2xl border border-lavender-300/20 admin-content-fix",children:[h.jsx("div",{className:"text-5xl mb-4 opacity-50",children:c==="members"?"":c==="gallery"?"":c==="videos"?"":c==="momentsWall"?"":c==="achievements"?"":c==="guestbook"?"":""}),h.jsx("p",{className:"font-nunito text-lavender-100 text-lg",children:"Cha c mc no"}),h.jsx("p",{className:"font-nunito text-mint-200 text-sm mt-2",children:"Hy thm mi  bt u!"})]})})};return s?h.jsx("div",{className:"min-h-screen pt-24 px-4 pb-20 admin-modal-fix",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"text-center mb-12",children:[h.jsx("h1",{className:"font-baloo text-6xl font-bold text-lavender-50 mb-4",style:{textShadow:"0 0 20px rgba(201, 167, 245, 0.5)"},children:" Admin Dashboard"}),h.jsx("p",{className:"font-pacifico text-2xl text-mint-200",children:"Qun l mi th trn website "}),h.jsxs("div",{className:"mt-4 inline-flex items-center gap-4 p-3 rounded-full admin-content-fix",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-mint-300 animate-pulse"}),h.jsx("span",{className:"font-nunito text-sm text-mint-200",children:" ng nhp"})]}),h.jsx("button",{onClick:V,className:"text-xs px-3 py-1 rounded-full border border-lavender-300/40 bg-lavender-300/10 text-lavender-300 hover:bg-lavender-300/20 transition-colors",children:"ng xut"})]})]}),h.jsx("div",{className:"flex gap-3 mb-8 overflow-x-auto pb-2",children:[{id:"siteSettings",label:" Ci t",icon:""},{id:"members",label:" Thnh vin",icon:""},{id:"achievements",label:" Thnh tch",icon:""},{id:"gallery",label:" Gallery",icon:""},{id:"videos",label:" Videos",icon:""},{id:"guestbook",label:" Lu bt",icon:""},{id:"momentsWall",label:" Khonh khc",icon:""}].map(A=>h.jsxs("button",{onClick:()=>{f(A.id),v(!1),S(null),m({}),k(null),X(null),ce(!1),ae(0)},className:`px-6 py-3 rounded-full font-nunito font-bold whitespace-nowrap transition-all duration-300 border-2 admin-tab-active-fix ${c===A.id?"bg-gradient-to-r from-lavender-300/20 to-pink-300/10 border-lavender-300/30 shadow-lg shadow-lavender-300/10 text-lavender-50":"border-lavender-300/20 hover:border-lavender-300/40 text-lavender-200 bg-dark-lighter/50"}`,children:[h.jsx("span",{className:"mr-2",children:A.icon}),A.label]},A.id))}),h.jsxs("div",{className:"rounded-2xl p-6 blur-shadow border border-lavender-300/20 admin-content-fix",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"font-fredoka text-3xl font-bold text-lavender-50 admin-text-fix",style:{textShadow:"0 0 10px rgba(201, 167, 245, 0.3)"},children:c==="siteSettings"?" Ci t website":`${["","","","","",""][["members","achievements","gallery","videos","guestbook","momentsWall"].indexOf(c)]} ${c.charAt(0).toUpperCase()+c.slice(1)}`}),c!=="siteSettings"?h.jsxs(P.button,{onClick:()=>{v(!p),S(null),m({}),k(null)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3 rounded-full font-nunito font-bold flex items-center gap-2 shadow-lg border-2 admin-button-fix ${p?"bg-gradient-to-r from-pink-300 to-lavender-300 text-dark border-transparent":"bg-gradient-to-r from-lavender-300 to-pink-300 text-dark border-transparent"} transition-all duration-300 hover:shadow-xl hover:shadow-lavender-300/30`,children:[h.jsx(x1,{size:20}),p?"ng form":"Thm mi"]}):h.jsxs(P.button,{onClick:()=>{m(e.siteSettings||{}),v(!p),X(null)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3 rounded-full font-nunito font-bold flex items-center gap-2 shadow-lg border-2 admin-button-fix ${p?"bg-gradient-to-r from-pink-300 to-lavender-300 text-dark border-transparent":"bg-gradient-to-r from-lavender-300 to-pink-300 text-dark border-transparent"} transition-all duration-300 hover:shadow-xl hover:shadow-lavender-300/30`,children:[h.jsx(rv,{size:20}),p?"ng":"Chnh sa"]})]}),h.jsx("div",{className:"admin-form-container",children:p?Gt():Wa()})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[{label:"Thnh vin",value:((Ir=e.members)==null?void 0:Ir.length)||0,icon:"",color:"text-lavender-300"},{label:"Gallery",value:((Xn=e.gallery)==null?void 0:Xn.length)||0,icon:"",color:"text-pink-300"},{label:"Videos",value:((Ot=e.videos)==null?void 0:Ot.length)||0,icon:"",color:"text-mint-300"},{label:"Khonh khc",value:((Ha=e.momentsWall)==null?void 0:Ha.length)||0,icon:"",color:"text-yellow-300"}].map(A=>h.jsxs(P.div,{whileHover:{scale:1.05},className:"rounded-xl p-4 text-center border border-lavender-300/20 admin-content-fix",children:[h.jsx("div",{className:"text-3xl mb-2",children:A.icon}),h.jsx("div",{className:`text-2xl font-fredoka font-bold ${A.color}`,children:A.value}),h.jsx("div",{className:"font-nunito text-sm text-lavender-200 mt-1",children:A.label})]},A.label))})]})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 admin-modal-fix",children:h.jsxs(P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"rounded-3xl p-8 max-w-md w-full blur-shadow border border-lavender-300/20 admin-form-fix",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(P.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-4 text-lavender-300",children:""}),h.jsx("h2",{className:"font-baloo text-4xl font-bold text-lavender-50 mb-2",children:"Admin Login"}),h.jsx("p",{className:"font-nunito text-mint-200",children:"Nhp mt khu  vo Admin Panel"})]}),h.jsxs("form",{onSubmit:M,className:"space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:u?"text":"password",placeholder:"Nhp mt khu ",value:l,onChange:A=>a(A.target.value),className:"w-full px-6 py-4 rounded-full border-2 border-lavender-300/30 focus:border-lavender-300 bg-dark-lighter/80 text-lavender-100 font-nunito text-lg outline-none pr-12 placeholder:text-lavender-300/40 transition-all duration-300 admin-input-fix"}),h.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-lavender-300/60 hover:text-lavender-300 transition-colors",children:u?h.jsx(Q3,{size:24}):h.jsx(X3,{size:24})})]}),h.jsxs(P.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-lavender-300 to-pink-300 text-dark font-fredoka font-bold text-xl py-4 rounded-full flex items-center justify-center gap-3 shadow-lg shadow-lavender-300/20 transition-all duration-300 hover:shadow-xl hover:shadow-lavender-300/30 admin-button-fix",children:[h.jsx(eA,{size:24}),"ng nhp"]})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-lavender-300/20",children:h.jsxs("p",{className:"font-nunito text-sm text-lavender-100 text-center",children:["Hello bn: ",h.jsx("code",{className:"bg-lavender-300/10 px-2 py-1 rounded text-lavender-300",children:":))"})]})})]})})},SA=()=>h.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0A041A] via-[#150735] to-[#0A041A] opacity-100"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1A0B3A]/80 via-transparent to-[#1A0B3A]/60"}),h.jsx(P.div,{className:"absolute -top-1/2 -left-1/2 w-full h-full rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(166, 123, 203, 0.9) 0%, rgba(138, 92, 185, 0.7) 40%, rgba(110, 61, 167, 0.5) 60%, transparent 80%)"},animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.3,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),h.jsx(P.div,{className:"absolute -bottom-1/2 -right-1/2 w-full h-full rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(201, 167, 245, 0.9) 0%, rgba(177, 133, 235, 0.7) 40%, rgba(153, 99, 225, 0.5) 60%, transparent 80%)"},animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.4,1],rotate:[0,-90,0]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),h.jsx(P.div,{className:"absolute top-1/2 left-1/2 w-3/4 h-3/4 rounded-full blur-3xl opacity-50",style:{background:"radial-gradient(circle, rgba(255, 184, 245, 0.8) 0%, rgba(217, 149, 225, 0.6) 40%, rgba(179, 114, 205, 0.4) 60%, transparent 80%)"},animate:{x:[-50,50,-50],y:[50,-50,50],scale:[1,1.2,1],rotate:[0,180,0]},transition:{duration:30,repeat:1/0,ease:"easeInOut"}}),h.jsx("div",{className:"absolute inset-0 bg-[#1A0B3A]/30"}),h.jsx("div",{className:"absolute inset-0 aurora-shimmer opacity-15"}),h.jsx("div",{className:"absolute inset-0",children:Array.from({length:80}).map((e,t)=>h.jsx(P.div,{className:"absolute w-[2px] h-[2px] bg-lavender-200 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[0,.8,0],scale:[0,1.5,0]},transition:{duration:Math.random()*4+2,repeat:1/0,delay:Math.random()*5}},t))})]}),CA=()=>{const[e,t]=_.useState([]);return _.useEffect(()=>{const r=[{emoji:"",size:"text-4xl",delay:0,duration:8},{emoji:"",size:"text-3xl",delay:1,duration:10},{emoji:"",size:"text-2xl",delay:2,duration:7},{emoji:"",size:"text-3xl",delay:.5,duration:9},{emoji:"",size:"text-4xl",delay:1.5,duration:11},{emoji:"",size:"text-5xl",delay:2.5,duration:12},{emoji:"",size:"text-3xl",delay:3,duration:8},{emoji:"",size:"text-2xl",delay:1,duration:9},{emoji:"",size:"text-3xl",delay:2,duration:10},{emoji:"",size:"text-4xl",delay:0,duration:8}].map(i=>({...i,initialX:typeof window<"u"?Math.random()*window.innerWidth:0,initialY:typeof window<"u"?Math.random()*window.innerHeight:0}));t(r)},[]),h.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:e.map((n,r)=>h.jsx(P.div,{className:`absolute ${n.size} filter blur-[0.5px] pointer-events-none`,initial:{x:n.initialX,y:n.initialY,opacity:.2,scale:.8},animate:{y:[n.initialY,typeof window<"u"?Math.random()*window.innerHeight:n.initialY,typeof window<"u"?Math.random()*window.innerHeight:n.initialY],x:[n.initialX,typeof window<"u"?Math.random()*window.innerWidth:n.initialX,typeof window<"u"?Math.random()*window.innerWidth:n.initialX],rotate:[0,180,360],opacity:[.1,.3,.1]},transition:{duration:n.duration,delay:n.delay,repeat:1/0,ease:"easeInOut"},children:n.emoji},r))})},EA=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(0),o=_.useRef(null),l=[{id:1,title:"Cn g p hn",src:"/music/cgdh.mp3"},{id:2,title:"V nh-en",src:"/music/vn.mp3"},{id:3,title:"i v nh-en",src:"/music/dvn.mp3"}],a=l[i];_.useEffect(()=>{o.current&&(o.current.volume=.7,o.current.onended=()=>{d()})},[]);const u=()=>{o.current&&(e?(o.current.pause(),r(!1)):(o.current.play(),r(!0)),t(!e))},d=()=>{const f=(i+1)%l.length;s(f),t(!0),r(!0)},c=()=>{const f=(i-1+l.length)%l.length;s(f),t(!0),r(!0)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[h.jsxs(P.div,{className:"relative flex items-center overflow-hidden",animate:{width:n?350:64,height:64,borderRadius:32},transition:{type:"spring",damping:25,stiffness:200},style:{background:e?"linear-gradient(135deg, rgba(168, 85, 247, 0.25) 0%, rgba(139, 92, 246, 0.2) 100%)":"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(139, 92, 246, 0.1) 100%)",backdropFilter:"blur(12px)",border:"1px solid rgba(168, 85, 247, 0.3)",boxShadow:e?"0 8px 32px rgba(168, 85, 247, 0.25)":"0 4px 20px rgba(168, 85, 247, 0.15)"},children:[h.jsxs(P.button,{onClick:u,className:"relative w-14 h-14 rounded-full ml-1 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:[h.jsx(P.div,{className:"absolute inset-0 rounded-full",animate:{background:e?"linear-gradient(135deg, #a855f7 0%, #8b5cf6 50%, #d946ef 100%)":"linear-gradient(135deg, #a855f7 0%, #8b5cf6 100%)",rotate:e?360:0},transition:{background:{duration:.3},rotate:{duration:8,repeat:e?1/0:0,ease:"linear"}}}),h.jsx("div",{className:"absolute inset-2 rounded-full bg-gray-900 flex items-center justify-center",children:e?h.jsx(sA,{size:18,className:"text-purple-300"}):h.jsx(rA,{size:18,className:"text-purple-300"})})]}),n&&h.jsxs(P.div,{className:"flex-1 flex items-center justify-between px-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("p",{className:"font-medium text-white truncate text-sm",children:a.title})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:c,className:"p-1.5 text-purple-300 hover:text-white transition-colors rounded-full hover:bg-purple-500/20",title:"Bi trc",children:h.jsx(uA,{size:16})}),h.jsx("button",{onClick:d,className:"p-1.5 text-purple-300 hover:text-white transition-colors rounded-full hover:bg-purple-500/20",title:"Bi tip",children:h.jsx(cA,{size:16})})]})]})]}),e&&h.jsx(P.div,{className:"absolute -inset-2 rounded-full pointer-events-none",initial:{opacity:0},animate:{opacity:[.3,.6,.3],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.3) 0%, rgba(168, 85, 247, 0) 70%)"}})]}),h.jsx("audio",{ref:o,src:a.src,preload:"metadata",onPlay:()=>{t(!0),r(!0)},onPause:()=>{t(!1),r(!1)}},a.id)]})};function kA(){return h.jsx(ZT,{children:h.jsx(qC,{children:h.jsxs("div",{className:"relative min-h-screen",children:[h.jsx(SA,{}),h.jsx(CA,{}),h.jsxs("div",{className:"relative z-10",children:[h.jsx(mA,{}),h.jsxs(UC,{children:[h.jsx(tr,{path:"/",element:h.jsx(gA,{})}),h.jsx(tr,{path:"/memories",element:h.jsx(vA,{})}),h.jsx(tr,{path:"/guestbook",element:h.jsx(yA,{})}),h.jsx(tr,{path:"/moments-wall",element:h.jsx(_A,{})}),h.jsx(tr,{path:"/admin",element:h.jsx(wA,{})}),h.jsx(tr,{path:"*",element:h.jsx(zC,{to:"/"})})]})]}),h.jsx(EA,{})]})})})}Hu.createRoot(document.getElementById("root")).render(h.jsx(ia.StrictMode,{children:h.jsx(kA,{})}));
